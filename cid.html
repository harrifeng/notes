<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2025-07-21 Mon 16:15 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>cid</title>
<meta name="author" content="harrifeng@outlook.com" />
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="src/readtheorg_theme/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="src/readtheorg_theme/css/readtheorg.css"/>
<script type="text/javascript" src="src/lib/js/jquery.min.js"></script>
<script type="text/javascript" src="src/lib/js/bootstrap.min.js"></script>
<script type="text/javascript" src="src/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="src/readtheorg_theme/js/readtheorg.js"></script>
<script>
  window.MathJax = {
    tex: {
      ams: {
        multlineWidth: '85%'
      },
      tags: 'ams',
      tagSide: 'right',
      tagIndent: '.8em'
    },
    chtml: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    svg: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    output: {
      font: 'mathjax-modern',
      displayOverflow: 'overflow'
    }
  };
</script>

<script
  id="MathJax-script"
  async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
</head>
<body>
<div id="content" class="content">
<h1 class="title">cid</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org6241350">1. Chapter 01: Cascade, specificity, and inheritance</a>
<ul>
<li><a href="#org77872be">1.1. The cascade</a>
<ul>
<li><a href="#orgf3bff06">1.1.1. Stylesheet origin</a></li>
<li><a href="#org21b96be">1.1.2. Inline styles</a></li>
<li><a href="#org79c50fd">1.1.3. Selector specificity</a></li>
<li><a href="#orga836008">1.1.4. Source order</a></li>
</ul>
</li>
<li><a href="#orgc678a06">1.2. Inheritance</a></li>
<li><a href="#org3a42db7">1.3. Special values</a>
<ul>
<li><a href="#orge4f50f2">1.3.1. The inherit keyword</a></li>
<li><a href="#org0e9406e">1.3.2. The initial keyword</a></li>
<li><a href="#orgc5b9e89">1.3.3. The unset keyword</a></li>
<li><a href="#org2f6e752">1.3.4. The revert keyword</a></li>
</ul>
</li>
<li><a href="#org68cb47d">1.4. Shorthand properties</a>
<ul>
<li><a href="#org1161977">1.4.1. Beware shorthands silently overriding other styles</a></li>
<li><a href="#org149e30e">1.4.2. Remember the order of shorthand values</a></li>
</ul>
</li>
<li><a href="#org82b243e">1.5. Progressive enhancement</a>
<ul>
<li><a href="#org0a2fd97">1.5.1. Using the cascade for progressive enhancement</a></li>
<li><a href="#org038b2ee">1.5.2. Progressively enhancing selectors</a></li>
<li><a href="#org8e0f4be">1.5.3. Feature queries using @supports()</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgec3353d">2. Chapter 02: Working with relative units</a>
<ul>
<li><a href="#orgece1fef">2.1. The power of relative units</a>
<ul>
<li><a href="#org3ce60bc">2.1.1. The rise of responsive design</a></li>
</ul>
</li>
<li><a href="#org96463ba">2.2. Ems and rems</a>
<ul>
<li><a href="#orgfa18243">2.2.1. Using ems to define font-size</a></li>
<li><a href="#org03a6279">2.2.2. Using rems for font-size</a></li>
</ul>
</li>
<li><a href="#org98eab75">2.3. Stop thinking in pixels</a>
<ul>
<li><a href="#org0e16a61">2.3.1. Setting a sane default font size</a></li>
<li><a href="#orgb2eaa74">2.3.2. Making the panel responsive</a></li>
<li><a href="#org78315e3">2.3.3. Resizing a single component</a></li>
</ul>
</li>
<li><a href="#org28f2dbb">2.4. Vieport-relative units</a>
<ul>
<li><a href="#org1a3e49f">2.4.1. Selecting from the newer viewpoint units</a></li>
</ul>
</li>
<li><a href="#org2fedaec">2.5. Unitless numbers and line-height</a></li>
<li><a href="#orgccdbfa6">2.6. Custom properties (aka CSS variables)</a>
<ul>
<li><a href="#orgaf0f83e">2.6.1. Changing custom properties dynamically</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org00abb5a">3. Chapter 03: Document flow and the box model</a>
<ul>
<li><a href="#org3ae23d5">3.1. Normal document flow</a>
<ul>
<li><a href="#org0992676">3.1.1. Centering content horizontally</a></li>
<li><a href="#org8c70776">3.1.2. Using logical proprties</a></li>
<li><a href="#org0736153">3.1.3. Adopting useful shorthand logical properties</a></li>
</ul>
</li>
<li><a href="#org58a1be7">3.2. The box model</a>
<ul>
<li><a href="#orgbfa4d2c">3.2.1. Avoiding magic numbers</a></li>
<li><a href="#org6129973">3.2.2. Adjusting the box model</a></li>
<li><a href="#orge453a16">3.2.3. Using universal border box sizing</a></li>
</ul>
</li>
<li><a href="#org61b1096">3.3. Element height</a>
<ul>
<li><a href="#org84dc235">3.3.1. Using alternatives to percentage-based heights</a></li>
<li><a href="#org355d385">3.3.2. Using min-height and max-height</a></li>
</ul>
</li>
<li><a href="#org7e6f084">3.4. Negative margins</a></li>
<li><a href="#org547ceca">3.5. Collapsed margins</a>
<ul>
<li><a href="#org00166a2">3.5.1. Collapsing between text</a></li>
<li><a href="#org0a558ef">3.5.2. Collapsing multiple margins</a></li>
<li><a href="#orgc4bee60">3.5.3. Collapsing outside a container</a></li>
</ul>
</li>
<li><a href="#orgaa19a85">3.6. Spacig elements within a container</a>
<ul>
<li><a href="#orgf24815e">3.6.1. Considering changing content</a></li>
<li><a href="#org23e0f77">3.6.2. Creating a more general solution</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org33dbf15">4. Chapter 4: Flexbox</a>
<ul>
<li><a href="#org13dd97b">4.1. Flexbox principles</a>
<ul>
<li><a href="#orgef25e5f">4.1.1. Building a bsic flex menu</a></li>
<li><a href="#orgdeb739b">4.1.2. Adding padding and spacing</a></li>
</ul>
</li>
<li><a href="#org58099f7">4.2. Flex item sizes</a>
<ul>
<li><a href="#org1b268b8">4.2.1. Flex basis</a></li>
<li><a href="#org883fb5a">4.2.2. Flex grow</a></li>
<li><a href="#org4ea4c16">4.2.3. Flex shrink</a></li>
<li><a href="#org2f5c9fc">4.2.4. Some practical examples</a></li>
</ul>
</li>
<li><a href="#orga698934">4.3. Flex direction</a>
<ul>
<li><a href="#org11fd1d0">4.3.1. Changing the flex direction</a></li>
<li><a href="#org84c09c1">4.3.2. Styling the login form</a></li>
</ul>
</li>
<li><a href="#orgda6aef5">4.4. Alignment, spacing, and other details</a>
<ul>
<li><a href="#org5ae1504">4.4.1. Understanding flex container properties</a></li>
<li><a href="#org8629fb3">4.4.2. Understanding flex item properties</a></li>
<li><a href="#org2feea56">4.4.3. Using alignment properties</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org1af1fb3">5. Chapter 5: Grid layout</a>
<ul>
<li><a href="#org9b02673">5.1. Building a basic grid</a></li>
<li><a href="#org2cb0f51">5.2. Anatomy of a grid</a>
<ul>
<li><a href="#orgaf1a525">5.2.1. Numbering grid lines</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-org6241350" class="outline-2">
<h2 id="org6241350"><span class="section-number-2">1.</span> Chapter 01: Cascade, specificity, and inheritance</h2>
<div class="outline-text-2" id="text-1">
<ul class="org-ul">
<li>CSS不同于软件开发世界中的诸多事物:
<ul class="org-ul">
<li>它并非传统意义上的编程语言,却需要抽象思维</li>
<li>它不完全是设计工具却需要创造力</li>
<li>它提供看似简单的声明式语法,但如果你参与过大型项目,就会明白它能演变成难以控制的复杂体系</li>
</ul></li>
<li>当你需要学习传统编程中的某项操作时,通常能明确该搜索什么(例如"如何在数组中查找x类型的元素?")</li>
<li>但使用CSS时,问题往往难以提炼成单一提问.即便能够提炼,答案也常是"视情况而定",实现目标的最佳方式往
往取决于你的特定约束条件,以及你希望如何精确处理各种边界情况</li>
<li>为了能够更好的学习,我们首先来总结一下常见的术语:
<ul class="org-ul">
<li><p>
下面这行css代码叫做declaration,一行declaration包含一个property(也就是下面的color)和一个value(也就是下面的black)
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #531ab6;">clolor</span>: <span style="color: #ffffff; background-color: #000000;">black</span>
</pre>
</div></li>
<li><p>
多个declaration包含在一个{}里面,就叫做declaration block,下例中的{}就是一个declaration block
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #721045;">body</span> <span style="color: #000000;">{</span>
    <span style="color: #531ab6;">color</span>: <span style="color: #ffffff; background-color: #000000;">black</span>;
    <span style="color: #531ab6;">font-family</span>: Helvetica;
<span style="color: #000000;">}</span>
</pre>
</div></li>
<li>每个declaration block前面还必须有一个selector,这个selector用来表示"后面的declaration block"将应用
于页面上的哪些元素.上例中的body,就是一个selector,它表示后面的declaration block会被应用于body</li>
<li>上面的selector和它后面的declaration block联合起来,叫一个ruleset.</li>
<li>ruleset的同义词是rule.但是这个名字很少使用.rule的复数形式rules用来泛指更多样式的组合</li>
<li>at-rules是指以'@'开头的语言结构,比如@import</li>
</ul></li>
<li>第一部分从CSS最根本的原理讲起:
<ul class="org-ul">
<li>层叠(cascade)</li>
<li>盒模型(box model)</li>
<li>多样的单位体系</li>
</ul></li>
<li>多数开发者都听说过层叠和盒模型的概念,他们了解像素单位,或许也听过"应该用em单位替代像素"的建议.但事
实是,这些主题蕴含的知识远不止于此&#x2013;对它们的浅显理解只能让你走这么远.</li>
<li>若想真正精通CSS,你必须首先深入掌握这些基础原理,并且是透彻地掌握</li>
<li>本书的目标是巩固读者的css知识体系和根基,所以我们会从基础原理讲起,回顾核心概念后,我们会对每个核心概念进行深入讨论</li>
</ul>
</div>
<div id="outline-container-org77872be" class="outline-3">
<h3 id="org77872be"><span class="section-number-3">1.1.</span> The cascade</h3>
<div class="outline-text-3" id="text-1-1">
<ul class="org-ul">
<li>本质上来说,css的核心就是用来声明rules(前面讲过,rules是泛指不同样式): 也就是,在不同条件下触发特定的样式效果:
<ul class="org-ul">
<li>当一个class被加到这个element的时候,应用这个style</li>
<li>当elementX是elementY的child的时候,应用那个style</li>
<li>浏览器会解析这些规则,并且确定各个规则的适用位置,最终通过渲染引擎将样式呈现到页面上</li>
</ul></li>
<li>虽然在小规模示例中,CSS规则的解析过程通常清晰明了,但随着样式表规模扩大或应用页面增多,代码复杂度可能迅速攀升.</li>
<li>CSS往往提供多种途径实现相同效果&#x2013;而根据所选方案的不同,当HTML结构变更或样式应用于不同页面时,结果可能截然不同</li>
<li>CSS开发的核心挑战,在于编写具备可预测性的规则.</li>
<li>实现(编写具备可预测性的规则)这一目标的首要步骤,是确切理解浏览器如何解析CSS规则:
<ul class="org-ul">
<li>每个规则本身可能简单明了,但当两条规则对同一元素的样式提供冲突信息时会发生什么?</li>
<li>你可能会发现某条规则未按预期生效&#x2013;因为另一条规则与其产生了冲突.</li>
<li>要准确预测规则行为,必须深入理解层叠机制(cascade)</li>
</ul></li>
<li>我们通过例子来展示下CSS ruleset的冲突如何解决
<ul class="org-ul">
<li><p>
下面是我们的html的例子,其中&lt;style&gt;和&lt;/style&gt;就是css需要写入的地方
</p>
<div class="org-src-container">
<pre class="src src-html">&lt;<span style="color: #531ab6;">!doctype</span> html&gt;
&lt;<span style="color: #721045;">head</span>&gt;
  &lt;<span style="color: #721045;">meta</span> <span style="color: #005e8b;">charset</span>=<span style="color: #3548cf;">"utf-8"</span> /&gt;
  &lt;<span style="color: #721045;">style</span>&gt;
    /* styles added in subsequent listings */
  &lt;/<span style="color: #721045;">style</span>&gt;
&lt;/<span style="color: #721045;">head</span>&gt;
&lt;<span style="color: #721045;">body</span>&gt;
  &lt;<span style="color: #721045;">header</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"page-header"</span>&gt;
    &lt;<span style="color: #721045;">h1</span> <span style="color: #005e8b;">id</span>=<span style="color: #3548cf;">"page-title"</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"title"</span>&gt;<span style="font-weight: bold; text-decoration: underline;">Wombat Coffee Roasters</span>&lt;/<span style="color: #721045;">h1</span>&gt;
    &lt;<span style="color: #721045;">nav</span>&gt;
      &lt;<span style="color: #721045;">ul</span> <span style="color: #005e8b;">id</span>=<span style="color: #3548cf;">"main-nav"</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"nav"</span>&gt;
        &lt;<span style="color: #721045;">li</span>&gt;&lt;<span style="color: #721045;">a</span> <span style="color: #005e8b;">href</span>=<span style="color: #3548cf;">"/"</span>&gt;Home&lt;/<span style="color: #721045;">a</span>&gt;&lt;/<span style="color: #721045;">li</span>&gt;
        &lt;<span style="color: #721045;">li</span>&gt;&lt;<span style="color: #721045;">a</span> <span style="color: #005e8b;">href</span>=<span style="color: #3548cf;">"/coffees"</span>&gt;Coffees&lt;/<span style="color: #721045;">a</span>&gt;&lt;/<span style="color: #721045;">li</span>&gt;
        &lt;<span style="color: #721045;">li</span>&gt;&lt;<span style="color: #721045;">a</span> <span style="color: #005e8b;">href</span>=<span style="color: #3548cf;">"/brewers"</span>&gt;Brewers&lt;/<span style="color: #721045;">a</span>&gt;&lt;/<span style="color: #721045;">li</span>&gt;
        &lt;<span style="color: #721045;">li</span>&gt;&lt;<span style="color: #721045;">a</span> <span style="color: #005e8b;">href</span>=<span style="color: #3548cf;">"/specials"</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"featured"</span>&gt;Specials&lt;/<span style="color: #721045;">a</span>&gt;&lt;/<span style="color: #721045;">li</span>&gt;
      &lt;/<span style="color: #721045;">ul</span>&gt;
    &lt;/<span style="color: #721045;">nav</span>&gt;
  &lt;/<span style="color: #721045;">header</span>&gt;
&lt;/<span style="color: #721045;">body</span>&gt;
</pre>
</div></li>
<li>我们的css需要修饰三个地方:
<ol class="org-ol">
<li>Wombat Coffe Roasters这个h1的title,class为title</li>
<li>class为nav的一系列navigation link</li>
<li>class为featured的navigation link(特殊的那个link)</li>
</ol></li>
<li><p>
我们先看一个ruleset冲突的例子,我们分别使用了tag, id selector和class selector三种方式来命中了我们的title
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #721045;">h1</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">font-family</span>: serif;
<span style="color: #000000;">}</span>

<span style="color: #721045;">#page-title</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">font-family</span>: sans-serif;
<span style="color: #000000;">}</span>

<span style="color: #721045;">.title</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">font-family</span>: monospace;
<span style="color: #000000;">}</span>
</pre>
</div></li>
<li>title不可能有三种字体,那么上面的代码运行后的结果是什么呢?答案是ID selector赢了,我们的title使用了
sans serif字体</li>
<li>这就是所谓的cascade的例子:在多个ruleset相互冲突的时候,决定哪个ruleset起作用.</li>
</ul></li>
<li>下面我们解析层叠规则.当声明冲突时,层叠会按 <b>以下顺序</b> 通过六个标准来判断多个冲突ruleset的优先级.
一旦某种标准解决了优先级问题,就退出,否则就继续使用下一个标准进行解决. 我们将逐一深入探讨这六个标准:
<ol class="org-ol">
<li>样式表来源(Stylesheet origin)&#x2013;样式来自何处.你的样式会与浏览器的默认样式共同应用</li>
<li>内联样式(Inline style)&#x2013;声明是通过HTML的style属性还是CSS选择器应用到元素上</li>
<li>层(Layer)&#x2013;样式可以定义在不同的层中,每层有不同的优先级</li>
<li>选择器特异性(Selector specificity)2&#x2013;哪些选择器会优先于其他选择器</li>
<li>作用域邻近性(Scope proximity)&#x2013;样式是否限定在DOM的某一部分</li>
<li>源码顺序(Source order)&#x2013;样式在样式表中声明的顺序</li>
</ol></li>
<li>注意,上面的六个标准可能会被!important所影响,我们后面会详细介绍</li>
<li>上面的例子技术使用了Selector specificty来进行解决的: ID selector的优先级更高</li>
<li>第3-Layer和第5-Scope proximity都是新加入到CSS的能够提供更加精确的层叠,我们会在第8,第9章详细介绍他们</li>
<li>接下来我们来介绍剩下的四个</li>
</ul>
</div>
<div id="outline-container-orgf3bff06" class="outline-4">
<h4 id="orgf3bff06"><span class="section-number-4">1.1.1.</span> Stylesheet origin</h4>
<div class="outline-text-4" id="text-1-1-1">
<ul class="org-ul">
<li>实时上,有三种stylesheet的来源,分别是:
<ul class="org-ul">
<li>author style,是在源代码添加的style,优先级最高</li>
<li>user-style,是在特定的浏览器插件或个别几种浏览器里面才能定义的style,很少被使用,优先级中等</li>
<li>user-agent style,是浏览器默认的style,优先级最低</li>
</ul></li>
<li>用户代理样式(user-agent styles)在不同浏览器中略有差异,但通常实现的功能相同:
<ul class="org-ul">
<li>标题(&lt;h1&gt; 到 &lt;h6&gt;)和段落(&lt;p&gt;)会被赋予上下外边距(margin)</li>
<li>列表(&lt;ol&gt; 和 &lt;ul&gt;)会被赋予左内边距(padding)</li>
<li>链接颜色和默认字体大小也会被设置</li>
</ul></li>
<li>用户代理样式(user-agent styles)设置的通常是您期望的默认效果,因此不会产生完全出乎意料的行为.不同现代
浏览器的最新版本中,这些样式往往保持高度一致.</li>
<li>若对某些属性的默认效果不满意,只需在自定义样式表中覆盖这些值即可
<ul class="org-ul">
<li><p>
图1-4就是user-agent style的设置
</p>

<div id="org3023f7e" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/1-4.png" alt="1-4.png" />
</p>
<p><span class="figure-number">Figure 1: </span>cid/1-4.png</p>
</div></li>
<li><p>
我们想对1-4进行一些改动,具体的改动后,效果
</p>

<div id="org40b0961" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/1-5.png" alt="1-5.png" />
</p>
<p><span class="figure-number">Figure 2: </span>cid/1-5.png</p>
</div></li>
<li><p>
具体的改动代码如下
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #721045;">h1</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">color</span>: <span style="color: #ffffff; background-color: #2f4f4f;">#2f4f4f</span>;
  <span style="color: #531ab6;">margin-bottom</span>: 10px; <span style="color: #7f0000;">/*</span><span style="color: #7f0000;">Reduce the margins</span><span style="color: #7f0000;">*/</span>
<span style="color: #000000;">}</span>

<span style="color: #721045;">#main-nav</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">margin-top</span>: 10px; <span style="color: #7f0000;">/*</span><span style="color: #7f0000;">Reduce the margins</span><span style="color: #7f0000;">*/</span>
  <span style="color: #531ab6;">list-style</span>: none; <span style="color: #7f0000;">/*</span><span style="color: #7f0000;">Remove user-agent list styles</span><span style="color: #7f0000;">*/</span>
  <span style="color: #531ab6;">padding-left</span>: 0; <span style="color: #7f0000;">/*</span><span style="color: #7f0000;">Remove user-agent list styles</span><span style="color: #7f0000;">*/</span>
<span style="color: #000000;">}</span>

<span style="color: #7f0000;">/* </span><span style="color: #7f0000;">Makes list items appear side by side rather than stacked</span><span style="color: #7f0000;"> */</span>
<span style="color: #721045;">#main-nav li</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">display</span>: inline-block;
<span style="color: #000000;">}</span>

<span style="color: #7f0000;">/* </span><span style="color: #7f0000;">Provide a button-like appearance for the naavigational links</span><span style="color: #7f0000;"> */</span>
<span style="color: #721045;">#main-nav a</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">color</span>: <span style="color: #000000; background-color: #ffffff;">white</span>;
  <span style="color: #531ab6;">backgroun-color</span>: <span style="color: #ffffff; background-color: #13a4a5;">#13a4a5</span>;
  <span style="color: #531ab6;">padding</span>: 5px;
  <span style="color: #531ab6;">border-radius</span>: 2px;
  <span style="color: #531ab6;">text-decoration</span>: none;
<span style="color: #000000;">}</span>
</pre>
</div></li>
<li>注意,上面的代码使用了ID selector,这个不是最佳实践,我们后面会详细介绍</li>
</ul></li>
</ul>
</div>
<ol class="org-ol">
<li><a id="org9d8e758"></a>Important Declarations<br />
<div class="outline-text-5" id="text-1-1-1-1">
<ul class="org-ul">
<li>style origin rules有一个例外,那就是一旦一个declaration被标记为imporatnt(使用!important),那么这个declaration
就会被所有的normal style优先级都要高(但是imporatnt origin的order和普通origin的order是相反的!).把
important考虑进来之后,所有的优先级从高到低如下:
<ol class="org-ol">
<li>Important user-agent</li>
<li>Important user</li>
<li>Important author</li>
<li>Normal author</li>
<li>Normal user</li>
<li>Normal user-agent</li>
</ol></li>
</ul>
</div>
</li>
</ol>
</div>
<div id="outline-container-org21b96be" class="outline-4">
<h4 id="org21b96be"><span class="section-number-4">1.1.2.</span> Inline styles</h4>
<div class="outline-text-4" id="text-1-1-2">
<ul class="org-ul">
<li>当冲突声明无法通过来源(origin)解决时,浏览器会检查它们是否通过内联样式(inline styles)添加到元素:
<ul class="org-ul">
<li><p>
通过HTML的style属性应用的样式声明仅作用于当前元素,且会覆盖外部样式表或&lt;style&gt;标签中的声明,比如我
们想把最后一个Specials给给成桔色背景,那么我们可以直接在目标元素内更改
</p>
<div class="org-src-container">
<pre class="src src-diff">diff --git a/code/ch01/1-4.html b/code/ch01/1-4.html
index e0f6bd3..078f82b 100644
--- <span style="font-weight: bold;">a/code/ch01/1-4.html</span>
+++ <span style="font-weight: bold;">b/code/ch01/1-4.html</span>
<span style="background-color: #dfd5cf; font-weight: bold;">@@ -36,7 +36,7 @@</span>
         &lt;li&gt;&lt;a href="/"&gt;Home&lt;/a&gt;&lt;/li&gt;
         &lt;li&gt;&lt;a href="/coffees"&gt;Coffees&lt;/a&gt;&lt;/li&gt;
         &lt;li&gt;&lt;a href="/brewers"&gt;Brewers&lt;/a&gt;&lt;/li&gt;
<span style="color: #aa2222; background-color: #f4d0cf;">-</span><span style="color: #8f1313; background-color: #f4d0cf;">        &lt;li&gt;&lt;a href="/specials" class="featured"&gt;Specials&lt;/a&gt;&lt;/li&gt;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        &lt;li&gt;&lt;a href="/specials" class="featured" </span><span style="color: #005000; background-color: #acd6a5;">style="background-color: orange;"</span><span style="color: #005000; background-color: #c3ebc1;">&gt;Specials&lt;/a&gt;&lt;/li&gt;</span>
       &lt;/ul&gt;
     &lt;/nav&gt;
   &lt;/header&gt;
</pre>
</div></li>
<li>内联样式无需选择器,因其直接绑定目标元素.</li>
</ul></li>
<li>inline style的特点如下:
<ul class="org-ul">
<li>优先级排序:内联样式 &gt; 作者样式(外部/内部) &gt; 用户代理样式(浏览器默认)</li>
<li>特殊性计算:内联样式的特殊性权重为1,0,0,0,高于ID选择器的0,1,0,0</li>
<li>应用场景:适合局部覆盖,但滥用会降低可维护性</li>
</ul></li>
<li>若需在stylesheet中覆盖内联声明,必须为声明添加!important以提升其优先级来源.若内联样式本身已被标记为
!important,则无法被任何规则覆盖.建议优先通过stylesheet(而非inline style)实现此类覆盖</li>
</ul>
</div>
</div>
<div id="outline-container-org79c50fd" class="outline-4">
<h4 id="org79c50fd"><span class="section-number-4">1.1.3.</span> Selector specificity</h4>
<div class="outline-text-4" id="text-1-1-3">
<ul class="org-ul">
<li>selector specificity是一个不易察觉但是却是非常重要的CSS特性,因为:
<ul class="org-ul">
<li>在stylesheet origin判断里面,其实冲突较少:绝大部分的style都是你通过author origin添加的</li>
<li>但是如果不理解selector specificity,那么几乎肯定会在处理冲突的时候犯错误</li>
</ul></li>
<li>不同的selector首先自己就有优先级:
<ul class="org-ul">
<li>单个ID selector比任意数目的class selector的优先级都高</li>
<li>单个class selector比任意数目的tag selector的优先级都高</li>
<li><p>
下面这例子中优先级是从低到高书写的.
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #721045;">html body header h1</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">color</span>: <span style="color: #ffffff; background-color: #0000ff;">blue</span>;
<span style="color: #000000;">}</span>

<span style="color: #721045;">body header.page-header h1</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">color</span>: <span style="color: #000000; background-color: #ffa500;">orange</span>;
<span style="color: #000000;">}</span>

<span style="color: #721045;">.page-header .title</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">color</span>: <span style="color: #ffffff; background-color: #008000;">green</span>;
<span style="color: #000000;">}</span>

<span style="color: #721045;">#page-title</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">color</span>: <span style="color: #ffffff; background-color: #ff0000;">red</span>;
<span style="color: #000000;">}</span>
</pre>
</div></li>
<li><p>
我们会发现如果存在高优先级的就比较出结果,那么如果高优先级的数目一样怎么办呢?答案是比较下一级别的
优先级,为此我们还创建出一个Notation列表来比较优先级.上面例子的优先级使用列表列出如下(高优先级数
目多直接获胜,否则比较下一级)
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Selector</th>
<th scope="col" class="org-right">ID</th>
<th scope="col" class="org-right">Class</th>
<th scope="col" class="org-right">Tag</th>
<th scope="col" class="org-left">Notation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">html body heaer h1</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">4</td>
<td class="org-left">0,0,4</td>
</tr>

<tr>
<td class="org-left">body header.page-header h1</td>
<td class="org-right">0</td>
<td class="org-right">1</td>
<td class="org-right">3</td>
<td class="org-left">0,1,3</td>
</tr>

<tr>
<td class="org-left">.page-header .title</td>
<td class="org-right">0</td>
<td class="org-right">2</td>
<td class="org-right">0</td>
<td class="org-left">0,2,0</td>
</tr>

<tr>
<td class="org-left">#page-title</td>
<td class="org-right">1</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-left">1,0,0</td>
</tr>
</tbody>
</table></li>
</ul></li>
<li>由于inline style非常常用,上面的notion有时候还会在最前面加上第1个数字,整体变成四位:
<ul class="org-ul">
<li>如果是inline style,第一位就是1,其也就拥有最高的优先级,比所有selector都高</li>
<li>如果不是inline style,第一位就是0</li>
</ul></li>
<li>知道了优先级之后,我们发现:
<ul class="org-ul">
<li><p>
直接使用 .featured这个class selector是无法成功设置orange背景的,因为selector #main-nav是ID selector
</p>
<div class="org-src-container">
<pre class="src src-html">&lt;<span style="color: #531ab6;">!doctype</span> html&gt;
&lt;<span style="color: #721045;">head</span>&gt;
  &lt;<span style="color: #721045;">meta</span> <span style="color: #005e8b;">charset</span>=<span style="color: #3548cf;">"utf-8"</span> /&gt;
  &lt;<span style="color: #721045;">style</span>&gt;
    h1 {
      color: #2f4f4f;
      margin-bottom: 10px;
    }

    #main-nav {
      margin-top: 10px;
      list-style: none;
      padding-left: 0;
    }

    #main-nav li {
      display: inline-block;
    }

    #main-nav a {
      color: white;
      background-color: #13a4a4;
      padding: 5px;
      border-radius: 2px;
      text-decoration: none;
    }

    .featured {
      background-color: orange;
    }
  &lt;/<span style="color: #721045;">style</span>&gt;
&lt;/<span style="color: #721045;">head</span>&gt;
&lt;<span style="color: #721045;">body</span>&gt;
  &lt;<span style="color: #721045;">header</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"page-header"</span>&gt;
    &lt;<span style="color: #721045;">h1</span> <span style="color: #005e8b;">id</span>=<span style="color: #3548cf;">"page-title"</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"title"</span>&gt;<span style="font-weight: bold; text-decoration: underline;">Wombat Coffee Roasters</span>&lt;/<span style="color: #721045;">h1</span>&gt;
    &lt;<span style="color: #721045;">nav</span>&gt;
      &lt;<span style="color: #721045;">ul</span> <span style="color: #005e8b;">id</span>=<span style="color: #3548cf;">"main-nav"</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"nav"</span>&gt;
        &lt;<span style="color: #721045;">li</span>&gt;&lt;<span style="color: #721045;">a</span> <span style="color: #005e8b;">href</span>=<span style="color: #3548cf;">"/"</span>&gt;Home&lt;/<span style="color: #721045;">a</span>&gt;&lt;/<span style="color: #721045;">li</span>&gt;
        &lt;<span style="color: #721045;">li</span>&gt;&lt;<span style="color: #721045;">a</span> <span style="color: #005e8b;">href</span>=<span style="color: #3548cf;">"/coffees"</span>&gt;Coffees&lt;/<span style="color: #721045;">a</span>&gt;&lt;/<span style="color: #721045;">li</span>&gt;
        &lt;<span style="color: #721045;">li</span>&gt;&lt;<span style="color: #721045;">a</span> <span style="color: #005e8b;">href</span>=<span style="color: #3548cf;">"/brewers"</span>&gt;Brewers&lt;/<span style="color: #721045;">a</span>&gt;&lt;/<span style="color: #721045;">li</span>&gt;
        &lt;<span style="color: #721045;">li</span>&gt;&lt;<span style="color: #721045;">a</span> <span style="color: #005e8b;">href</span>=<span style="color: #3548cf;">"/specials"</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"featured"</span>&gt;Specials&lt;/<span style="color: #721045;">a</span>&gt;&lt;/<span style="color: #721045;">li</span>&gt;
      &lt;/<span style="color: #721045;">ul</span>&gt;
    &lt;/<span style="color: #721045;">nav</span>&gt;
  &lt;/<span style="color: #721045;">header</span>&gt;
&lt;/<span style="color: #721045;">body</span>&gt;
</pre>
</div></li>
<li><p>
一个快速但是不太推荐的做法,是在orange后面加!important,这样能做到我们想要的效果,但是不是最佳实践:
因为加一个!important还不是问题,问题是每个declaration都加了important之后,大家还是比较老的优先级.这
个!important只能用一次!
</p>
<div class="org-src-container">
<pre class="src src-diff">diff --git a/code/ch01/1-7.html b/code/ch01/1-7.html
index a4e88fe..7344b9d 100644
--- <span style="font-weight: bold;">a/code/ch01/1-7.html</span>
+++ <span style="font-weight: bold;">b/code/ch01/1-7.html</span>
<span style="background-color: #dfd5cf; font-weight: bold;">@@ -26,7 +26,7 @@</span>
     }

     .featured {
<span style="color: #aa2222; background-color: #f4d0cf;">-</span><span style="color: #8f1313; background-color: #f4d0cf;">      background-color: orange;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      background-color: orange </span><span style="color: #005000; background-color: #acd6a5;">!important</span><span style="color: #005000; background-color: #c3ebc1;">;</span>
     }
   &lt;/style&gt;
 &lt;/head&gt;
</pre>
</div></li>
</ul></li>
<li>不能使用!important,那么我们可以从两个思路来更改我们的代码,达到使用orange作为背景的目的:
<ul class="org-ul">
<li><p>
第一个思路就是提升我们自己selector的优先级
</p>
<div class="org-src-container">
<pre class="src src-diff">diff --git a/code/ch01/1-8.html b/code/ch01/1-8.html
index 7344b9d..38aa9ae 100644
--- <span style="font-weight: bold;">a/code/ch01/1-8.html</span>
+++ <span style="font-weight: bold;">b/code/ch01/1-8.html</span>
<span style="background-color: #dfd5cf; font-weight: bold;">@@ -25,8 +25,8 @@</span>
       text-decoration: none;
     }

<span style="color: #aa2222; background-color: #f4d0cf;">-</span><span style="color: #8f1313; background-color: #f4d0cf;">    .featured {</span>
<span style="color: #aa2222; background-color: #f4d0cf;">-</span><span style="color: #8f1313; background-color: #f4d0cf;">      background-color: orange </span><span style="color: #8f1313; background-color: #f3b5a7;">!important</span><span style="color: #8f1313; background-color: #f4d0cf;">;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">    </span><span style="color: #005000; background-color: #acd6a5;">#main-nav</span><span style="color: #005000; background-color: #c3ebc1;"> .featured {</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      background-color: orange;</span>
     }
   &lt;/style&gt;
 &lt;/head&gt;
</pre>
</div></li>
<li><p>
第二个思路就是降低印象我们的selector的优先级,比如不要使用ID来做selector,把第一个#main-nav的selector
去掉,改为使用class+tag,而我们的selector是两个class,那么我们的selector获胜
</p>
<div class="org-src-container">
<pre class="src src-diff">diff --git a/code/ch01/1-9.html b/code/ch01/1-9.html
index 7344b9d..12c92d8 100644
--- <span style="font-weight: bold;">a/code/ch01/1-9.html</span>
+++ <span style="font-weight: bold;">b/code/ch01/1-9.html</span>
<span style="background-color: #dfd5cf; font-weight: bold;">@@ -7,17 +7,17 @@</span>
       margin-bottom: 10px;
     }

<span style="color: #aa2222; background-color: #f4d0cf;">-</span><span style="color: #8f1313; background-color: #f4d0cf;">    </span><span style="color: #8f1313; background-color: #f3b5a7;">#main-</span><span style="color: #8f1313; background-color: #f4d0cf;">nav {</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">    </span><span style="color: #005000; background-color: #acd6a5;">.</span><span style="color: #005000; background-color: #c3ebc1;">nav {</span>
       margin-top: 10px;
       list-style: none;
       padding-left: 0;
     }

<span style="color: #aa2222; background-color: #f4d0cf;">-</span><span style="color: #8f1313; background-color: #f4d0cf;">    </span><span style="color: #8f1313; background-color: #f3b5a7;">#main-</span><span style="color: #8f1313; background-color: #f4d0cf;">nav li {</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">    </span><span style="color: #005000; background-color: #acd6a5;">.</span><span style="color: #005000; background-color: #c3ebc1;">nav li {</span>
       display: inline-block;
     }

<span style="color: #aa2222; background-color: #f4d0cf;">-</span><span style="color: #8f1313; background-color: #f4d0cf;">    </span><span style="color: #8f1313; background-color: #f3b5a7;">#main-</span><span style="color: #8f1313; background-color: #f4d0cf;">nav a {</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">    </span><span style="color: #005000; background-color: #acd6a5;">.</span><span style="color: #005000; background-color: #c3ebc1;">nav a {</span>
       color: white;
       background-color: #13a4a4;
       padding: 5px;
<span style="background-color: #dfd5cf; font-weight: bold;">@@ -25,8 +25,8 @@</span>
       text-decoration: none;
     }

<span style="color: #aa2222; background-color: #f4d0cf;">-</span><span style="color: #8f1313; background-color: #f4d0cf;">    .featured {</span>
<span style="color: #aa2222; background-color: #f4d0cf;">-</span><span style="color: #8f1313; background-color: #f4d0cf;">      background-color: orange </span><span style="color: #8f1313; background-color: #f3b5a7;">!important</span><span style="color: #8f1313; background-color: #f4d0cf;">;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">    .</span><span style="color: #005000; background-color: #acd6a5;">nav .</span><span style="color: #005000; background-color: #c3ebc1;">featured {</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      background-color: orange;</span>
     }
   &lt;/style&gt;
 &lt;/head&gt;
</pre>
</div></li>
</ul></li>
<li>我们发现selector specificity就像是军备竞赛,所以我们的最佳实践就是让selector specificity的优先级尽可
能的低,这样才能在后期进行override</li>
</ul>
</div>
</div>
<div id="outline-container-orga836008" class="outline-4">
<h4 id="orga836008"><span class="section-number-4">1.1.4.</span> Source order</h4>
<div class="outline-text-4" id="text-1-1-4">
<ul class="org-ul">
<li>最后一步解决冲突的办法就是source order了,简单点说,所有的标准都相同的情况下,在代码中的位置越往后,优
先级越高(因为后面的配置会override前面配置)</li>
<li>当你开始学习CSS的时候,你可能听说CSS代码中的selector需要有一定顺序,那就是因为源代码的顺序会影响层叠</li>
<li>我们使用link的style(a:link, a:visited,a:hover, a:active)来做介绍,这也是最经典的例子:
<ul class="org-ul">
<li><p>
我们先看看错误的例子.这个例子由于顺序错误,导致两个错误:悬停在未访问链接的时候还是蓝色(而不是红色),
以及悬停在已访问链接上时候,链接依然是紫色,而不是红色
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #7f0000;">/* </span><span style="color: #7f0000;">&#38169;&#35823;&#39034;&#24207;&#31034;&#20363;</span><span style="color: #7f0000;"> */</span>
<span style="color: #721045;">a:hover</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">color</span>: <span style="color: #ffffff; background-color: #ff0000;">red</span>; <span style="color: #7f0000;">/* </span><span style="color: #7f0000;">&#40736;&#26631;&#24748;&#20572;&#26102;&#21464;&#32418;</span><span style="color: #7f0000;"> */</span>
<span style="color: #000000;">}</span>

<span style="color: #721045;">a:link</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">color</span>: <span style="color: #ffffff; background-color: #0000ff;">blue</span>; <span style="color: #7f0000;">/* </span><span style="color: #7f0000;">&#26410;&#35775;&#38382;&#26102;&#34013;&#33394;</span><span style="color: #7f0000;"> */</span>
<span style="color: #000000;">}</span>

<span style="color: #721045;">a:visited</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">color</span>: <span style="color: #ffffff; background-color: #800080;">purple</span>; <span style="color: #7f0000;">/* </span><span style="color: #7f0000;">&#24050;&#35775;&#38382;&#26102;&#32043;&#33394;</span><span style="color: #7f0000;"> */</span>
<span style="color: #000000;">}</span>

<span style="color: #721045;">a:active</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">color</span>: <span style="color: #ffffff; background-color: #008000;">green</span>; <span style="color: #7f0000;">/* </span><span style="color: #7f0000;">&#28857;&#20987;&#30636;&#38388;&#21464;&#32511;</span><span style="color: #7f0000;"> */</span>
<span style="color: #000000;">}</span>
</pre>
</div></li>
<li><p>
更改之后的版本如下.这才是正确的版本. 正确版本的selector的顺序必须是:link,:visted,:hover,:active
(一个容易记的方法:LoVe/HAte)
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #7f0000;">/* </span><span style="color: #7f0000;">&#27491;&#30830;&#39034;&#24207;&#31034;&#20363; (LVHA)</span><span style="color: #7f0000;"> */</span>
<span style="color: #721045;">a:link</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">color</span>: <span style="color: #ffffff; background-color: #0000ff;">blue</span>; <span style="color: #7f0000;">/* </span><span style="color: #7f0000;">&#26410;&#35775;&#38382;&#26102;&#34013;&#33394;</span><span style="color: #7f0000;"> */</span>
<span style="color: #000000;">}</span>

<span style="color: #721045;">a:visited</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">color</span>: <span style="color: #ffffff; background-color: #800080;">purple</span>; <span style="color: #7f0000;">/* </span><span style="color: #7f0000;">&#24050;&#35775;&#38382;&#26102;&#32043;&#33394;</span><span style="color: #7f0000;"> */</span>
<span style="color: #000000;">}</span>

<span style="color: #721045;">a:hover</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">color</span>: <span style="color: #ffffff; background-color: #ff0000;">red</span>; <span style="color: #7f0000;">/* </span><span style="color: #7f0000;">&#40736;&#26631;&#24748;&#20572;&#26102;&#21464;&#32418;</span><span style="color: #7f0000;"> */</span>
<span style="color: #000000;">}</span>

<span style="color: #721045;">a:active</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">color</span>: <span style="color: #ffffff; background-color: #008000;">green</span>; <span style="color: #7f0000;">/* </span><span style="color: #7f0000;">&#28857;&#20987;&#30636;&#38388;&#21464;&#32511;</span><span style="color: #7f0000;"> */</span>
<span style="color: #000000;">}</span>
</pre>
</div></li>
</ul></li>
<li>浏览器会遵循以下步骤来解析页面上每个元素的每个属性.在层叠过程中"胜出"的声明称为层叠值 (cascaded
value)每个元素的每个属性最多只有一个层叠值.</li>
<li><p>
页面上的一个特定段落 (&lt;p&gt;) 可以有一个上边距和一个下边距,但它不能有两个不同的上边距或两个不同的下边
距.如果 CSS 为同一个属性指定了不同的值,在渲染该元素时,层叠规则将只选择其中一个值.这就是层叠值.
</p>
<pre class="example" id="org6f4b45d">
层叠值 (cascaded value) 是指通过层叠过程应用到一个元素上的特定属性的值
</pre></li>
<li>总体上来说层叠(cascade)是比较容易处理的,我们只需要记住两个最佳实践即可:
<ul class="org-ul">
<li>不要使用ID selector</li>
<li>不要使用!important</li>
</ul></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orgc678a06" class="outline-3">
<h3 id="orgc678a06"><span class="section-number-3">1.2.</span> Inheritance</h3>
<div class="outline-text-3" id="text-1-2">
<ul class="org-ul">
<li>如果一个元素没有某个属性的层叠值,它可能会从祖先元素那里继承该属性值.通常的做法是为 &lt;body&gt; 元素设
置 font-family(字体).所有后代元素将自动继承该字体,无需显式地为页面上的每个元素单独设置
<ul class="org-ul">
<li><p>
图1-8展示了DOM树里面的继承关系
</p>

<div id="orgeebe8a5" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/1-8.png" alt="1-8.png" />
</p>
<p><span class="figure-number">Figure 3: </span>cid/1-8.png</p>
</div></li>
</ul></li>
<li>并非所有属性都具有继承性.默认情况下,只有特定属性会被继承.通常,这些正是您希望被继承的属性,主要
包括与文本相关的属性:
<ul class="org-ul">
<li>color(颜色)</li>
<li>font(字体)</li>
<li>font-family(字体系列)</li>
<li>font-size(字体大小)</li>
<li>font-weight(字体粗细)</li>
<li>font-variant(字体变体)</li>
<li>font-style(字体样式)</li>
<li>line-height(行高)</li>
<li>letter-spacing(字符间距)</li>
<li>text-align(文本对齐)</li>
<li>text-indent(文本缩进)</li>
<li>text-transform(文本大小写转换)</li>
<li>white-space(空白处理)</li>
<li>word-spacing(单词间距).</li>
</ul></li>
<li>其他可继承属性还包括列表属性:
<ul class="org-ul">
<li>list-style(列表样式)</li>
<li>list-style-type(列表标记类型)</li>
<li>list-style-position(列表标记位置)</li>
<li>list-style-image(列表标记图像)</li>
</ul></li>
<li>表格边框属性也可以继承但是:这些属性控制表格的边框行为,而非常用于非表格元素的边框属性.例如,我们不
会希望 &lt;div&gt; 将其边框传递给每个后代元素:
<ul class="org-ul">
<li>border-collapse(边框合并)</li>
<li>border-spacing(边框间距)</li>
</ul></li>
<li><p>
下面这个例子就可以把font-family给body,从而让body所有的后代都可以继承
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #721045;">body</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">font-family</span>: sans-serif;
<span style="color: #000000;">}</span>
</pre>
</div></li>
<li>inheritance会在后代和后代之间不断的传递,知道它被cascaded value所覆盖</li>
<li>目前为止,我们学了如下几种设置样式的方法:
<ul class="org-ul">
<li>inline style: 直接在element上面设置(优先级最高)</li>
<li>cascaded value: 基本就是用户代码,也就是user-agent(也有个别浏览器author-agent样式),用来替换inherited value</li>
<li>inherited value: 后代element继承自己的祖先的(优先级最低)</li>
</ul></li>
<li><p>
上面三种方法都可以在浏览器的开发者工具中找到,而且优先级顺序也是最高的在最上面
</p>

<div id="org05baf49" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/dev_tool.png" alt="dev_tool.png" />
</p>
<p><span class="figure-number">Figure 4: </span>cid/dev_tool.png</p>
</div></li>
</ul>
</div>
</div>
<div id="outline-container-org3a42db7" class="outline-3">
<h3 id="org3a42db7"><span class="section-number-3">1.3.</span> Special values</h3>
<div class="outline-text-3" id="text-1-3">
<ul class="org-ul">
<li><p>
本节介绍的关键字,其不会改变层叠规则:CSS 的核心机制是层叠规则(Cascading Rules),优先级是其关键部分.
下面介绍的关键字都是一个属性值,在declaration层面起作用!
</p>
<pre class="example" id="org1f97ece">
Warning: These keywords are normal cascaded values. That means it is still
possible to override them with other values when another selector with higher
specificity targets the same element.
</pre></li>
</ul>
</div>
<div id="outline-container-orge4f50f2" class="outline-4">
<h4 id="orge4f50f2"><span class="section-number-4">1.3.1.</span> The inherit keyword</h4>
<div class="outline-text-4" id="text-1-3-1">
<ul class="org-ul">
<li>由于cascade优先级高,其会替代继承给element以style,这也是绝大多数情况下,我们希望发生的情形</li>
<li>但是有些情况下,我们其实是希望继承发生:
<ul class="org-ul">
<li><p>
比如下面这个例子中,我们的Term of use是在footer里面的.所以其 cascade value是代码中各种selector决定
的,而不是继承的
</p>
<div class="org-src-container">
<pre class="src src-html">&lt;<span style="color: #531ab6;">!doctype</span> html&gt;
&lt;<span style="color: #721045;">head</span>&gt;
  &lt;<span style="color: #721045;">meta</span> <span style="color: #005e8b;">charset</span>=<span style="color: #3548cf;">"utf-8"</span> /&gt;
  &lt;<span style="color: #721045;">style</span>&gt;
    body {
      font-family: sans-serif;
    }

    a:link {
      background-color: blue;
      color: white;
      text-decoration: none;
      padding: 2px;
    }

    a:visited {
      background-color: purple;
    }

    a:hover {
      background-color: transparent;
      color: blue;
      text-decoration: underline;
    }

    a:active {
      color: red;
    }

    h1 {
      color: #2f4f4f;
      margin-bottom: 10px;
    }

    .nav {
      margin-top: 10px;
      list-style: none;
      padding-left: 0;
    }

    .nav li {
      display: inline-block;
    }

    .nav a {
      color: white;
      background-color: #13a4a4;
      padding: 5px;
      border-radius: 2px;
      text-decoration: none;
    }

    .nav .featured {
      background-color: orange;
    }

    /* footer styled will be added in the next listing */
  &lt;/<span style="color: #721045;">style</span>&gt;
&lt;/<span style="color: #721045;">head</span>&gt;
&lt;<span style="color: #721045;">body</span>&gt;
  &lt;<span style="color: #721045;">header</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"page-header"</span>&gt;
    &lt;<span style="color: #721045;">h1</span> <span style="color: #005e8b;">id</span>=<span style="color: #3548cf;">"page-title"</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"title"</span>&gt;<span style="font-weight: bold; text-decoration: underline;">Wombat Coffee Roasters</span>&lt;/<span style="color: #721045;">h1</span>&gt;
    &lt;<span style="color: #721045;">nav</span>&gt;
      &lt;<span style="color: #721045;">ul</span> <span style="color: #005e8b;">id</span>=<span style="color: #3548cf;">"main-nav"</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"nav"</span>&gt;
        &lt;<span style="color: #721045;">li</span>&gt;&lt;<span style="color: #721045;">a</span> <span style="color: #005e8b;">href</span>=<span style="color: #3548cf;">"/"</span>&gt;Home&lt;/<span style="color: #721045;">a</span>&gt;&lt;/<span style="color: #721045;">li</span>&gt;
        &lt;<span style="color: #721045;">li</span>&gt;&lt;<span style="color: #721045;">a</span> <span style="color: #005e8b;">href</span>=<span style="color: #3548cf;">"/coffees"</span>&gt;Coffees&lt;/<span style="color: #721045;">a</span>&gt;&lt;/<span style="color: #721045;">li</span>&gt;
        &lt;<span style="color: #721045;">li</span>&gt;&lt;<span style="color: #721045;">a</span> <span style="color: #005e8b;">href</span>=<span style="color: #3548cf;">"/brewers"</span>&gt;Brewers&lt;/<span style="color: #721045;">a</span>&gt;&lt;/<span style="color: #721045;">li</span>&gt;
        &lt;<span style="color: #721045;">li</span>&gt;&lt;<span style="color: #721045;">a</span> <span style="color: #005e8b;">href</span>=<span style="color: #3548cf;">"/specials"</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"featured"</span>&gt;Specials&lt;/<span style="color: #721045;">a</span>&gt;&lt;/<span style="color: #721045;">li</span>&gt;
      &lt;/<span style="color: #721045;">ul</span>&gt;
    &lt;/<span style="color: #721045;">nav</span>&gt;
  &lt;/<span style="color: #721045;">header</span>&gt;
  &lt;<span style="color: #721045;">main</span>&gt;
    &lt;<span style="color: #721045;">p</span>&gt;
      Be sure to check out
      &lt;<span style="color: #721045;">a</span> <span style="color: #005e8b;">href</span>=<span style="color: #3548cf;">"/specials"</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"featured"</span>&gt;our specials&lt;/<span style="color: #721045;">a</span>&gt;.
    &lt;/<span style="color: #721045;">p</span>&gt;
  &lt;/<span style="color: #721045;">main</span>&gt;
  &lt;<span style="color: #721045;">footer</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"footer"</span>&gt;
    <span style="color: #005e8b;">&amp;copy;</span> 2023 Wombat Coffee Roasters <span style="color: #005e8b;">&amp;mdash;</span>
    &lt;<span style="color: #721045;">a</span> <span style="color: #005e8b;">href</span>=<span style="color: #3548cf;">"/terms-of-use"</span>&gt;Terms of use&lt;/<span style="color: #721045;">a</span>&gt;
  &lt;/<span style="color: #721045;">footer</span>&gt;
&lt;/<span style="color: #721045;">body</span>&gt;
</pre>
</div></li>
<li><p>
我们其实不希望footer里面的link像我们cascade里面设置的那样,使用非常夸张的颜色.我们希望使用一个全站
其他页面都使用的低调颜色,那么我们就会用到inherit,注意inherit不会改变优先级,只不过是我们可以从继承
树上获取一个配置,从而和"父级"保持一致,在"父级"有更改的时候,也能自动获得更改
</p>
<div class="org-src-container">
<pre class="src src-diff"><span style="background-color: #dfd5cf; font-weight: bold;">@@ -54,7 +54,19 @@</span>
       background-color: orange;
     }

<span style="color: #aa2222; background-color: #f4d0cf;">-</span><span style="color: #8f1313; background-color: #f4d0cf;">    </span><span style="color: #8f1313; background-color: #f3b5a7;">/*</span><span style="color: #8f1313; background-color: #f4d0cf;"> footer </span><span style="color: #8f1313; background-color: #f3b5a7;">styled</span><span style="color: #8f1313; background-color: #f4d0cf;"> </span><span style="color: #8f1313; background-color: #f3b5a7;">will</span><span style="color: #8f1313; background-color: #f4d0cf;"> </span><span style="color: #8f1313; background-color: #f3b5a7;">be</span><span style="color: #8f1313; background-color: #f4d0cf;"> </span><span style="color: #8f1313; background-color: #f3b5a7;">added</span><span style="color: #8f1313; background-color: #f4d0cf;"> </span><span style="color: #8f1313; background-color: #f3b5a7;">in</span><span style="color: #8f1313; background-color: #f4d0cf;"> </span><span style="color: #8f1313; background-color: #f3b5a7;">the</span><span style="color: #8f1313; background-color: #f4d0cf;"> </span><span style="color: #8f1313; background-color: #f3b5a7;">next</span><span style="color: #8f1313; background-color: #f4d0cf;"> </span><span style="color: #8f1313; background-color: #f3b5a7;">listing</span><span style="color: #8f1313; background-color: #f4d0cf;"> </span><span style="color: #8f1313; background-color: #f3b5a7;">*/</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">    </span><span style="color: #005000; background-color: #acd6a5;">.footer</span><span style="color: #005000; background-color: #c3ebc1;"> </span><span style="color: #005000; background-color: #acd6a5;">{</span><span style="color: #005000; background-color: #acd6a5;">
</span><span style="color: #005000; background-color: #acd6a5;">+</span><span style="color: #005000; background-color: #acd6a5;">      color: #666;</span><span style="color: #005000; background-color: #acd6a5;">
</span><span style="color: #005000; background-color: #acd6a5;">+</span><span style="color: #005000; background-color: #acd6a5;">      background-color: #ccc;</span><span style="color: #005000; background-color: #acd6a5;">
</span><span style="color: #005000; background-color: #acd6a5;">+</span><span style="color: #005000; background-color: #acd6a5;">      padding: 15px 0;</span><span style="color: #005000; background-color: #acd6a5;">
</span><span style="color: #005000; background-color: #acd6a5;">+</span><span style="color: #005000; background-color: #acd6a5;">      text-align: center;</span><span style="color: #005000; background-color: #acd6a5;">
</span><span style="color: #005000; background-color: #acd6a5;">+</span><span style="color: #005000; background-color: #acd6a5;">      font-size: 14px;</span><span style="color: #005000; background-color: #acd6a5;">
</span><span style="color: #005000; background-color: #acd6a5;">+</span><span style="color: #005000; background-color: #acd6a5;">    }</span><span style="color: #005000; background-color: #acd6a5;">
</span><span style="color: #005000; background-color: #acd6a5;">+</span><span style="color: #005000; background-color: #acd6a5;">
</span><span style="color: #005000; background-color: #acd6a5;">+</span><span style="color: #005000; background-color: #acd6a5;">    .</span><span style="color: #005000; background-color: #c3ebc1;">footer </span><span style="color: #005000; background-color: #acd6a5;">a</span><span style="color: #005000; background-color: #c3ebc1;"> </span><span style="color: #005000; background-color: #acd6a5;">{</span>
<span style="color: #005000; background-color: #acd6a5;">+</span><span style="color: #005000; background-color: #c3ebc1;">      </span><span style="color: #005000; background-color: #acd6a5;">color: inherit;</span><span style="color: #005000; background-color: #acd6a5;">
</span><span style="color: #005000; background-color: #acd6a5;">+</span><span style="color: #005000; background-color: #acd6a5;">      background-color: transparent;</span><span style="color: #005000; background-color: #acd6a5;">
</span><span style="color: #005000; background-color: #acd6a5;">+</span><span style="color: #005000; background-color: #acd6a5;">      text-decoration: underline;</span><span style="color: #005000; background-color: #acd6a5;">
</span><span style="color: #005000; background-color: #acd6a5;">+</span><span style="color: #005000; background-color: #acd6a5;">    }</span>
   &lt;/style&gt;
 &lt;/head&gt;
 &lt;body&gt;
</pre>
</div></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org0e9406e" class="outline-4">
<h4 id="org0e9406e"><span class="section-number-4">1.3.2.</span> The initial keyword</h4>
<div class="outline-text-4" id="text-1-3-2">
<ul class="org-ul">
<li>有时候你想把某个element的style设置为初始值,就需要用到initial.这种设置会:
<ul class="org-ul">
<li><p>
强制覆盖层叠样式(连!important都能覆盖)
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #721045;">footer</span> <span style="color: #000000;">{</span> <span style="color: #531ab6;">color</span>: <span style="color: #ffffff; background-color: #0000ff;">blue</span> <span style="color: #8f0075;">!important</span>; <span style="color: #000000;">}</span>
<span style="color: #721045;">footer a</span> <span style="color: #000000;">{</span> <span style="color: #531ab6;">color</span>: initial; <span style="color: #000000;">}</span> <span style="color: #7f0000;">/* </span><span style="color: #7f0000;">&#38142;&#25509;&#21464;&#20026;&#40657;&#33394;,&#35206;&#30422;&#34013;&#33394;</span><span style="color: #7f0000;"> */</span>
</pre>
</div></li>
<li><p>
忽略继承
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #721045;">body</span> <span style="color: #000000;">{</span> <span style="color: #531ab6;">font-family</span>: Arial; <span style="color: #000000;">}</span>
<span style="color: #721045;">.reset-text</span> <span style="color: #000000;">{</span> <span style="color: #531ab6;">font-family</span>: initial; <span style="color: #000000;">}</span> <span style="color: #7f0000;">/* </span><span style="color: #7f0000;">&#24674;&#22797;&#20026;&#27983;&#35272;&#22120;&#40664;&#35748;&#23383;&#20307;(&#22914; Times New Roman)</span><span style="color: #7f0000;"> */</span>
</pre>
</div></li>
</ul></li>
<li>注意这个初始值是CSS规范定义的初始值,而非浏览器默认样式.比如:
<ul class="org-ul">
<li>button的background-color的规范初始值是transparent,按说浏览器默认值是灰色</li>
</ul></li>
<li>更需要注意的是:initial 本身并不会改变语句的优先级.它的作用仅仅是将属性值重置为 CSS 规范定义的初始
值(就像我们之前说的那样:initial仅仅在declaration层面起作用),而是否生效,取决于该规则的优先级是否比
其他规则高,或者优先级相等但位于后面:
<ul class="org-ul">
<li><p>
优先级相等时生效: 如果 initial 所在的规则优先级与其他规则相等,它会根据层叠规则(后写覆盖前写)
起作用.例如:
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #721045;">div</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">color</span>: <span style="color: #ffffff; background-color: #ff0000;">red</span>; <span style="color: #7f0000;">/* </span><span style="color: #7f0000;">&#20808;&#23450;&#20041;&#20026;&#32418;&#33394;</span><span style="color: #7f0000;"> */</span>
<span style="color: #000000;">}</span>

<span style="color: #721045;">div</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">color</span>: initial; <span style="color: #7f0000;">/* </span><span style="color: #7f0000;">&#21518;&#23450;&#20041;&#20026;&#21021;&#22987;&#20540;,&#35206;&#30422;&#21069;&#38754;&#30340; red</span><span style="color: #7f0000;"> */</span>
<span style="color: #000000;">}</span>
</pre>
</div></li>
<li><p>
优先级低时不生效
</p>
<div class="org-src-container">
<pre class="src src-html">&lt;<span style="color: #721045;">div</span> <span style="color: #005e8b;">id</span>=<span style="color: #3548cf;">"example"</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"example-class"</span>&gt;Hello&lt;/<span style="color: #721045;">div</span>&gt;
</pre>
</div>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #721045;">#example</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">color</span>: <span style="color: #ffffff; background-color: #ff0000;">red</span>; <span style="color: #7f0000;">/* </span><span style="color: #7f0000;">ID &#36873;&#25321;&#22120;&#20248;&#20808;&#32423;&#39640;</span><span style="color: #7f0000;"> */</span>
<span style="color: #000000;">}</span>

<span style="color: #721045;">.example-class</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">color</span>: initial; <span style="color: #7f0000;">/* </span><span style="color: #7f0000;">&#31867;&#36873;&#25321;&#22120;&#20248;&#20808;&#32423;&#20302;,&#19981;&#29983;&#25928;</span><span style="color: #7f0000;"> */</span>
<span style="color: #000000;">}</span>

</pre>
</div></li>
<li><p>
使用 !important 提升优先级: 如果希望强制应用 initial,可以通过 !important 提升优先级
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #721045;">div</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">color</span>: initial <span style="color: #8f0075;">!important</span>; <span style="color: #7f0000;">/* </span><span style="color: #7f0000;">&#24378;&#21046;&#37325;&#32622;&#20026;&#21021;&#22987;&#20540;</span><span style="color: #7f0000;"> */</span>
<span style="color: #000000;">}</span>
</pre>
</div></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-orgc5b9e89" class="outline-4">
<h4 id="orgc5b9e89"><span class="section-number-4">1.3.3.</span> The unset keyword</h4>
<div class="outline-text-4" id="text-1-3-3">
<ul class="org-ul">
<li>unset 是一个 CSS 的特殊值,用来根据属性是否继承来决定行为:
<ul class="org-ul">
<li><p>
如果属性是可继承的,将其值设置为 inherit(继承父元素的值). 对于那些默认会继承的属性(如 color,
font-family),unset 的效果相当于 inherit
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #721045;">div</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">color</span>: <span style="color: #ffffff; background-color: #ff0000;">red</span>;
<span style="color: #000000;">}</span>
<span style="color: #721045;">p</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">color</span>: unset; <span style="color: #7f0000;">/* </span><span style="color: #7f0000;">&#31561;&#21516;&#20110; inherit,&#32487;&#25215; div &#30340; red</span><span style="color: #7f0000;"> */</span>
<span style="color: #000000;">}</span>
</pre>
</div></li>
<li><p>
如果属性是不可继承的,将其值设置为 initial(属性的初始值),对于那些默认不会继承的属性(如 margin,
border),unset 的效果相当于 initial
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #721045;">div</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">margin</span>: 20px;
<span style="color: #000000;">}</span>
<span style="color: #721045;">p</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">margin</span>: unset; <span style="color: #7f0000;">/* </span><span style="color: #7f0000;">&#31561;&#21516;&#20110; initial,&#37325;&#32622;&#20026; 0</span><span style="color: #7f0000;"> */</span>
<span style="color: #000000;">}</span>
</pre>
</div></li>
</ul></li>

<li>因此,unset 可以理解为同时具备 inherit 和 initial 的双重功能.</li>
<li>unset 的使用场景:
<ul class="org-ul">
<li>当你不确定某个属性是否继承时,可以使用 unset,它会自动选择合适的行为.</li>
<li>在清除样式或重置属性时特别有用.</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org2f6e752" class="outline-4">
<h4 id="org2f6e752"><span class="section-number-4">1.3.4.</span> The revert keyword</h4>
<div class="outline-text-4" id="text-1-3-4">
<ul class="org-ul">
<li>initial和unset关键字(在起作用的情况下)会把如下两种style都revert掉:
<ul class="org-ul">
<li>优先级较低的user-agent stylesheet</li>
<li>优先级较高的author stylesheet</li>
</ul></li>
<li>但是有些时候,你只想revertauthor stylesheet,换句话说就是:
<ul class="org-ul">
<li>不要revert到css规范的默认值</li>
<li>而是要revert到浏览器的默认值</li>
</ul></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org68cb47d" class="outline-3">
<h3 id="org68cb47d"><span class="section-number-3">1.4.</span> Shorthand properties</h3>
<div class="outline-text-3" id="text-1-4">
<ul class="org-ul">
<li>简写属性(shorthand properties)允许开发者通过单行声明同时设置多个相关CSS属性的值,例如:
<ul class="org-ul">
<li><p>
font 是一个简写属性,可通过一行声明设置多种字体属性
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #531ab6;">font</span>: italic bold 18px/1.2 <span style="color: #3548cf;">"Helvetica"</span>, <span style="color: #3548cf;">"Arial"</span>, sans-serif;
<span style="color: #7f0000;">/* </span><span style="color: #7f0000;">&#31561;&#25928;&#20110;:</span>
<span style="color: #7f0000;">   font-style: italic;</span>
<span style="color: #7f0000;">   font-weight: bold;</span>
<span style="color: #7f0000;">   font-size: 18px;</span>
<span style="color: #7f0000;">   line-height: 1.2;</span>
<span style="color: #7f0000;">   font-family: "Helvetica", "Arial", sans-serif;</span><span style="color: #7f0000;"> */</span>
</pre>
</div></li>
<li>background 整合8种背景属性:
<ol class="org-ol">
<li>background-color</li>
<li>background-image</li>
<li>background-size</li>
<li>background-repeat</li>
<li>background-position</li>
<li>background-origin</li>
<li>background-clip</li>
<li>background-attachment</li>
</ol></li>
<li>border 复合三层简写属性:
<ol class="org-ol">
<li>border-width(边框宽度)</li>
<li>border-style(边框样式)</li>
<li>border-color(边框颜色)</li>
</ol></li>
<li>border-width直接定义四个方向的边框宽度</li>
</ul></li>
<li>shorthand properties可以减少代码量,提升代码整洁度,但是带来的问题也不少,我们下面详细说一下</li>
</ul>
</div>
<div id="outline-container-org1161977" class="outline-4">
<h4 id="org1161977"><span class="section-number-4">1.4.1.</span> Beware shorthands silently overriding other styles</h4>
<div class="outline-text-4" id="text-1-4-1">
<ul class="org-ul">
<li>在最佳实践中,我们不建议使用shorthand properties,下面就是short properties引入unexpected结果的例子:
<ul class="org-ul">
<li><p>
我们本意是想只设置font的个别属性,保留font的bold,代码如下
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #721045;">h1</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">font-weight</span>: bold;
<span style="color: #000000;">}</span>

<span style="color: #721045;">.title</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">font</span>:
    32px Helvetica,
    Arial,
    sans-serif;
<span style="color: #000000;">}</span>
</pre>
</div></li>
<li><p>
但是结果却打大跌眼镜,因为上述代码最终的结果是font的bold消失了,这就是shorthand properties惹的祸,其
会为你没写的部分自动设置值,在这个例子里面,上面的代码其实等同于如下代码
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #721045;">h1</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">font-weight</span>: bold;
<span style="color: #000000;">}</span>

<span style="color: #721045;">.title</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">font-style</span>: normal;
  <span style="color: #531ab6;">font-variant</span>: normal;
  <span style="color: #531ab6;">font-weight</span>: normal;
  <span style="color: #531ab6;">font-stretch</span>: normal;
  <span style="color: #531ab6;">line-height</span>: normal;
  <span style="color: #531ab6;">font-size</span>: 32px;
  <span style="color: #531ab6;">font-family</span>: Helvetica, Arial, sans-serif;
<span style="color: #000000;">}</span>
</pre>
</div></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org149e30e" class="outline-4">
<h4 id="org149e30e"><span class="section-number-4">1.4.2.</span> Remember the order of shorthand values</h4>
<div class="outline-text-4" id="text-1-4-2">
<ul class="org-ul">
<li>简写属性在值的指定顺序方面通常比较宽松.你可以设置 border: 1px solid black 或者 border: black 1px
solid,两者都能生效.这是因为浏览器能清楚地分辨哪个值指定了宽度,哪个值指定了颜色以及哪个值指定了边
框样式.</li>
<li>但是,对于许多属性,其值的含义可能更加模糊.在这些情况下,值的顺序就变得很重要.理解你所使用的简写
属性中值的顺序至关重要</li>
<li>对于像 margin,padding 或者一些为元素的四个边指定值的边框属性(如 border-width)来说,其值的顺序特
别容易让开发者感到困惑.对于这些属性,值的顺序是顺时针的,从顶部开始.</li>
<li>记住这个顺序可以让你避免麻烦(trouble).事实上,单词 TRouBLe 就是一个你可以用来记住这个顺序的助记
词:Top (上),Right (右),Bottom (下),Left (左).
<ul class="org-ul">
<li><p>
下面的例子就可以看到我们设置了"上右左下"四个方向的padding
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #721045;">.nav a</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">color</span>: <span style="color: #000000; background-color: #ffffff;">white</span>;
  <span style="color: #531ab6;">background-color</span>: <span style="color: #ffffff; background-color: #13a4a4;">#13a4a4</span>;
  <span style="color: #531ab6;">padding</span>: 10px 15px 0 5px;
  <span style="color: #531ab6;">border-radius</span>: 2px;
  <span style="color: #531ab6;">text-decoration</span>: none;
<span style="color: #000000;">}</span>
</pre>
</div></li>
</ul></li>
<li>遵循此模式的属性(如 margin 和 padding)也支持省略写法.当声明结束但某一边未明确赋值时,该边的值将
取自其对边:
<ul class="org-ul">
<li>若指定 三个值,则左,右两边均使用第二个值;</li>
<li>若指定 两个值,则上,下使用第一个值,左,右使用第二个值;</li>
<li>若仅指定 一个值,该值将应用于所有四边.</li>
</ul></li>
<li>所以,下面四种声明是 <b>完全相等</b> 的:
<ul class="org-ul">
<li><p>
只有两个值,上下都使用第一个,左右都使用第二个
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #531ab6;">padding</span>: 1em 2em;       <span style="color: #7f0000;">/* </span><span style="color: #7f0000;">&#19978;=1em, &#21491;=2em, &#19979;=1em(&#21462;&#33258;&#23545;&#36793;"&#19978;"), &#24038;=2em(&#21462;&#33258;&#23545;&#36793;"&#21491;")</span><span style="color: #7f0000;"> */</span>
</pre>
</div></li>
<li><p>
有三个值,上下使用1,3个,左右都使用2,4个. 这种是最容易让人困惑的,上右下都有值,只有左边没有值,这个值
是要和右边用一样的值,也就是第二个值
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #531ab6;">padding</span>: 1em 2em 1em;   <span style="color: #7f0000;">/* </span><span style="color: #7f0000;">&#19978;=1em, &#21491;=2em, &#19979;=1em, &#24038;=2em(&#21462;&#33258;&#23545;&#36793;"&#21491;")</span><span style="color: #7f0000;"> */</span>
</pre>
</div></li>
<li><p>
有全部四个值,那么就按照"上右下左"的顺序使用
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #531ab6;">padding</span>: 1em 2em 1em 2em;
</pre>
</div></li>
</ul></li>
<li><b>最佳实践是是你需要设置两个值</b>. 特别是在较小的元素上,左右内边距大于上下内边距通常效果更好.这种方
法在按钮上,或者在我们页面的导航链接上,看起来都很不错.</li>
<li>TRouBLe助记词仅适用于作用于盒子四边的简写属性.其他属性最多只支持两个值,包括background-position,
box-shadow和text-shadow等(严格来说这些并非传统简写属性).</li>
<li>与padding这类四值属性相比,这些属性的值声明顺序是相反的:
<ul class="org-ul">
<li>padding: 1em 2em 先声明垂直方向(上/下)值,后声明水平方向(右/左)值</li>
<li>background-position: 25% 75% 则先声明水平方向值,后声明垂直方向值</li>
</ul></li>
<li>这种看似矛盾的顺序差异其实有着合理的解释:这两个值代表笛卡尔坐标系.笛卡尔坐标系的测量值通常按x
(水平)y(垂直)的顺序给出.
<ul class="org-ul">
<li><p>
下面就是一个先设置水平再设置垂直的例子
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #721045;">.nav .featured</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">background-color</span>: <span style="color: #000000; background-color: #ffa500;">orange</span>;
  <span style="color: #531ab6;">box-shadow</span>: 10px 2px <span style="color: #ffffff; background-color: #6f9090;">#6f9090</span>;
<span style="color: #000000;">}</span>
</pre>
</div></li>
</ul></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org82b243e" class="outline-3">
<h3 id="org82b243e"><span class="section-number-3">1.5.</span> Progressive enhancement</h3>
<div class="outline-text-3" id="text-1-5">
<ul class="org-ul">
<li>CSS 语言在不断发展演进.在这一持续演进的语言中工作,一个重要环节是跟踪哪些功能对该语言来说仍然相对
较新.特别需要了解的是,某项功能可能仅被一部分主流浏览器所支持.</li>
<li>该语言被刻意设计成同时具有向前兼容性和向后兼容性,并为你提供了必要的工具,使你的代码能够在旧版和新
版浏览器中同时工作.通过一些预先考量,即便你明知某些前沿功能无法对所有用户生效,也仍可以在 CSS 中使
用它们.</li>
<li>为此,你可以先添加提供可接受的(但功能可能不够完善的)基础体验所需的 CSS,以确保旧版浏览器的兼容.
然后,在此基础之上,再叠加使用更新功能(如新特性)的 CSS.你深知这些特定的功能仅能在最新版本的浏览
器中生效.这样做的好处在于,你的代码具有面向未来的兼容性.随着更多用户的浏览器升级,这些新功能将开
始自动对他们生效.这种方法就被称为渐进增强方案</li>
<li>一些开发者曾有这样的预期:全新的CSS功能在几年内都无法投入使用,因为在Web的早期阶段,浏览器更新非常
缓慢.然而,现在所有主流浏览器都已是"常青浏览器"(evergreen),这意味着更新变得频繁且大多是自动进行
的.</li>
<li>某些新功能的支持率能在短短几个月内从0%跃升至80%.此后的进展通常会放缓,因为部分用户会推迟点击那个更
新按钮(或者受限于企业政策而无法更新).</li>
<li>不过,除非您有特别的需求需要支持某个旧版浏览器,否则通常可以预期,在所有主流浏览器都添加支持后的一
两年内,您就能放心使用这个新功能了.</li>
<li>借助恰当的渐进增强方案(progressive enhancement),您通常甚至无需等到那么久就可以开始使用它&#x2013;不过,
这取决于所讨论功能本身的特性以及它对于您想要实现的效果有多关键.</li>
</ul>
</div>
<div id="outline-container-org0a2fd97" class="outline-4">
<h4 id="org0a2fd97"><span class="section-number-4">1.5.1.</span> Using the cascade for progressive enhancement</h4>
<div class="outline-text-4" id="text-1-5-1">
<ul class="org-ul">
<li>利用渐进增强最简洁的方式,其实就内建在CSS的层叠机制本身之中.当浏览器遇到一条它无法解析的声明时,它
会直接忽略该声明.
<ul class="org-ul">
<li><p>
请看以下代码示例:
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #721045;">aside</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">background-color</span>: <span style="color: #ffffff; background-color: #333333;">#333333</span>;    <span style="color: #7f0000;">/* </span><span style="color: #7f0000;">&#22522;&#30784;&#39068;&#33394;&#20540;</span><span style="color: #7f0000;"> */</span>
  <span style="color: #531ab6;">background-color</span>: <span style="color: #ffffff; background-color: #333333;">#333333aa</span>;  <span style="color: #7f0000;">/* </span><span style="color: #7f0000;">&#24102;&#36879;&#26126;&#36890;&#36947;&#30340;8&#20301;HEX&#26032;&#26684;&#24335;</span><span style="color: #7f0000;"> */</span>
<span style="color: #000000;">}</span>
</pre>
</div></li>
<li>由于第二条声明出现在第一条之后,层叠规则会使用它作为background-color属性的最终值.第二条声明采用
了相对较新的8位十六进制颜色代码格式(第七,八位表示透明度alpha值).虽然该语法已被大多数现代浏览
器支持,但某些旧版浏览器(如Internet Explorer)并不支持.</li>
<li>因此,当用户使用IE浏览器时,其浏览器会忽略第二条声明,而第一条声明仍会生效.尽管用户无法体验到带
透明度的完整效果,但他们看到的仍然是一个完全可用的结果.页面既不会"崩溃",也不会抛出错误&#x2013;浏览器
只是继续解析后续CSS,并自动舍弃无法识别的声明.</li>
</ul></li>
<li><p>
从调试角度看,这种"静默失败"或许有些奇怪(因为CSS语言从不抛出错误).但这是CSS语言运作机制的核心组
成部分,且正是为渐进增强而刻意设计的特性
</p>
<pre class="example" id="org1b383a3">
This may seem odd from a debugging perspective because the language never
throws errors. But it's an essential part of how the language works, and this is intentional for
this very purpose: progressive enhancement.
</pre></li>
</ul>
</div>
</div>
<div id="outline-container-org038b2ee" class="outline-4">
<h4 id="org038b2ee"><span class="section-number-4">1.5.2.</span> Progressively enhancing selectors</h4>
<div class="outline-text-4" id="text-1-5-2">
<ul class="org-ul">
<li>progressive enhancement不仅仅可以适用于新属性,还可以适用于新的选择器语法:
<ul class="org-ul">
<li>能够识别新选择器的浏览器会应用样式,无法识别的则会忽略整个规则集</li>
</ul></li>
<li>使用例子如下:
<ul class="org-ul">
<li><p>
一个错误的使用方法,是把新selector和老的selector都写在一起,这样做的危害是如果新的selector不被理解
的话,老的selector就算理解,也没用.整个规则集都被抛弃了,样式无法被使用
</p>
<div class="org-src-container">
<pre class="src src-css">input.invalid,
<span style="color: #531ab6;">input</span>:user-invalid <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">border</span>: 1px solid <span style="color: #ffffff; background-color: #ff0000;">red</span>;
<span style="color: #000000;">}</span>
</pre>
</div></li>
<li><p>
正确的做法是要重复一部分代码,把一个规则集拆成两个.这种做法虽然导致代码重复,但是却是最可靠的方案
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #721045;">input.invalid</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">border</span>: 1px solid <span style="color: #ffffff; background-color: #ff0000;">red</span>;
<span style="color: #000000;">}</span>
<span style="color: #531ab6;">input</span>:user-invalid <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">border</span>: 1px solid <span style="color: #ffffff; background-color: #ff0000;">red</span>;
<span style="color: #000000;">}</span>
</pre>
</div></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org8e0f4be" class="outline-4">
<h4 id="org8e0f4be"><span class="section-number-4">1.5.3.</span> Feature queries using @supports()</h4>
<div class="outline-text-4" id="text-1-5-3">
<ul class="org-ul">
<li>上面的两种做法(progressively enhancement for cascase 以及 progressively enhancement for selector)在
仅仅涉及一两条css规则的时候比较有用,但是如果需要为新老浏览器准备多组不同的声明,则需要使用特征查询(feature query)
<ul class="org-ul">
<li><p>
特性查询的例子如下
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #8f0075;">@supports</span> <span style="color: #000000;">(</span>display: grid<span style="color: #000000;">)</span> <span style="color: #000000;">{</span>
  <span style="color: #7f0000;">/* </span><span style="color: #7f0000;">&#26679;&#24335;&#35268;&#21017;</span><span style="color: #7f0000;"> */</span>
<span style="color: #000000;">}</span>
</pre>
</div></li>
<li>@supports规则后紧跟括号内的声明.如果当前浏览器理解该声明(例如本例中支持grid布局),则会应用大括
号{}内的所有规则集;若无法理解,则忽略这些规则</li>
<li><p>
这意味着您可以先通过传统布局技术(如浮动布局)提供基础样式.这些样式虽非理想方案(需做出一定妥协),
但能实现基本功能.随后,通过特性查询为支持网格布局的浏览器应用更完整的网格布局方案.下面就是这样一
个例子的全貌
</p>
<div class="org-src-container">
<pre class="src src-html">&lt;<span style="color: #531ab6;">!doctype</span> html&gt;
&lt;<span style="color: #721045;">head</span>&gt;
  &lt;<span style="color: #721045;">meta</span> <span style="color: #005e8b;">charset</span>=<span style="color: #3548cf;">"utf-8"</span> /&gt;
  &lt;<span style="color: #721045;">style</span>&gt;
    body {
      font-family: sans-serif;
    }

    a:link {
      background-color: blue;
      color: white;
      text-decoration: none;
      padding: 2px;
    }

    a:visited {
      background-color: purple;
    }

    a:hover {
      background-color: transparent;
      color: blue;
      text-decoration: underline;
    }

    a:active {
      color: red;
    }

    h1 {
      color: #2f4f4f;
      margin-bottom: 10px;
    }

    .nav {
      margin-top: 10px;
      list-style: none;
      padding-left: 0;
    }

    .nav li {
      display: inline-block;
    }

    .nav a {
      color: white;
      background-color: #13a4a4;
      padding: 5px 15px;
      border-radius: 2px;
      text-decoration: none;
    }

    .nav .featured {
      background-color: orange;
    }

    .coffees {
      margin: 20px 0;
    }

    .coffees a {
      display: inline-block;
      min-width: 300px;
      padding: 10px 15px;
      margin-right: 10px;
      margin-bottom: 10px;
      color: black;
      background-color: transparent;
      border: 1px solid gray;
      border-radius: 5px;
    }

    @supports (display: grid) {
      .coffees {
        display: grid;
        grid-template-columns: 1fr 1fr 1fr;
        gap: 10px;
      }

      .coffees a {
        margin: 0;
        min-width: unset;
      }
    }

    .footer {
      color: #666;
      background-color: #ccc;
      padding: 15px 0;
      text-align: center;
      font-size: 14px;
    }

    .footer a {
      color: unset;
      background-color: unset;
      text-decoration: revert;
    }
  &lt;/<span style="color: #721045;">style</span>&gt;
&lt;/<span style="color: #721045;">head</span>&gt;
&lt;<span style="color: #721045;">body</span>&gt;
  &lt;<span style="color: #721045;">header</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"page-header"</span>&gt;
    &lt;<span style="color: #721045;">h1</span> <span style="color: #005e8b;">id</span>=<span style="color: #3548cf;">"page-title"</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"title"</span>&gt;<span style="font-weight: bold; text-decoration: underline;">Wombat Coffee Roasters</span>&lt;/<span style="color: #721045;">h1</span>&gt;
    &lt;<span style="color: #721045;">nav</span>&gt;
      &lt;<span style="color: #721045;">ul</span> <span style="color: #005e8b;">id</span>=<span style="color: #3548cf;">"main-nav"</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"nav"</span>&gt;
        &lt;<span style="color: #721045;">li</span>&gt;&lt;<span style="color: #721045;">a</span> <span style="color: #005e8b;">href</span>=<span style="color: #3548cf;">"/"</span>&gt;Home&lt;/<span style="color: #721045;">a</span>&gt;&lt;/<span style="color: #721045;">li</span>&gt;
        &lt;<span style="color: #721045;">li</span>&gt;&lt;<span style="color: #721045;">a</span> <span style="color: #005e8b;">href</span>=<span style="color: #3548cf;">"/coffees"</span>&gt;Coffees&lt;/<span style="color: #721045;">a</span>&gt;&lt;/<span style="color: #721045;">li</span>&gt;
        &lt;<span style="color: #721045;">li</span>&gt;&lt;<span style="color: #721045;">a</span> <span style="color: #005e8b;">href</span>=<span style="color: #3548cf;">"/brewers"</span>&gt;Brewers&lt;/<span style="color: #721045;">a</span>&gt;&lt;/<span style="color: #721045;">li</span>&gt;
        &lt;<span style="color: #721045;">li</span>&gt;&lt;<span style="color: #721045;">a</span> <span style="color: #005e8b;">href</span>=<span style="color: #3548cf;">"/specials"</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"featured"</span>&gt;Specials&lt;/<span style="color: #721045;">a</span>&gt;&lt;/<span style="color: #721045;">li</span>&gt;
      &lt;/<span style="color: #721045;">ul</span>&gt;
    &lt;/<span style="color: #721045;">nav</span>&gt;
  &lt;/<span style="color: #721045;">header</span>&gt;
  &lt;<span style="color: #721045;">main</span>&gt;
    &lt;<span style="color: #721045;">p</span>&gt;Try some of our newest coffees:&lt;/<span style="color: #721045;">p</span>&gt;
    &lt;<span style="color: #721045;">div</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"coffees"</span>&gt;
      &lt;<span style="color: #721045;">a</span> <span style="color: #005e8b;">href</span>=<span style="color: #3548cf;">"/coffees/costa-rica"</span>&gt;Costa Rica&lt;/<span style="color: #721045;">a</span>&gt;
      &lt;<span style="color: #721045;">a</span> <span style="color: #005e8b;">href</span>=<span style="color: #3548cf;">"/coffees/ethiopia"</span>&gt;Ethiopia&lt;/<span style="color: #721045;">a</span>&gt;
      &lt;<span style="color: #721045;">a</span> <span style="color: #005e8b;">href</span>=<span style="color: #3548cf;">"/coffees/guatamala"</span>&gt;Guatemala&lt;/<span style="color: #721045;">a</span>&gt;
      &lt;<span style="color: #721045;">a</span> <span style="color: #005e8b;">href</span>=<span style="color: #3548cf;">"/coffees/kenya"</span>&gt;Kenya&lt;/<span style="color: #721045;">a</span>&gt;
      &lt;<span style="color: #721045;">a</span> <span style="color: #005e8b;">href</span>=<span style="color: #3548cf;">"/coffees/mexico"</span>&gt;Mexico&lt;/<span style="color: #721045;">a</span>&gt;
    &lt;/<span style="color: #721045;">div</span>&gt;
  &lt;/<span style="color: #721045;">main</span>&gt;
  &lt;<span style="color: #721045;">footer</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"footer"</span>&gt;
    <span style="color: #005e8b;">&amp;copy;</span> 2023 Wombat Coffee Roasters <span style="color: #005e8b;">&amp;mdash;</span>
    &lt;<span style="color: #721045;">a</span> <span style="color: #005e8b;">href</span>=<span style="color: #3548cf;">"/terms-of-use"</span>&gt;Terms of use&lt;/<span style="color: #721045;">a</span>&gt;
  &lt;/<span style="color: #721045;">footer</span>&gt;
&lt;/<span style="color: #721045;">body</span>&gt;
</pre>
</div></li>
</ul></li>
<li>特性查询还支持以下扩展语法:
<ul class="org-ul">
<li>反向检测: @supports not(&lt;declaration&gt;) 仅当浏览器不支持声明时应用样式</li>
<li>或逻辑检测: @supports (&lt;declaration&gt;) or (&lt;declaration&gt;) 任意一个声明被支持即应用样式</li>
<li>与逻辑检测: @supports (&lt;declaration&gt;) and (&lt;declaration&gt;) 仅当所有声明均被支持时应用样式</li>
<li>选择器检测: @supports selector(&lt;selector&gt;) 检测浏览器是否理解特定选择器(例如@supports selector(:user-invalid))</li>
</ul></li>
</ul>
</div>
</div>
</div>
</div>
<div id="outline-container-orgec3353d" class="outline-2">
<h2 id="orgec3353d"><span class="section-number-2">2.</span> Chapter 02: Working with relative units</h2>
<div class="outline-text-2" id="text-2">
<ul class="org-ul">
<li>在CSS中指定长度值时,开发者拥有丰富多样的选择.其中最常用且可能最易用的单位是像素(px).这类单位属
于绝对单位,即5px始终代表相同的物理尺寸.</li>
<li>介绍下像素 (px),点 (pt) 与派卡 (pc).CSS 支持多种绝对长度单位,其中最常见,最基础的是像素 (px).</li>
<li>其他不太常见的绝对单位包括:
<ul class="org-ul">
<li>毫米 (mm)</li>
<li>厘米 (cm)</li>
<li>四分之一毫米 (Q)</li>
<li>英寸 (in.)</li>
<li>点 (pt — 印刷术语,表示 1/72 英寸)</li>
<li>派卡 (pc — 印刷术语,表示 12 点)</li>
</ul></li>
<li>如果您愿意进行数学计算,这些单位中的任何一个都可以直接转换为另一个:
<ul class="org-ul">
<li>1 in. = 25.4 mm = 101.6 Q = 2.54 cm = 6 pc = 72 pt = 96 px.</li>
<li>因此,16 px 等同于 12 pt(计算方式:16 / 96 × 72).</li>
</ul></li>
<li>印刷设计师通常更熟悉点的使用,而开发者则更习惯像素,因此在与设计师沟通时,您可能需要在两者之间进行一些
换算.</li>
<li>像素 (px) 这个名称稍具误导性:一个 CSS 像素并不严格等同于显示器的一个物理像素点.在高分辨率("视网膜")
显示屏的情况下尤其明显.尽管 CSS 测量值可能会根据浏览器操作系统和硬件进行一定程度的缩放,但通常情况下,
<b>96 px 大致接近屏幕上的 1 物理英寸</b>. 然而,在某些特定设备上,或受用户分辨率设置的影响,这个对应关系
可能会有所不同</li>
<li>而另一些单位如em和rem则属于相对单位,其具体值会随外部因素变化&#x2013;例如2em的实际尺寸取决于所应用的元素
(有时甚至取决于应用的CSS属性).这种特性自然使得相对单位的使用更具挑战性.</li>
<li>注意:长度(length)是CSS中表示距离测量的正式名称,由数字和单位组成(如5px).百分比(percentage)
虽然与长度类似,但严格来说不属于长度单位.</li>
<li>即使是经验丰富的CSS开发者,也常因相对单位值的不可预测性而倾向于使用像素这类绝对单位.本章将揭开相对
单位的神秘面纱:首先阐释其独特的应用价值,进而解析其运作机制.我将揭示其看似不稳定的本质规律,并演
示如何驾驭这种特性.熟练运用相对单位能让你的代码更简洁更灵活,更易维护&#x2013;让相对单位真正为你所用.</li>
</ul>
</div>
<div id="outline-container-orgece1fef" class="outline-3">
<h3 id="orgece1fef"><span class="section-number-3">2.1.</span> The power of relative units</h3>
<div class="outline-text-3" id="text-2-1">
<ul class="org-ul">
<li>CSS 将样式延迟绑定到网页: 网页内容和其样式需要两者都编写完成后才会合并应用.这为设计流程增加了一层
复杂性,这是在平面设计等其他类型场景中不存在的.</li>
<li>但与此同时,它也带来了更强大的功能:一个样式表可以应用于成百上千甚至上万个页面.此外,页面的最终渲
染效果可以直接由用户更改,例如,用户可以更改默认字体大小或调整浏览器窗口大小.</li>
<li>在早期的计算机应用程序开发(以及传统出版)中,开发者(或出版商)确切了解其媒介的固定约束条件.一个
特定的程序窗口可能是 800 像素宽 × 500 像素高,或者一页纸可能是 4 英寸宽 × 6.5 英寸高.因此,当开发
者开始布局应用程序的按钮和文本时,他们确切知道可以将这些元素制作多大,也确切知道屏幕上留给其他元素
的空间有多少.但在网页环境中,情况截然不同</li>
</ul>
</div>
<div id="outline-container-org3ce60bc" class="outline-4">
<h4 id="org3ce60bc"><span class="section-number-4">2.1.1.</span> The rise of responsive design</h4>
<div class="outline-text-4" id="text-2-1-1">
<ul class="org-ul">
<li>在网页环境中,用户可以将浏览器窗口设置为任意尺寸,而CSS样式必须适应这些尺寸. 此外,用户还可能在页
面打开后调整窗口大小,CSS也需要随之适应新的约束条件.这意味着样式不能在创建页面时就固定应用;浏览器
必须在页面渲染到屏幕上时进行实时计算.</li>
<li>这给CSS增加了一层抽象性. 开发者无法在理想化上下文中设计元素样式,而必须制定能在该元素可能出现的任
何上下文中都适用的规则.在当今的网页环境下,您的页面:
<ul class="org-ul">
<li>不仅需要在4英寸的手机屏幕上正确渲染,</li>
<li>同样也需要在30英寸的显示器上完美呈现.</li>
</ul></li>
<li>面对用户设备类型和屏幕尺寸的千差万别,我们必须时刻关注响应式设计.如果你给一个元素设置了 800px 的宽
度,它在较小的窗口中将如何显示?如果横向菜单的内容无法完全放在一行上,又会呈现什么样子?</li>
<li>在编写 CSS 时,你需要同时具备具体与全局的思维.当遇到一个特定问题有多种解决方案时,应该优先选择在多
种不同情况下更具普遍适用性的方案.</li>
<li>定义:响应式设计(Responsive Design)这个术语由伊桑·马科特(Ethan Marcotte)首创,指的是能够根据浏
览器窗口尺寸大小"响应式"地呈现不同样式的设计方法.这就要求有意识地考虑移动设备,平板电脑或任何尺寸
的桌面屏幕.我们将在第 7 章深入探讨响应式设计,但在本章中,我会在进入该主题前先奠定一些重要基础.</li>
<li>相对单位(Relative units)是 CSS 提供的实现这种抽象化思维的工具之一:
<ul class="org-ul">
<li>字体大小不必固定为 14px,你可以设置为相对于窗口尺寸成比例缩放.</li>
<li>或者,将页面上所有内容的大小设置为相对于基本字体大多少,小多少(relative to the base font size),然后
只需一行代码就能调整整个页面的尺寸.</li>
</ul></li>
<li>下面让我们具体看看 CSS 提供了哪些功能来实现这种设计方式.</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org96463ba" class="outline-3">
<h3 id="org96463ba"><span class="section-number-3">2.2.</span> Ems and rems</h3>
<div class="outline-text-3" id="text-2-2">
<ul class="org-ul">
<li><b>em 是最常见的相对长度单位</b>,源于印刷排版领域,指代特定字体尺寸的计量单位.</li>
<li>在 CSS 中,1em 表示当前元素的字体尺寸;其实际值会随着"被应用element的改变而改变"
<ul class="org-ul">
<li><p>
比如图2-1 展示了一个带有 1em 内边距的 div 元素.
</p>

<div id="org46b5b85" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/2-1.png" alt="2-1.png" />
</p>
<p><span class="figure-number">Figure 5: </span>cid/2-1.png</p>
</div></li>
<li><p>
上面的例子是使用如下代码产生的.既然字体是16px,那么padding 也就会是"16px乘以1"的宽度
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #721045;">.padded</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">font-size</span>: 16px;
  <span style="color: #531ab6;">padding</span>: 1em;
<span style="color: #000000;">}</span>
</pre>
</div></li>
<li><p>
如果字体变大,那么padding也变大,字体变小,padding也变小,图2-2的对比更容易让人理解
</p>

<div id="orge4d8f70" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/2-2.png" alt="2-2.png" />
</p>
<p><span class="figure-number">Figure 6: </span>cid/2-2.png</p>
</div></li>
<li><p>
上图的html代码如下
</p>
<div class="org-src-container">
<pre class="src src-html">&lt;<span style="color: #531ab6;">!doctype</span> html&gt;
&lt;<span style="color: #721045;">head</span>&gt;
  &lt;<span style="color: #721045;">style</span>&gt;
    /* keep the spans from bleeding off the top of the page */
    body {
      margin: 1.5em;
    }

    .box {
      padding: 1em;
      border-radius: 1em;
      background-color: lightgray;
    }

    .box-small {
      font-size: 12px;
    }

    .box-large {
      font-size: 18px;
    }
  &lt;/<span style="color: #721045;">style</span>&gt;
&lt;/<span style="color: #721045;">head</span>&gt;

&lt;<span style="color: #721045;">body</span>&gt;
  &lt;<span style="color: #721045;">span</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"box box-small"</span>&gt;Small&lt;/<span style="color: #721045;">span</span>&gt;
  &lt;<span style="color: #721045;">span</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"box box-large"</span>&gt;Large&lt;/<span style="color: #721045;">span</span>&gt;
&lt;/<span style="color: #721045;">body</span>&gt;
</pre>
</div></li>
<li>使用 em 单位设置 内边距(padding),高度(height),宽度(width) 或 圆角(border-radius) 等属性
非常便捷,因为当元素继承不同的字体大小或用户更改字体设置时,这些属性会随之均匀缩放</li>
</ul></li>
</ul>
</div>
<div id="outline-container-orgfa18243" class="outline-4">
<h4 id="orgfa18243"><span class="section-number-4">2.2.1.</span> Using ems to define font-size</h4>
<div class="outline-text-4" id="text-2-2-1">
<ul class="org-ul">
<li>我们前面说过,如果你在非font-size的地方设置了ems,那么ems其实就是font-size的倍数,比如0.8ems,其实就是
当前font-size乘以0.8</li>
<li>那如果我们的font-size也是以ems为单位设置的呢?
<ul class="org-ul">
<li>检查当前元素的直接父元素的font-size值(单位可以是px,em,%等), 1em = 父级元素的字体大小</li>
<li>若父级未设置,则继续向上查找,直至根元素(&lt;html&gt;)</li>
<li>未手动设置时,根元素(&lt;html&gt;)的默认字体大小为 *16px*(多数浏览器的标准), 这个16px由于非常常用,
甚至可以使用关键字medium代替</li>
</ul></li>
<li>ems还存在一个隐藏的累计缩放问题,原因如下几点:
<ul class="org-ul">
<li>ems既能在font-size使用,所以会从父元素获得基准font-size,计算出实际font-size等于 <b>父元素基准font-size乘以font ems</b></li>
<li>ems如果同时在padding使用,这个时候的基准来源 <b>不是父元素基准font-size</b> ,而是刚才获得的新的font-size</li>
<li>所以ems同时在padding使用,那么其font-size等于 <b>父元素基准font-size乘以font ems再乘以padding ems</b></li>
</ul></li>
<li>下面这个例子中就是使用ems同时设置了font-size和padding
<ul class="org-ul">
<li><p>
示例如下
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #721045;">body</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">font-size</span>: 16px;
<span style="color: #000000;">}</span>

<span style="color: #721045;">.slogan</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">font-size</span>: 1.2em;
  <span style="color: #531ab6;">padding</span>: 1.2.em;
  <span style="color: #531ab6;">background-color</span>: <span style="color: #000000; background-color: #ccc;">#ccc</span>;
<span style="color: #000000;">}</span>
</pre>
</div></li>
<li>font-size使用1.2em会得到16 * 1.2 = 19.2px</li>
<li>padding在使用1.2em会得到19.2 * 1.2 = 23.04px</li>
</ul></li>
<li>当你使用 em 单位来指定多个嵌套元素的字体大小时,可能会产生意想不到的结果.为了知道每个元素的确切值,
你需要知道它继承的字体大小.而如果这个继承大小是在父元素上用 em 定义的,那么你又需要知道父元素继承
的尺寸,如此层层向上追溯,直到根元素.</li>
<li>当你为列表的字体大小使用 em 单位,然后将列表嵌套好几层时,这个问题会迅速显现.
<ul class="org-ul">
<li><p>
几乎每位 Web 开发者在职业生涯的某个阶段,都曾加载页面后看到类似图 2-5 的情形:文字正在缩小! 这
恰恰  是令开发者对使用 em 单位感到畏惧的那类问题.
</p>

<div id="org5dc6f66" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/2-5.png" alt="2-5.png" />
</p>
<p><span class="figure-number">Figure 7: </span>cid/2-5.png</p>
</div></li>
<li><p>
上图的代码如下
</p>
<div class="org-src-container">
<pre class="src src-html">&lt;<span style="color: #531ab6;">!doctype</span> html&gt;
&lt;<span style="color: #721045;">head</span>&gt;
  &lt;<span style="color: #721045;">style</span>&gt;
    body {
      font-size: 16px;
    }

    ul {
      font-size: 0.8em;
    }
  &lt;/<span style="color: #721045;">style</span>&gt;
&lt;/<span style="color: #721045;">head</span>&gt;

&lt;<span style="color: #721045;">body</span>&gt;
  &lt;<span style="color: #721045;">ul</span>&gt;
    &lt;<span style="color: #721045;">li</span>&gt;
      Top level
      &lt;<span style="color: #721045;">ul</span>&gt;
        &lt;<span style="color: #721045;">li</span>&gt;
          Second level
          &lt;<span style="color: #721045;">ul</span>&gt;
            &lt;<span style="color: #721045;">li</span>&gt;
              Third level
              &lt;<span style="color: #721045;">ul</span>&gt;
                &lt;<span style="color: #721045;">li</span>&gt;
                  Fourth level
                  &lt;<span style="color: #721045;">ul</span>&gt;
                    &lt;<span style="color: #721045;">li</span>&gt;Fifth level&lt;/<span style="color: #721045;">li</span>&gt;
                  &lt;/<span style="color: #721045;">ul</span>&gt;
                &lt;/<span style="color: #721045;">li</span>&gt;
              &lt;/<span style="color: #721045;">ul</span>&gt;
            &lt;/<span style="color: #721045;">li</span>&gt;
          &lt;/<span style="color: #721045;">ul</span>&gt;
        &lt;/<span style="color: #721045;">li</span>&gt;
      &lt;/<span style="color: #721045;">ul</span>&gt;
    &lt;/<span style="color: #721045;">li</span>&gt;
  &lt;/<span style="color: #721045;">ul</span>&gt;
&lt;/<span style="color: #721045;">body</span>&gt;
</pre>
</div></li>
<li>文字缩小问题发生在你将列表嵌套多层,并对每一层应用基于 em 的字体大小时.上例将无序列表 (&lt;ul&gt;) 的
字体大小设置为 0.8em.该选择器会作用于页面上的每一个 &lt;ul&gt;;因此,当这些列表从其他父级列表继承其字
体大小时,em 值就会进行复合计算</li>
<li>每个列表的字体大小都是其父级字体大小的 0.8 倍.这意味着第一级列表的字体大小为 12.8px,但下一级列
表是 10.24px(12.8px × 0.8),第三级是 8.192px,依此类推.同样地,如果你指定的 em 值大于 1,文字
则会不断变大</li>
</ul></li>
<li>一个可行的解决方案是首先像之前一样(清单 2.5)将第一级列表的字体大小设置为 0.8em.然后,清单中的第
二个选择器专门针对位于无序列表内部的无序列表&#x2013;即除了顶层列表之外的所有嵌套列表
<ul class="org-ul">
<li><p>
代码如下
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #721045;">ul</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">font-size</span>: 0.8em;
<span style="color: #000000;">}</span>
<span style="color: #721045;">ul ul</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">font-size</span>: 1em;
<span style="color: #000000;">}</span>
</pre>
</div></li>
<li>上述做法解决了问题,但它并非理想方案;因为你设置了一个值,然后立即用另一条规则覆盖了它.如果能通过
提升选择器优先级来避免覆盖规则,那会更好</li>
</ul></li>
<li>至此,应该很清楚,如果不小心使用,em 单位很容易失控.它们用于设置内边距 (padding),外边距 (margin)
和元素尺寸 (element sizing) 时很好,但用于设置字体大小时,它们可能会变得很复杂.值得庆幸的是,有一
个更好的选择&#x2013;rem.</li>
</ul>
</div>
</div>
<div id="outline-container-org03a6279" class="outline-4">
<h4 id="org03a6279"><span class="section-number-4">2.2.2.</span> Using rems for font-size</h4>
<div class="outline-text-4" id="text-2-2-2">
<ul class="org-ul">
<li>是一种树形结构,其中每个元素由一个节点表示.
<ul class="org-ul">
<li>&lt;html&gt; 元素是顶级(或根)节点.</li>
<li>在它之下是其子节点 &lt;head&gt; 和 &lt;body&gt;.</li>
<li>在这些节点之下是它们的子节点,然后是它们的子节点,依此类推</li>
</ul></li>
<li>根节点是文档中所有其他元素的祖先.它有一个特殊的伪类选择器 (:root, 注意伪类用`:`, 类用`.`),您可以
使用它来定位根节点.这等效于使用类型选择器 html,但其特异性相当于一个类选择器,而不是标签选择器.</li>
<li>Rem 是 "root em" 的缩写.与相对于当前元素不同,rems 是相对于根元素 (&lt;html&gt;) 的.无论您在文档中的哪
个位置应用它,1.2rem 都具有相同的计算值:根元素字体大小的 1.2 倍.
<ul class="org-ul">
<li><p>
下面的代码清单设置了根字体大小,然后使用 rems 来定义相对于该根字体大小的无序列表的字体大小:
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #721045;">:root</span> <span style="color: #000000;">{</span>
  <span style="color: #7f0000;">/* </span><span style="color: #7f0000;">:root &#20266;&#31867;&#36873;&#25321;&#22120;</span><span style="color: #7f0000;"> */</span>
  <span style="color: #531ab6;">font-size</span>: 1em; <span style="color: #7f0000;">/* </span><span style="color: #7f0000;">&#20351;&#29992;&#27983;&#35272;&#22120;&#30340;&#40664;&#35748;&#22823;&#23567;(16px)</span><span style="color: #7f0000;"> */</span>
<span style="color: #000000;">}</span> <span style="color: #7f0000;">/* </span><span style="color: #7f0000;">&#31561;&#25928;&#20110; HTML &#31867;&#22411;&#36873;&#25321;&#22120;</span><span style="color: #7f0000;"> */</span>

<span style="color: #721045;">ul</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">font-size</span>: 0.8rem; <span style="color: #7f0000;">/* </span><span style="color: #7f0000;">&#30456;&#23545;&#20110;&#26681;&#20803;&#32032;&#30340;&#23383;&#20307;&#22823;&#23567;&#35745;&#31639;</span><span style="color: #7f0000;"> */</span>
<span style="color: #000000;">}</span>
</pre>
</div></li>
<li>上例中,根字体大小是浏览器的默认值 16px(根元素上的 1em 是相对于浏览器的默认值).</li>
<li>无序列表 (ul) 的指定字体大小为 0.8rem,计算结果为 16px * 0.8 = 12.8px.</li>
<li>因为这是相对于根元素的,即使您嵌套列表,字体大小也保持不变</li>
</ul></li>
<li>Rems 简化了与 ems 相关的许多复杂性.事实上,它们在像素 (px) 和 ems 之间提供了一个很好的中间地带,既
提供了相对单位的优点,又更容易使用.这是否意味着您应该在任何地方都使用 rems 而放弃其他选项呢?
<ul class="org-ul">
<li>答案是否定的,在 CSS 中,答案往往是:"视情况而定." Rems 只是您工具箱中的一个工具.掌握 CSS 的一个
重要部分就是学习在何时使用哪种工具</li>
</ul></li>
<li>实际上单位的选择,的最佳实践是如下三条:
<ul class="org-ul">
<li><b>rems 用于字体大小 (font-size)</b>: 以获得可预测性.</li>
<li><b>像素 (px) 用于边框 (border)</b>: 特别是当您想要一条漂亮的细线时.</li>
<li><b>ems 或 rems 用于大多数其他度量</b>: 尤其是内边距 (padding),外边距 (margin) 和圆角
(border-radius).这样,字体大小是可预测的,但如果其他因素改变了元素的字体大小,您仍然可以利用
ems 缩放其内边距和外边距带来的优势</li>
</ul></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org98eab75" class="outline-3">
<h3 id="org98eab75"><span class="section-number-3">2.3.</span> Stop thinking in pixels</h3>
<div class="outline-text-3" id="text-2-3">
<ul class="org-ul">
<li>过去有一个常见但实为反模式的做法:将页面根元素(html)的字体大小重置为 0.625em 或 62.5%.这种做法将
浏览器的默认字体大小(通常是 16px)缩小为 10px.它简化了计算(因为你现在是以10为计算基础了):如果你
的设计师要求字体大小为 14px,你只需心算除以 10,然后输入 1.4rem,同时表面上你仍在使用相对单位.
<ul class="org-ul">
<li><p>
以下 CSS 是这种做法的示例:
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #721045;">html</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">font-size</span>: 0.625em;
<span style="color: #000000;">}</span>
</pre>
</div></li>
<li>我不推荐这样做. 乍看之下这很方便,但这种方法存在两个问题:
<ol class="org-ol">
<li>它迫使你编写大量重复的样式. 10 像素对于文本来说太小了,因此你不得不在整个页面中覆盖它.你会发
现你需要将段落设置为 1.6rem,侧边栏文本设置为 1.6rem,导航链接设置为 1.6rem,等等.这引入了更
多出错的可能,当需要更改时增加了代码的修改点,并且增大了样式表的体积.</li>
<li>当你这样做时,你实际上仍然在用像素思考. 你可能在代码中输入了 1.6rem,但在你的脑海中,你仍然在
想 "16 像素".在响应式网页设计中,你应该习惯于使用"模糊"值.1.2em 最终计算出来是多少像素并不重
要;你只需要知道它比继承的字体大小稍微大一点就可以了.如果它在屏幕上看起来不符合你的期望,那就
调整它.这需要一些尝试和错误,但事实上,使用像素单位也同样需要尝试和错误.</li>
</ol></li>
</ul></li>
<li>在使用 em 单位时,人们很容易陷入纠结,执着于最终计算出来的精确像素值,尤其是字体大小.当你不断地除
法和乘法 em 值时,你会把自己逼疯.相反,我建议你养成优先使用 em 单位的习惯.如果你习惯了使用像素,
那么使用 em 值可能需要练习,但这是值得的.</li>
<li>这并非说你永远不需要处理像素.如果你在和设计师合作,你们很可能需要用一些具体的像素数字来讨论,这没
有问题.在项目开始时,你需要确定一个基础字体大小(通常还包括一些常用尺寸,如标题和脚注).在讨论事
物大小时,使用绝对值(如像素)确实更容易.</li>
<li>将设计稿转换为 rem 单位需要算术运算,所以手边备个计算器.设置好根字体大小(html 的 font-size)就定
义了 1rem 的基准.从那一刻起,使用像素应该成为例外情况,而非常态.</li>
<li>在本章接下来的内容中,我仍会提及像素.这有助于阐明相对单位的行为方式,也能帮助你习惯 em 单位的计算.
在本章之后,我将主要使用相对单位来讨论字体大小.</li>
</ul>
</div>
<div id="outline-container-org0e16a61" class="outline-4">
<h4 id="org0e16a61"><span class="section-number-4">2.3.1.</span> Setting a sane default font size</h4>
<div class="outline-text-4" id="text-2-3-1">
<ul class="org-ul">
<li>假设您希望默认字体大小为 14 像素 (px).
<ul class="org-ul">
<li>与其将默认值设为 10 px 然后在页面各处覆盖它,</li>
<li>不如将这个值设置在根元素上.期望值除以继承值(在本例中是浏览器的默认值)为 14/16,等于 0.875.在
此处使用 em 单位可以让您调整默认字体大小,同时仍然尊重用户的任何字体设置.</li>
</ul></li>
<li>下面这个例子分几个部分来讲解如何合理的设置一个项目的元素大小
<ul class="org-ul">
<li><p>
首先是设置默认字体: 添加到新样式表的顶部,因为您将在此基础上进行构建.这是在根元素 (&lt;html&gt;) 设置默认字体
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #721045;">:root</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">font-size</span>: 0.875em; <span style="color: #7f0000;">/* </span><span style="color: #7f0000;">&#30446;&#26631; HTML &#36873;&#25321;&#22120;;14/16 (&#26399;&#26395;&#20687;&#32032; / &#32487;&#25215;&#20687;&#32032;) &#31561;&#20110; 0.875</span><span style="color: #7f0000;"> */</span>
<span style="color: #000000;">}</span>
</pre>
</div></li>
<li><p>
安装上面配置以后,所有的逻辑都是基于基础字体是14px展开的.假设有如下的页面
</p>
<div class="org-src-container">
<pre class="src src-html">&lt;<span style="color: #721045;">body</span>&gt;
  &lt;<span style="color: #721045;">div</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"panel"</span>&gt;
    &lt;<span style="color: #721045;">h2</span>&gt;<span style="font-weight: bold; font-style: italic; text-decoration: underline;">Single-origin</span>&lt;/<span style="color: #721045;">h2</span>&gt;
    &lt;<span style="color: #721045;">div</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"panel-body"</span>&gt;
      We have built partnerships with small farms around the world to
      hand-select beans at the peak of season. We then carefully roast in
      &lt;<span style="color: #721045;">a</span> <span style="color: #005e8b;">href</span>=<span style="color: #3548cf;">"/batch-size.html"</span>&gt;small batches&lt;/<span style="color: #721045;">a</span>&gt; to maximize their potential.
    &lt;/<span style="color: #721045;">div</span>&gt;
  &lt;/<span style="color: #721045;">div</span>&gt;
&lt;/<span style="color: #721045;">body</span>&gt;
</pre>
</div></li>
<li><p>
我们会按照前面讲解的最佳实践(rems用于字体,px用于border,ems或者rms拥有其他)来配置各个element的大小
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #721045;">body</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">font-family</span>: Helvetica, Arial, sans-serif;
<span style="color: #000000;">}</span>

<span style="color: #721045;">.panel</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">padding</span>: 1em;
  <span style="color: #531ab6;">border</span>: 1px solid <span style="color: #000000; background-color: #999;">#999</span>;
  <span style="color: #531ab6;">border-radius</span>: 0.5em;
<span style="color: #000000;">}</span>
<span style="color: #721045;">.panel &gt; h2</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">margin-top</span>: 0;
  <span style="color: #531ab6;">font-size</span>: 0.8rem;
  <span style="color: #531ab6;">font-weight</span>: bold;
  <span style="color: #531ab6;">text-transform</span>: uppercase;
<span style="color: #000000;">}</span>
</pre>
</div></li>
<li>第二个选择器中的 &gt; 是一个直接后代组合器 (direct descendant combinator);它表示选择器中的两个元素
之间具有直接的父-子关系.在本例中,该选择器目标是作为 .panel 元素子元素的任何 h2.</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-orgb2eaa74" class="outline-4">
<h4 id="orgb2eaa74"><span class="section-number-4">2.3.2.</span> Making the panel responsive</h4>
<div class="outline-text-4" id="text-2-3-2">
<ul class="org-ul">
<li>我们可以根据屏幕的尺寸来更改基准字体大小
<ul class="org-ul">
<li><p>
所使用的方法是使用media query,也就是@media,例子如下
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #721045;">:root</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">font-size</span>: 0.85em; <span style="color: #7f0000;">/* </span><span style="color: #7f0000;">&#24212;&#29992;&#20110;&#25152;&#26377;&#23631;&#24149;,&#20294;&#20250;&#34987;&#26356;&#22823;&#23631;&#24149;&#30340;&#35774;&#32622;&#35206;&#30422;</span><span style="color: #7f0000;"> */</span>
<span style="color: #000000;">}</span>

<span style="color: #8f0075;">@media</span> <span style="color: #000000;">(</span>min-width: 800px<span style="color: #000000;">)</span> <span style="color: #000000;">{</span>
  <span style="color: #721045;">:root</span> <span style="color: #dd22dd;">{</span>
    <span style="color: #531ab6;">font-size</span>: 1em; <span style="color: #7f0000;">/* </span><span style="color: #7f0000;">&#20165;&#24212;&#29992;&#20110;&#23631;&#24149;&#23485;&#24230;&#20026;800&#20687;&#32032;&#21450;&#20197;&#19978;&#30340;&#24773;&#20917;,&#35206;&#30422;&#21407;&#20540;</span><span style="color: #7f0000;"> */</span>
  <span style="color: #dd22dd;">}</span>
<span style="color: #000000;">}</span>

<span style="color: #8f0075;">@media</span> <span style="color: #000000;">(</span>min-width: 1200px<span style="color: #000000;">)</span> <span style="color: #000000;">{</span>
  <span style="color: #721045;">:root</span> <span style="color: #dd22dd;">{</span>
    <span style="color: #531ab6;">font-size</span>: 1.15em; <span style="color: #7f0000;">/* </span><span style="color: #7f0000;">&#20165;&#24212;&#29992;&#20110;&#23631;&#24149;&#23485;&#24230;&#20026;1200&#20687;&#32032;&#21450;&#20197;&#19978;&#30340;&#24773;&#20917;,&#35206;&#30422;&#21069;&#38754;&#20004;&#20010;&#20540;</span><span style="color: #7f0000;"> */</span>
  <span style="color: #dd22dd;">}</span>
<span style="color: #000000;">}</span>
</pre>
</div></li>
<li>上面例子中的第一个ruleset指定了一个较小的默认字体大小,这是我们希望在小屏幕上应用的字体大小.</li>
<li>后面的两个ruleset也使用了:root伪类,但是其代码在后面,所以覆盖了前面的:root:
<ol class="org-ol">
<li>对于屏幕宽度在800像素及其以上的情况,@media (min-width: 800px)起作用之后,font-size: 1em就起作用了</li>
<li>对于屏幕宽度在1200像素及其以上的情况,@media (min-width: 1200px)起作用之后,font-size: 1.15em就
起作用了</li>
</ol></li>
<li>通过在页面根元素(:root)上应用这些字体大小,你已在整个页面上响应式地重新定义了 em 和 rem 单位的
含义.这意味着面板现在具备了响应性,即使你并没有直接修改面板本身的样式.
<ol class="org-ol">
<li>在小屏幕(如智能手机)上:字体渲染得更小(13.6 px).内边距(padding)和边框圆角(border radius)
也会相应变小以匹配.</li>
<li>在大屏幕(宽度超过800px和1200px)上:组件比例放大,字体大小分别为16px和18.4px.你可以调整浏览
器窗口大小来观察这些变化的发生</li>
</ol></li>
</ul></li>
<li>这种使用@media的方式有如下核心优势:
<ul class="org-ul">
<li>全局响应性: 如果你足够自律,始终坚持用相对单位(如 rem, em, %)来设计整个页面,那么整个页面都将
根据用户浏览器窗口的大小进行缩放.这可以成为你响应式策略的关键部分.</li>
<li>简化代码: 在样式表顶部放置这两个媒体查询(@media),可以消除在整个CSS后续部分编写数十个媒体查询的
需要.但是,这个策略在你使用像素单位(px)定义值时无效.</li>
<li>易于全局调整: 同样地,如果你以后决定整个站点的字体太小或太大,只需修改一行代码(根元素的字体大小),
就能进行全局更改.这个更改将毫不费力地波及整个页面(产生"涟漪效应")</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org78315e3" class="outline-4">
<h4 id="org78315e3"><span class="section-number-4">2.3.3.</span> Resizing a single component</h4>
<div class="outline-text-4" id="text-2-3-3">
<ul class="org-ul">
<li>你也可以使用 em 单位来缩放页面上的单个组件.有时,你可能需要在页面的某些区域使用同一界面元素的放大
版本.也就是说两个size的版本要在同一个页面展示</li>
<li>让我们以面板为例,实现这一点.你需要为面板添加一个 large 类:&lt;div class="panel large"&gt;.
<ul class="org-ul">
<li><p>
图2-9
</p>

<div id="orgc05ce22" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/2-9.png" alt="2-9.png" />
</p>
<p><span class="figure-number">Figure 8: </span>cid/2-9.png</p>
</div></li>
<li>图 2-9 展示了正常面板与大面板的对比效果.这种效果类似于响应式面板,但两种尺寸可以同时存在于同一页
面.</li>
<li>让我们对面板字体大小的定义方式稍作调整.你仍需使用相对单位,但需调整它们所相对的对象.</li>
<li><p>
首先,为每个面板的父元素添加声明 font-size: 1rem.这意味着每个面板将为自身建立一个可预测的字体大
小基准,无论它被放置在页面的哪个位置.
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #721045;">.panel</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">font-size</span>: 1rem;
  <span style="color: #531ab6;">padding</span>: 1em;
  <span style="color: #531ab6;">border</span>: 1px solid <span style="color: #000000; background-color: #999;">#999</span>;
  <span style="color: #531ab6;">border-radius</span>: 0.5em;
<span style="color: #000000;">}</span>
</pre>
</div></li>
<li><p>
其次,将标题的字体大小单位从 rem 改为 em,使其相对于你刚才设置的父元素字体大小(1rem)计算.使用
em 单位使其他字体大小相对于已建立的父元素字体大小计算.这一改动不会改变面板的外观,但它为后续仅
通过一条声明创建放大版本的面板奠定了基础.你只需用另一个值覆盖父元素的 1rem 字体大小.由于组件的
所有尺寸都基于此基准,覆盖它将重新缩放整个面板.
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #721045;">.panel &gt; h2</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">margin-top</span>: 0;
  <span style="color: #531ab6;">font-size</span>: 0.8em;
  <span style="color: #531ab6;">font-weight</span>: bold;
  <span style="color: #531ab6;">text-transform</span>: uppercase;
<span style="color: #000000;">}</span>
</pre>
</div></li>
<li><p>
最后,你可以使用 class="panel" 表示正常面板,使用 class="panel large" 表示放大面板.
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #721045;">.panel.large</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">font-size</span>: 1.2em;
<span style="color: #000000;">}</span>
</pre>
</div></li>
<li><p>
全部代码如下
</p>
<div class="org-src-container">
<pre class="src src-html">&lt;<span style="color: #531ab6;">!doctype</span> html&gt;
&lt;<span style="color: #721045;">head</span>&gt;
  &lt;<span style="color: #721045;">style</span>&gt;
    :root {
      font-size: 0.85em;
    }
    @media (min-width: 800px) {
      :root {
        font-size: 1em;
      }
    }
    @media (min-width: 1200px) {
      :root {
        font-size: 1.15em;
      }
    }

    body {
      font-family: Helvetica, Arial, sans-serif;
    }

    .panel {
      font-size: 1rem;
      padding: 1em;
      border: 1px solid #999;
      border-radius: 0.5em;
    }

    .panel &gt; h2 {
      margin-top: 0;
      font-size: 0.8em;
      font-weight: bold;
      text-transform: uppercase;
    }

    .panel.large {
      font-size: 1.2em;
    }
  &lt;/<span style="color: #721045;">style</span>&gt;
&lt;/<span style="color: #721045;">head</span>&gt;

&lt;<span style="color: #721045;">body</span>&gt;
  &lt;<span style="color: #721045;">div</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"panel"</span>&gt;
    &lt;<span style="color: #721045;">h2</span>&gt;<span style="font-weight: bold; font-style: italic; text-decoration: underline;">Single-origin</span>&lt;/<span style="color: #721045;">h2</span>&gt;
    &lt;<span style="color: #721045;">div</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"body"</span>&gt;
      We have built partnerships with small farms around the world to
      hand-select beans at the peak of season. We then carefully roast in
      &lt;<span style="color: #721045;">a</span> <span style="color: #005e8b;">href</span>=<span style="color: #3548cf;">"/batch-size.html"</span>&gt;small batches&lt;/<span style="color: #721045;">a</span>&gt; to maximize their potential.
    &lt;/<span style="color: #721045;">div</span>&gt;
  &lt;/<span style="color: #721045;">div</span>&gt;
  &lt;<span style="color: #721045;">div</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"panel large"</span>&gt;
    &lt;<span style="color: #721045;">h2</span>&gt;<span style="font-weight: bold; font-style: italic; text-decoration: underline;">Single-origin</span>&lt;/<span style="color: #721045;">h2</span>&gt;
    &lt;<span style="color: #721045;">div</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"body"</span>&gt;
      We have built partnerships with small farms around the world to
      hand-select beans at the peak of season. We then carefully roast in
      &lt;<span style="color: #721045;">a</span> <span style="color: #005e8b;">href</span>=<span style="color: #3548cf;">"/batch-size.html"</span>&gt;small batches&lt;/<span style="color: #721045;">a</span>&gt; to maximize their potential.
    &lt;/<span style="color: #721045;">div</span>&gt;
  &lt;/<span style="color: #721045;">div</span>&gt;
&lt;/<span style="color: #721045;">body</span>&gt;
</pre>
</div></li>
</ul></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org28f2dbb" class="outline-3">
<h3 id="org28f2dbb"><span class="section-number-3">2.4.</span> Vieport-relative units</h3>
<div class="outline-text-3" id="text-2-4">
<ul class="org-ul">
<li><p>
您已经了解到 em 和 rem 是相对于字体大小 (font-size) 定义的,但这些并非唯一的相对单位类型.还有视口
相对单位 (viewport-relative units),用于定义相对于浏览器视口长度的单位.
</p>
<pre class="example" id="orgfa75b9e">
定义:视口 (viewport) 是浏览器窗口中网页可见的框架区域.它不包括浏览器的地址栏,工具栏和状态栏(如果存在).
</pre></li>
<li>随着语言的最新扩展,CSS 中总共有 24 种视口相对单位.这听起来可能有些令人不知所措,但这些单位其实只
是几个相对简单概念的不同排列组合方式.我们将从基础开始.以下是语言最初加入的四个基本单位:
<ul class="org-ul">
<li><b><b>vh</b></b> — 视口高度的百分之一 (One percent of the viewport height)</li>
<li><b><b>vw</b></b> — 视口宽度的百分之一 (One percent of the viewport width)</li>
<li><b><b>vmin</b></b> — 视口高度或宽度中较小尺寸的百分之一 (One percent of the smaller dimension, height or width)</li>
<li><b><b>vmax</b></b> — 视口高度或宽度中较大尺寸的百分之一 (One percent of the larger dimension, height or width)</li>
</ul></li>
<li>例如,50vw 等于视口宽度的一半,25vh 等于视口高度的 25%.vmin 基于高度和宽度两者中较小的那个尺寸.这
有助于确保元素无论屏幕处于何种方向都能适配:如果屏幕是横向 (landscape),它将基于高度;如果是纵向
(portrait),则基于宽度.</li>
<li>图 2-10 展示了一个正方形元素在不同屏幕尺寸视口中的显示效果.
<ul class="org-ul">
<li><p>
图2-10
</p>

<div id="orgfdc2725" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/2-10.png" alt="2-10.png" />
</p>
<p><span class="figure-number">Figure 9: </span>cid/2-10.png</p>
</div></li>
<li>该元素的 宽度(width) 和 高度(height) 均被定义为 90vmin,</li>
<li>这意味着它等于视口较小尺寸(高度或宽度)的 90%&#x2013;在横屏(landscape)下是高度的 90%,在竖屏(portrait)
下则是宽度的 90%</li>
<li><p>
下面代码展示了定义此元素的样式.它创建了一个始终能适配视口内部空间的大正方形,无论浏览器窗口如何
调整大小
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #721045;">.square</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">width</span>: 90vmin;
  <span style="color: #531ab6;">height</span>: 90vmin;
  <span style="color: #531ab6;">background-color</span>: <span style="color: #ffffff; background-color: #369;">#369</span>;
<span style="color: #000000;">}</span>
</pre>
</div></li>
</ul></li>
<li>视口相对单位(如 vmin)非常适合实现诸如让大型英雄区域图片填满屏幕的效果.您的图片可以放置在一个长形
容器中,但将图片高度设置为 100vh 理论上能使其精确匹配视口高度.</li>
<li>然而,当开发者们开始使用这些单位让英雄区域图片填满视口后,我们遇到了一个问题:在移动设备上,视口尺
寸可以动态变化.为了最大化可用屏幕空间,移动浏览器具有一项特性&#x2013;当你向下滚动页面时,部分用户界面控
件(例如屏幕顶部的地址栏和底部的导航按钮)会滑动隐藏;而当你向上滚动时,它们又会滑动回视野中.</li>
<li>这些动态变化会导致视口尺寸发生重排(resize),进而使得页面中使用 vh 单位的元素改变大小,并导致其下
方的内容在屏幕上发生跳动.试想这样一个场景:用户已经滚动浏览了多个高度为 100vh 的区域,然后轻微向上
滚动.这可能导致当前视口内的所有内容突然向上跳动数百像素,造成非常糟糕的阅读体验.同时,这也带来性
能问题,因为浏览器需要重新计算页面的大量布局(通常称为布局抖动或 layout thrashing).</li>
<li>最终,大多数移动浏览器通过重新定义 vh 单位的行为来解决这个问题:它们将 vh 单位基于视口可能达到的最
大尺寸(即忽略地址栏/工具栏隐藏或显示的状态)进行计算.但有时,作为开发者,这并非你想要的行为.正因
如此,CSS 规范后续引入了更多视口相关单位来提供更精细的控制.</li>
</ul>
</div>
<div id="outline-container-org1a3e49f" class="outline-4">
<h4 id="org1a3e49f"><span class="section-number-4">2.4.1.</span> Selecting from the newer viewpoint units</h4>
<div class="outline-text-4" id="text-2-4-1">
<ul class="org-ul">
<li>为了解决布局抖动(layout thrashing)问题,CSS 引入了大视口(large viewport) 和小视口(small viewport)
的概念.大视口是指当浏览器的所有用户界面(UX)元素都隐藏时,视口所能达到的最大可能尺寸.小视口则是
指当所有用户界面元素都显示时,视口所能达到的最小可能尺寸
<ul class="org-ul">
<li><p>
(见图 2.11)
</p>

<div id="org785db3f" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/2-11.png" alt="2-11.png" />
</p>
<p><span class="figure-number">Figure 10: </span>cid/2-11.png</p>
</div></li>
</ul></li>
<li>与常规的视口单位类似,大视口单位同样可用于宽度,高度,最小值(min)和最大值(max).使用时,只需在单位前添加字母 "l":
<ul class="org-ul">
<li>lvw(大视口宽度单位)</li>
<li>lvh(大视口高度单位)</li>
<li>lvmin(大视口最小尺寸单位)</li>
<li>lvmax(大视口最大尺寸单位)</li>
</ul></li>
<li>同样地,小视口单位则添加字母 "s":
<ul class="org-ul">
<li>svw(小视口宽度单位)</li>
<li>svh(小视口高度单位)</li>
<li>svmin(小视口最小尺寸单位)</li>
<li>svmax(小视口最大尺寸单位)</li>
</ul></li>
<li>有了这些新单位,您可以根据需求选择更重要的行为模式:
<ul class="org-ul">
<li>对于需要填满整个屏幕的全高标题栏(masthead),即使这意味着它可能稍微超出屏幕底部一部分也没关系?
那么请使用 height: 100lvh(大视口高度).</li>
<li>对于需要确保整个标题栏始终可见的情况,即使屏幕底部可能会留出一点空白空间?那么请使用 height: 100svh(小视口高度).</li>
</ul></li>
<li>目前,我尚未找到任何浏览器在小视口与大视口宽度之间存在区别的实际例子.因此,就实际效果而言,vw,sv
w 和 lvw 的行为通常是相同的.然而,重要的是要记住它们在概念上是不同的,并且浏览器在未来完全有可能对
它们进行区分.例如,桌面版 Edge 浏览器有一个可以打开和关闭的动态侧边栏;虽然目前这不会影响 svw 和
lvw,但未来的行为可能会发生变化.</li>
<li>以下是需要牢记的一些其他注意事项:
<ul class="org-ul">
<li>视口单位不考虑滚动条的存在.不幸的是,这意味着一个宽度为 100svw 的元素在垂直滚动条出现时,可能会
引入水平滚动条(因为 100svw 包含了滚动条占据的空间).</li>
<li>CSS 规范并未规定屏幕键盘(onscreen keyboard)是否应该缩小小视口尺寸.目前,在某些安卓浏览器中会考
虑键盘的影响,但在 iOS 上则不会;未来这些行为有可能发生变化.</li>
<li>原始的视口单位(vw, vh 等) 在大多数浏览器中的行为通常类似于大视口单位(lvw, lvh),但这种行为并
不能得到保证(即规范未强制规定,浏览器实现可能不一致)</li>
</ul></li>
<li>这就引出了一个尚未被满足的使用场景:有时我们可能希望保留视口单位的原始动态行为,即当浏览器的用户界
面元素显示或隐藏时,单位值能随之动态变化.为了实现这种行为,还有第三种视口单位类型:动态视口
(dynamic viewport).使用时,在视口单位前添加字母 "d":
<ul class="org-ul">
<li>dvw(动态视口宽度单位)</li>
<li>dvh(动态视口高度单位)</li>
<li>dvmin(动态视口最小尺寸单位)</li>
<li>dvmax(动态视口最大尺寸单位)</li>
</ul></li>
<li>这些单位的行为是:当视口较小时(如工具栏显示时)类似于小视口单位;当视口较大时(如工具栏隐藏时)则
类似于大视口单位.</li>
<li>您应该谨慎使用动态视口单位.因为在移动设备上,当用户上下滚动时,如果元素高度动态变化,可能会导致布
局抖动(layout thrashing)(浏览器频繁重新计算布局,影响性能)</li>
<li><p>
表 2-1 列出了所有可用的视口单位(注:原文此处应有表格).为了完整性,该表还包含另一组单位类型:
内联(inline) 和 块(block).
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">&#xa0;</th>
<th scope="col" class="org-left">Unspecified viewpint(original units)</th>
<th scope="col" class="org-left">Large viewport</th>
<th scope="col" class="org-left">Small viewport</th>
<th scope="col" class="org-left">Dynamic viewport</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Width/height</td>
<td class="org-left">vw vh</td>
<td class="org-left">lvw lvh</td>
<td class="org-left">svw svh</td>
<td class="org-left">dvw dvh</td>
</tr>

<tr>
<td class="org-left">Min/max</td>
<td class="org-left">vmin vmax</td>
<td class="org-left">lvmin lvmax</td>
<td class="org-left">svmin svmax</td>
<td class="org-left">dvmin dvmax</td>
</tr>

<tr>
<td class="org-left">Inline/block</td>
<td class="org-left">vi vb</td>
<td class="org-left">lvi lvb</td>
<td class="org-left">svi svb</td>
<td class="org-left">dvi dvb</td>
</tr>
</tbody>
</table></li>
<li>这些被称为逻辑属性(logical properties),它们的行为分别类似于宽度(width)和高度(height),但在垂
直书写语言(如日语)中会进行转置(即 vi 对应内联方向尺寸,vb 对应块方向尺寸).我将在第 3 章更深入
地介绍逻辑属性.</li>
<li>对于标题栏或其他类似全屏/半屏元素之外的许多用途,可能没有特别强烈的理由非要选择某种特定视口尺寸的单
位.面对如此众多的视口单位,这可能会导致些许选择困难症(decision paralysis).当遇到这种情况时,我
的首选方案是使用小视口单位(如 svh),因为它通常能提供更稳定,可预测的结果,避免内容被动态 UI 遮挡</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org2fedaec" class="outline-3">
<h3 id="org2fedaec"><span class="section-number-3">2.5.</span> Unitless numbers and line-height</h3>
<div class="outline-text-3" id="text-2-5">
<ul class="org-ul">
<li>某些 CSS 属性支持使用无单位值(即纯数字).包含该特性的属性有
<ul class="org-ul">
<li>line-height(行高)</li>
<li>z-index(层级索引)</li>
<li>font-weight(字重,例如 700 等价于粗体,400 等价于常规字体等)</li>
</ul></li>
<li>此外,在任何需要长度单位(如 px,em 或 rem)的场景中,均可使用无单位的 0 值,因为在这些情况下单位无
关紧要&#x2013;0 px 等同于 0% 也等同于 0 em.换句话说,长度使用0,是一个'省略': 0能省略单位而其他值不能省略
单位.同时还需要注意的是,角度值和时间单位不算长度,也就不能用0不加单位</li>
<li>line-height是CSS中的一个属性,用来控制文本行与行之间的垂直间距.简单来说,它决定了每一行文本之间的
"高度",从而影响文本的可读性和排版效果.line-height 属性的特殊之处在于它同时支持带单位和不带单位的
数值.通常建议使用无单位数值</li>
<li>为什么line-height最好不要使用单位?
<ul class="org-ul">
<li>无单位的line-height具有相对性:如果你指定一个无单位的数值(如line-height: 1.5;),它表示行高是字
体大小的倍数.比如字体大小是16px,那么line-height: 1.5的实际行高就是16px * 1.5 = 24px.无单位的
line-height会自动根据字体大小调整,适用于响应式设计和动态调整字体大小的场景.</li>
<li>继承性更好:无单位的line-height会直接继承,并且保持相对比例.例如,父元素设置line-height: 1.5;,
子元素无论字体大小如何变化,行高都会按1.5倍计算,从而在排版时保持一致性.</li>
<li>避免固定值的问题:如果使用带单位的值(如line-height: 24px; 注意line-height: 1.2em;也会换算成px),
字体大小发生变化时,行高不会自动适应,可能会导致排版错乱或不美观.带单位的line-height在不同分辨率
的设备上可能也会显得不自然.</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-orgccdbfa6" class="outline-3">
<h3 id="orgccdbfa6"><span class="section-number-3">2.6.</span> Custom properties (aka CSS variables)</h3>
<div class="outline-text-3" id="text-2-6">
<ul class="org-ul">
<li><p>
自定义属性(Custom Properties)实现了更高层级的动态化,基于上下文的样式控制.其运作机制类似于变量:
声明变量→赋值→在样式表中复用该值.此技术能显著减少样式代码重复,并支持多种高级应用场景.
</p>
<pre class="example" id="orgb2d4b8f">
关键区别注解:若您使用Sass/Less等预处理器,切莫轻视原生CSS变量.CSS自定义属性在本质上截然不同,其
能力远超预处理器变量(我倾向称其为"自定义属性"以强调此差异)
</pre></li>
<li>custom property的前面必须加(&#x2013;),用来区分custom property和其他的css property
<ul class="org-ul">
<li><p>
示例如下,其中&#x2013;main-font就是custom property
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #721045;">:root</span> <span style="color: #000000;">{</span>
    <span style="color: #005e8b;">--main-font</span>: Helvetica, Afrial, sans-serif;
<span style="color: #000000;">}</span>
</pre>
</div></li>
<li><p>
上面是定义,当使用的时候,需要var()来获取custom proeprty的值,方法如下
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #721045;">p</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">font-family</span>: var<span style="color: #dd22dd;">(</span><span style="color: #005e8b;">--main-font</span><span style="color: #dd22dd;">)</span>;
<span style="color: #000000;">}</span>
</pre>
</div></li>
<li><p>
我们甚至可以给var第二个参数,用来做fallback
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #721045;">p</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">font-family</span>: var<span style="color: #dd22dd;">(</span><span style="color: #005e8b;">--main-font</span>, sans-serif<span style="color: #dd22dd;">)</span>;
<span style="color: #000000;">}</span>
</pre>
</div></li>
<li>还需要注意的是var解析出来的值,如果不能修饰左边的property,那么会设置为默认值,比如: 若变量值不合法
(如用颜色值设置padding),属性将重置为初始值(如padding: 0)</li>
</ul></li>
<li>custom property让我们能够在一个地方定义变量,起到了single source of truth的功能.</li>
</ul>
</div>
<div id="outline-container-orgaf0f83e" class="outline-4">
<h4 id="orgaf0f83e"><span class="section-number-4">2.6.1.</span> Changing custom properties dynamically</h4>
<div class="outline-text-4" id="text-2-6-1">
<ul class="org-ul">
<li>在目前为止,custom property只不过是比较便捷的工具:它能够减少代码中的大量财富</li>
<li>但是真正让custom property真正有趣的原因在于: custom property的declaration支持cascade和inherit:
<ul class="org-ul">
<li>你可以在多个selector里面定义相同的variable,那么在页面的不同区域里面variable有不同的值</li>
</ul></li>
<li>比如,你可以首先将变量定义为黑色,然后再特定容器内将其冲洗定义为白色.如图2-15
<ul class="org-ul">
<li><p>
图2-15
</p>

<div id="org1e9a621" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/2-15.png" alt="2-15.png" />
</p>
<p><span class="figure-number">Figure 11: </span>cid/2-15.png</p>
</div></li>
<li><p>
上图对应的代码如下
</p>
<div class="org-src-container">
<pre class="src src-html">&lt;<span style="color: #531ab6;">!doctype</span> html&gt;
&lt;<span style="color: #721045;">head</span>&gt;
  &lt;<span style="color: #721045;">style</span>&gt;
    :root {
      font-size: calc(0.5em + 1vw);
      --main-bg: #fff;
      --main-color: #000;
    }

    body {
      font-family: Helvetica, Arial, sans-serif;
    }

    .dark {
      margin-top: 2em;
      padding: 1em;
      background-color: #999;
      --main-bg: #333;
      --main-color: #fff;
    }

    .panel {
      font-size: 1rem;
      padding: 1em;
      border: 1px solid #999;
      border-radius: 0.5em;
      background-color: var(--main-bg);
      color: var(--main-color);
    }

    .panel &gt; h2 {
      margin-top: 0;
      font-size: 0.8em;
      font-weight: bold;
      text-transform: uppercase;
    }

    .panel.large {
      font-size: 1.2em;
    }
  &lt;/<span style="color: #721045;">style</span>&gt;
&lt;/<span style="color: #721045;">head</span>&gt;

&lt;<span style="color: #721045;">body</span>&gt;
  &lt;<span style="color: #721045;">div</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"panel"</span>&gt;
    &lt;<span style="color: #721045;">h2</span>&gt;<span style="font-weight: bold; font-style: italic; text-decoration: underline;">Single-origin</span>&lt;/<span style="color: #721045;">h2</span>&gt;
    &lt;<span style="color: #721045;">div</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"body"</span>&gt;
      We have built partnerships with small farms around the world to
      hand-select beans at the peak of season. We then carefully roast in small
      batches to maximize their potential.
    &lt;/<span style="color: #721045;">div</span>&gt;
  &lt;/<span style="color: #721045;">div</span>&gt;

  &lt;<span style="color: #721045;">aside</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"dark"</span>&gt;
    &lt;<span style="color: #721045;">div</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"panel"</span>&gt;
      &lt;<span style="color: #721045;">h2</span>&gt;<span style="font-weight: bold; font-style: italic; text-decoration: underline;">Single-origin</span>&lt;/<span style="color: #721045;">h2</span>&gt;
      &lt;<span style="color: #721045;">div</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"body"</span>&gt;
        We have built partnerships with small farms around the world to
        hand-select beans at the peak of season. We then carefully roast in
        small batches to maximize their potential.
      &lt;/<span style="color: #721045;">div</span>&gt;
    &lt;/<span style="color: #721045;">div</span>&gt;
  &lt;/<span style="color: #721045;">aside</span>&gt;
&lt;/<span style="color: #721045;">body</span>&gt;
</pre>
</div></li>
<li>我们重点先看:root 伪类,它设置了:
<ol class="org-ol">
<li>main-bg为#fff</li>
<li>main-color为#000</li>
</ol></li>
<li>但是我们在.dark 类里面,我们把上面的custom property,设置了完全相反的值:
<ol class="org-ol">
<li>main-bg为#000</li>
<li>main-color为#fff</li>
</ol></li>
</ul></li>
</ul>
</div>
</div>
</div>
</div>
<div id="outline-container-org00abb5a" class="outline-2">
<h2 id="org00abb5a"><span class="section-number-2">3.</span> Chapter 03: Document flow and the box model</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-org3ae23d5" class="outline-3">
<h3 id="org3ae23d5"><span class="section-number-3">3.1.</span> Normal document flow</h3>
<div class="outline-text-3" id="text-3-1">
<ul class="org-ul">
<li>在本章中,你将创建一个包含顶部页眉和主体内容的简易页面.页面内容的宽度将被限制,以避免文本行过长.
这类布局常被称为单栏布局,因为页面上没有任何并排的文本区块.到本章结束时,你的页面将呈现图3-1所示效
果.我特地将页面设计为块状结构,以便你能清晰识别各元素的尺寸和位置.
<ul class="org-ul">
<li><p>
图3-1
</p>

<div id="orgf282dce" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/3-1.png" alt="3-1.png" />
</p>
<p><span class="figure-number">Figure 12: </span>cid/3-1.png</p>
</div></li>
</ul></li>
<li>下面我们来一步一步的完成上面的页面.第一步就是创建一个基本页面,但是没有任何stylesheet
<ul class="org-ul">
<li><p>
代码如下
</p>
<div class="org-src-container">
<pre class="src src-html">&lt;<span style="color: #531ab6;">!doctype</span> html&gt;
&lt;<span style="color: #721045;">head</span>&gt;
  &lt;<span style="color: #721045;">style</span>&gt;
    /* styles to be added in subsequent listings */
  &lt;/<span style="color: #721045;">style</span>&gt;
&lt;/<span style="color: #721045;">head</span>&gt;
&lt;<span style="color: #721045;">body</span> <span style="color: #005e8b;">lang</span>=<span style="color: #3548cf;">"en-US"</span>&gt;
  &lt;<span style="color: #721045;">header</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"page-header"</span>&gt;
    &lt;<span style="color: #721045;">h1</span>&gt;<span style="font-weight: bold; text-decoration: underline;">Franklin Running Club</span>&lt;/<span style="color: #721045;">h1</span>&gt;
  &lt;/<span style="color: #721045;">header</span>&gt;
  &lt;<span style="color: #721045;">div</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"container"</span>&gt;
    &lt;<span style="color: #721045;">main</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"main"</span>&gt;
      &lt;<span style="color: #721045;">h2</span>&gt;<span style="font-weight: bold; font-style: italic; text-decoration: underline;">Come join us!</span>&lt;/<span style="color: #721045;">h2</span>&gt;
      &lt;<span style="color: #721045;">p</span>&gt;
        The &lt;<span style="color: #721045;">b</span>&gt;<span style="font-weight: bold;">Franklin Running Club</span>&lt;/<span style="color: #721045;">b</span>&gt; meets at 6:00pm every Thursday at the
        town square. Runs are three to five miles, at your own pace.
      &lt;/<span style="color: #721045;">p</span>&gt;
      &lt;<span style="color: #721045;">p</span>&gt;
        Join us while we train for the
        &lt;<span style="color: #721045;">a</span> <span style="color: #005e8b;">href</span>=<span style="color: #3548cf;">"/st-patricks"</span>&gt;St. Patrick's Day 5k&lt;/<span style="color: #721045;">a</span>&gt;. Don't forget to wear
        green!
      &lt;/<span style="color: #721045;">p</span>&gt;
    &lt;/<span style="color: #721045;">main</span>&gt;
    &lt;<span style="color: #721045;">aside</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"social-links"</span>&gt;
      &lt;<span style="color: #721045;">a</span> <span style="color: #005e8b;">href</span>=<span style="color: #3548cf;">"/mastodon"</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"button-link"</span>&gt;follow us on Mastodon&lt;/<span style="color: #721045;">a</span>&gt;
      &lt;<span style="color: #721045;">a</span> <span style="color: #005e8b;">href</span>=<span style="color: #3548cf;">"/facebook"</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"button-link"</span>&gt;like us on Facebook&lt;/<span style="color: #721045;">a</span>&gt;
    &lt;/<span style="color: #721045;">aside</span>&gt;
  &lt;/<span style="color: #721045;">div</span>&gt;
&lt;/<span style="color: #721045;">body</span>&gt;
</pre>
</div></li>
<li>上面的代码有header</li>
<li>上面的代码还有primary container (其实是一个class为container的div)</li>
<li>在primary container里面有一个&lt;main&gt;tag和一个&lt;aside&gt;</li>
<li><p>
效果如3-2
</p>

<div id="orge1f2be9" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/3-2.png" alt="3-2.png" />
</p>
<p><span class="figure-number">Figure 13: </span>cid/3-2.png</p>
</div></li>
</ul></li>
<li>第二步,我们开始给这个html增加style
<ul class="org-ul">
<li><p>
增加的代码如下
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #721045;">:root</span> <span style="color: #000000;">{</span>
  <span style="color: #005e8b;">--brand-color</span>: <span style="color: #ffffff; background-color: #0072b0;">#0072b0</span>;       <span style="color: #7f0000;">/*</span><span style="color: #7f0000;">custom property</span><span style="color: #7f0000;">*/</span>
<span style="color: #000000;">}</span>

<span style="color: #721045;">body</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">margin</span>: unset;                <span style="color: #7f0000;">/*</span><span style="color: #7f0000;">remove margin added by the user-agent style</span><span style="color: #7f0000;">*/</span>
  <span style="color: #531ab6;">background-color</span>: <span style="color: #000000; background-color: #eee;">#eee</span>;
  <span style="color: #531ab6;">font-family</span>: Helvetica, Arial, sans-serif;
<span style="color: #000000;">}</span>

<span style="color: #721045;">.page-header</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">color</span>: <span style="color: #000000; background-color: #fff;">#fff</span>;
  <span style="color: #531ab6;">background-color</span>: var<span style="color: #dd22dd;">(</span><span style="color: #005e8b;">--brand-color</span><span style="color: #dd22dd;">)</span>;
<span style="color: #000000;">}</span>

<span style="color: #721045;">.main</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">background-color</span>: <span style="color: #000000; background-color: #fff;">#fff</span>;
  <span style="color: #531ab6;">border-radius</span>: 0.5em;
<span style="color: #000000;">}</span>

<span style="color: #721045;">.social-links</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">background-color</span>: <span style="color: #000000; background-color: #fff;">#fff</span>;
  <span style="color: #531ab6;">border-radius</span>: 0.5em;
<span style="color: #000000;">}</span>
</pre>
</div></li>
<li><p>
增加如上代码后的效果如图3-3
</p>

<div id="org293c9af" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/3-3.png" alt="3-3.png" />
</p>
<p><span class="figure-number">Figure 14: </span>cid/3-3.png</p>
</div></li>
</ul></li>
<li>在我们开始调整element的size和layer之前,我们需要了解下页面默认的布局方式.</li>
<li>在了解默认的布局方式之前,我们还要了解两种基本的element类型:
<ul class="org-ul">
<li>inline(行内元素): 行内元素随页面文字从左向右流动.当触及容器边缘时,它们会自动换行.上面的&lt;b&gt;和&lt;a&gt;就是inline element</li>
<li>block(块级元素): 块元素(通常称为块级元素)会独占一行(或各自独立的行)显示.它们不会与其他元素并
排显示在同一行上.每个块级元素都会从一个新行开始,并在视觉上形成一个独立的"方块".即使宽度小于容
器宽度,前后也有换行效果</li>
</ul></li>
<li><p>
如何做到块级元素是非常特殊的,css的做法是
</p>
<pre class="example" id="org1791eba">
是给特定元素以 display: block
</pre></li>
<li>比如as &lt;p&gt;, &lt;div&gt;, and &lt;header&gt; 都是在user-agent里面设置了display: block,从而获得了block element的
特性</li>
<li><p>
我们上面讲述的inline element和block element就是所谓的Normal document flow,定义如下
</p>
<pre class="example" id="org747d9a2">
Normal document flow refers to the default layout behavior of elements on the page. Inline
elements flow along with the text of the page, from left to right, line wrapping when they reach
the edge of their container. Blocklevel elements fall on individual lines, with a line break
above and below
</pre></li>
<li>需重点注意的是:高度(height)与宽度(width)在本质上是不同的.标准文档流(Normal
document flow)的设计基于"宽度受限"与"高度无限"的原则:
<ul class="org-ul">
<li><p>
父元素的宽度决定了子元素的宽度:
</p>
<pre class="example" id="org63691ab">
块级元素默认横向填满父容器(宽度受父容器限制),文本或行内元素在容器内按从左至右流动,抵达边界时折行
</pre></li>
<li><p>
而对于高度,情况则相反&#x2013;子元素的高度决定了父元素的高度
</p>
<pre class="example" id="orgaf1f4e5">
高度由内容动态撑开,可无限延伸
</pre></li>
</ul></li>
</ul>
</div>
<div id="outline-container-org0992676" class="outline-4">
<h4 id="org0992676"><span class="section-number-4">3.1.1.</span> Centering content horizontally</h4>
<div class="outline-text-4" id="text-3-1-1">
<ul class="org-ul">
<li>在构建页面布局时,通常应该先从高层级的 DOM 元素开始.先确定它们的大小并相互之间的位置关系,再专注于
它们的子元素.这种方法可以先完成页面的"粗略布局",然后再集中精力处理更小的细节.
<ul class="org-ul">
<li>提示:在开始布局页面时,最好采用从外到内的方式.先将较大的容器元素放置到你想要的位置,然后再处理
它们内部的较小元素.</li>
</ul></li>
<li>在页面中,你可能需要约束主列(main column)的宽度.由于块级元素默认会填充其容器的宽度,通常不需要为
全宽的元素设置诸如 width: 100% 或 width: 100svw 之类的样式,但你通常需要将它们的宽度从默认值缩小.</li>
<li>在约束内容宽度后,你的页面如图 3-3 所示.注意两侧的浅灰色边距,以及页头和主容器的宽度是相等的,它们
的内容在左侧对齐.
<ul class="org-ul">
<li><p>
图3-3
</p>

<div id="org7a3a625" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/3-3.png" alt="3-3.png" />
</p>
<p><span class="figure-number">Figure 15: </span>cid/3-3.png</p>
</div></li>
<li><p>
上图中的layout是一种常见的页面居中方式,你可以通过将内容放入两个嵌套的容器中来实现这一点,然后在内
层容器上设置边距来使其在外层容器中居中(如图 3-4 所示).Web 开发者 Brad Westfall 将这种方法称为
"双容器模式"(double-container pattern)
</p>

<div id="orgffaaa24" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/3-4.png" alt="3-4.png" />
</p>
<p><span class="figure-number">Figure 16: </span>cid/3-4.png</p>
</div></li>
<li><p>
在这个页面中,&lt;body&gt; 充当外层容器.默认情况下,它已经设置为页面宽度的 100%,所以不需要为其应用任
何新的样式.在此之内,你将页面的主要内容包裹在 &lt;div class="container"&gt; 中,这个 &lt;div&gt; 是内层容器
你将限制此容器的宽度,并通过设置边距来使其居中.下面的代码就展示了"双容器模式"
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #721045;">:root</span> <span style="color: #000000;">{</span>
  <span style="color: #005e8b;">--brand-color</span>: <span style="color: #ffffff; background-color: #0072b0;">#0072b0</span>;
  <span style="color: #005e8b;">--column-width</span>: 1080px;
<span style="color: #000000;">}</span>

<span style="color: #721045;">body</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">margin</span>: unset;
  <span style="color: #531ab6;">background-color</span>: <span style="color: #000000; background-color: #eee;">#eee</span>;
  <span style="color: #531ab6;">font-family</span>: Helvetica, Arial, sans-serif;
<span style="color: #000000;">}</span>

<span style="color: #721045;">.page-header</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">color</span>: <span style="color: #000000; background-color: #fff;">#fff</span>;
  <span style="color: #531ab6;">background-color</span>: var<span style="color: #dd22dd;">(</span><span style="color: #005e8b;">--brand-color</span><span style="color: #dd22dd;">)</span>;
<span style="color: #000000;">}</span>

<span style="color: #721045;">.page-header h1</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">max-width</span>: var<span style="color: #dd22dd;">(</span><span style="color: #005e8b;">--column-width</span><span style="color: #dd22dd;">)</span>;
  <span style="color: #531ab6;">margin</span>: 0 auto;
<span style="color: #000000;">}</span>

<span style="color: #721045;">.container</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">max-width</span>: var<span style="color: #dd22dd;">(</span><span style="color: #005e8b;">--column-width</span><span style="color: #dd22dd;">)</span>;
  <span style="color: #531ab6;">margin</span>: 0 auto;
<span style="color: #000000;">}</span>

<span style="color: #721045;">.main</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">background-color</span>: <span style="color: #000000; background-color: #fff;">#fff</span>;
  <span style="color: #531ab6;">border-radius</span>: 0.5em;
<span style="color: #000000;">}</span>

<span style="color: #721045;">.social-links</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">background-color</span>: <span style="color: #000000; background-color: #fff;">#fff</span>;
  <span style="color: #531ab6;">border-radius</span>: 0.5em;
<span style="color: #000000;">}</span>
</pre>
</div></li>
<li>"双容器模式"还可以利用在header和h1中,在这里header是outer 容器,h1是inner容器.</li>
<li><p>
上面这种设置需要'标题'和'内容'宽度相同,那么custom property就派上用场了,具体的代码如下
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #721045;">.page-header h1</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">max-width</span>: var<span style="color: #dd22dd;">(</span><span style="color: #005e8b;">--column-width</span><span style="color: #dd22dd;">)</span>;
  <span style="color: #531ab6;">margin</span>: 0 auto;
<span style="color: #000000;">}</span>

<span style="color: #721045;">.container</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">max-width</span>: var<span style="color: #dd22dd;">(</span><span style="color: #005e8b;">--column-width</span><span style="color: #dd22dd;">)</span>;
  <span style="color: #531ab6;">margin</span>: 0 auto;
<span style="color: #000000;">}</span>
</pre>
</div></li>
<li>通过设置左右边距为 auto,这些边距将自动扩展以填充外层容器中剩余的宽度.这通常是水平居中一块内容的
最简单方法.然而,需要注意的是,在正常的文档流中,这种技术不适用于上下边距.</li>
<li>使用 max-width 而不是 width 可以让元素在视口宽度小于 1080 像素时缩小.换句话说,在较小的视口中,
内层容器会填满屏幕,而在较大的视口中,它会扩展到 1080 像素.这一点非常重要,因为它可以避免在小屏
幕设备上出现水平滚动的情况.在本章稍后,我们会更深入地探讨 max-width 和相关属性.</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org8c70776" class="outline-4">
<h4 id="org8c70776"><span class="section-number-4">3.1.2.</span> Using logical proprties</h4>
<div class="outline-text-4" id="text-3-1-2">
<ul class="org-ul">
<li>在过去,文档流(document flow)的默认行为常常给需要翻译成某些语言的网站带来困难.正常的文档流是从左到
右,从上到下的.这是因为大多数语言(包括英语)都是以这种方式书写的.但是,要使"全球"网络适应全世界
它也需要兼容以其他方式阅读的语言.这包括从右到左的语言(如阿拉伯语和希伯来语)以及垂直书写的语言,
(如日语和繁体中文).因此,W3C 为 CSS 引入了逻辑属性(Logical Properties)的概念,并进行了大量工作
<ul class="org-ul">
<li><b>定义</b> 逻辑属性(logical property)提供了一种基于块方向和内联方向来处理元素的方法(这些方向可以随不
同的书写模式而改变),而不是明确地使用 top,right,bottom 和 left 或 width 和 height.</li>
</ul></li>
<li>使用逻辑属性(logical property)时,我们将水平和垂直的概念替换为内联基方向(文本的内联流向)和块流方
向(如段落堆叠方向).例如,与其设置 width,我们可以设置 inline-size;在水平书写模式下,这两者的功
能完全相同,但在垂直书写模式下,inline-size 会适应并指定高度.同样地,与其使用 height,我们可以使用
 block-size,在垂直书写模式下,它会适应并指定宽度.</li>
<li>逻辑属性还将:
<ul class="org-ul">
<li>top,right,bottom 和 left 替换为 start 和 end.</li>
<li>padding-left 和 padding-right 分别变为 padding-inline-start 和 padding-inline-end.</li>
<li>border-top 和 border-bottom 分别变为 border-block-start 和 border-block-end.</li>
</ul></li>
<li>这些属性会根据书写模式重新定义其含义.</li>
<li>图 3-5 展示了不同书写模式下块方向和内联方向的情况.箭头表示每个维度从"start"到"end"的方向.我将每个
示例的 border-inline-start 的边框设置得稍微厚一点,以突出其行为.</li>
<li>适应逻辑属性主要是熟悉这些新名称的问题.您无需改变页面布局方式,只需更改您已经习惯的部分术语即可.
在实际对页面内容进行翻译之前,您无需关心多种书写模式或语言;如果您的布局在熟悉的从左到右语言中使用
逻辑属性,它将在书写模式改变时自动调整.</li>
<li>如果您已使用浏览器的开发者工具检查元素,可能会注意到其用户代理样式表已经在默认的边距,列表的内联起
始填充等类似属性上使用了逻辑属性.</li>
<li>经典属性和其对应的逻辑属性可以在层叠中相互覆盖.例如,
<ul class="org-ul">
<li>如果您在列表上设置了 padding-left,它将会覆盖用户代理样式表中应用的 padding-inline-start.</li>
<li>但您也可以使用 margin-block-start 并通过更高的选择器优先级覆盖使用较低优先级选择器应用的
margin-top.因此,您可以在样式表中交替使用这两种方法,同时仍能获得可预测的结果.</li>
</ul></li>
<li>几乎每个处理垂直或水平值的 CSS 属性都有一个对应的逻辑属性.这样,您就可以根据语言的需求定义可适应的
布局.以下是经典属性及其对应逻辑属性的示例:
<ul class="org-ul">
<li>width / inline-size</li>
<li>height / block-size</li>
<li>margin-top / margin-block-start</li>
<li>margin-bottom / margin-block-end</li>
<li>margin-left / margin-inline-start</li>
<li>margin-right / margin-inline-end</li>
<li>text-align: left / text-align: start</li>
<li>text-align: right / text-align: end</li>
<li>border-top-left-radius / border-start-start-radius</li>
<li>border-top-right-radius / border-start-end-radius</li>
<li>border-bottom-left-radius / border-end-start-radius</li>
<li>border-bottom-right-radius / border-end-end-radius</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org0736153" class="outline-4">
<h4 id="org0736153"><span class="section-number-4">3.1.3.</span> Adopting useful shorthand logical properties</h4>
<div class="outline-text-4" id="text-3-1-3">
<ul class="org-ul">
<li>一些逻辑属性恰好提供了一种简化常见模式的方法.例如,margin-inline 允许您同时设置起始(左)和结束
(右)的外边距,而无需设置其他两个外边距.您可以像这样使用:
<ul class="org-ul">
<li>margin-inline: 2rem,将起始(左)和结束(右)外边距同时设置为 2rem;</li>
<li>或者 margin-inline: 2rem 4em,将起始(左)外边距设置为 2rem,结束(右)外边距设置为 4em.</li>
</ul></li>
<li>同样的方式也适用于 margin-block,用于设置块起始和结束(上和下)的外边距,以及其他类似属性,如
<ul class="org-ul">
<li>padding-inline</li>
<li>padding-block</li>
<li>border-inline</li>
<li>border-block.</li>
</ul></li>
<li>经典属性中没有任何属性可以像这样工作.</li>
<li><p>
您可以在页面上使用这些属性,以稍微简化您构建的双容器模式(double-container pattern).将样式表更新
为如下所示的内容.这还包括将 max-width 替换为其逻辑属性等价形式 max-inline-size 的更改.
</p>
<div class="org-src-container">
<pre class="src src-diff">--- <span style="font-weight: bold;">/Users/fenghaoran/github/cid/code/ch03/listing-3.03.html</span>    2025-06-09 11:17:15
+++ <span style="font-weight: bold;">/Users/fenghaoran/github/cid/code/ch03/listing-3.04.html</span>    2025-06-09 11:17:15
<span style="background-color: #dfd5cf; font-weight: bold;">@@ -18,13 +18,13 @@</span>
     }

     .page-header h1 {
<span style="color: #aa2222; background-color: #f4d0cf;">-</span><span style="color: #8f1313; background-color: #f4d0cf;">      max-</span><span style="color: #8f1313; background-color: #f3b5a7;">width</span><span style="color: #8f1313; background-color: #f4d0cf;">: var(--column-width);</span>
<span style="color: #aa2222; background-color: #f4d0cf;">-</span><span style="color: #8f1313; background-color: #f4d0cf;">      margin: </span><span style="color: #8f1313; background-color: #f3b5a7;">0</span><span style="color: #8f1313; background-color: #f4d0cf;"> auto;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      max-</span><span style="color: #005000; background-color: #acd6a5;">inline-size</span><span style="color: #005000; background-color: #c3ebc1;">: var(--column-width);</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      margin</span><span style="color: #005000; background-color: #acd6a5;">-inline</span><span style="color: #005000; background-color: #c3ebc1;">: auto;</span>
     }

     .container {
<span style="color: #aa2222; background-color: #f4d0cf;">-</span><span style="color: #8f1313; background-color: #f4d0cf;">      max-</span><span style="color: #8f1313; background-color: #f3b5a7;">width</span><span style="color: #8f1313; background-color: #f4d0cf;">: var(--column-width);</span>
<span style="color: #aa2222; background-color: #f4d0cf;">-</span><span style="color: #8f1313; background-color: #f4d0cf;">      margin: </span><span style="color: #8f1313; background-color: #f3b5a7;">0</span><span style="color: #8f1313; background-color: #f4d0cf;"> auto;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      max-</span><span style="color: #005000; background-color: #acd6a5;">inline-size</span><span style="color: #005000; background-color: #c3ebc1;">: var(--column-width);</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      margin</span><span style="color: #005000; background-color: #acd6a5;">-inline</span><span style="color: #005000; background-color: #c3ebc1;">: auto;</span>
     }

     .main {
</pre>
</div></li>
<li>这些更改不会对页面的视觉效果产生任何影响;它们只是为了让编写样式更加方便.我发现这些简写属性非常有
用,因为我经常需要仅为边距或其他属性指定顶部和底部,或仅指定左侧和右侧的值</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org58a1be7" class="outline-3">
<h3 id="org58a1be7"><span class="section-number-3">3.2.</span> The box model</h3>
<div class="outline-text-3" id="text-3-2">
<ul class="org-ul">
<li>我们下面要处理的,是在main container(以及 social-links这个类)里面为加一些padding: 当前这两个区域是
紧贴白色背景的边缘,因此加上一些空间可以让页面看起来不那么拥挤,更加易读
<ul class="org-ul">
<li><p>
改动如下,增加了两个padding
</p>
<div class="org-src-container">
<pre class="src src-diff">--- <span style="font-weight: bold;">/Users/fenghaoran/github/cid/code/ch03/listing-3.04.html</span>    2025-06-09 11:17:15
+++ <span style="font-weight: bold;">/Users/fenghaoran/github/cid/code/ch03/listing-3.05.html</span>    2025-06-09 11:17:15
<span style="background-color: #dfd5cf; font-weight: bold;">@@ -28,11 +28,13 @@</span>
     }

     .main {
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      padding: 1em 1.5rem;</span>
       background-color: #fff;
       border-radius: 0.5em;
     }

     .social-links {
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      padding: 1em 1.5rem;</span>
       background-color: #fff;
       border-radius: 0.5em;
     }
</pre>
</div></li>
<li><p>
增加padding的样子如图3-6, 两个content(Come开头以及follow开头的文字)都不再紧贴边界,看起来更加和谐,
但是这导致这两个文本的最左边和标题(Franklin)不再对齐
</p>

<div id="org2479dc3" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/3-6.png" alt="3-6.png" />
</p>
<p><span class="figure-number">Figure 17: </span>cid/3-6.png</p>
</div></li>
<li><p>
我们第一反应就是给header也增加padding,代码(注意这里的padding-inline是padding的文本流方向版本)如下
</p>
<div class="org-src-container">
<pre class="src src-diff">--- <span style="font-weight: bold;">/Users/fenghaoran/github/cid/code/ch03/listing-3.05.html</span>    2025-06-09 11:17:15
+++ <span style="font-weight: bold;">/Users/fenghaoran/github/cid/code/ch03/listing-3.06.html</span>    2025-06-09 11:17:15
<span style="background-color: #dfd5cf; font-weight: bold;">@@ -20,6 +20,7 @@</span>
     .page-header h1 {
       max-inline-size: var(--column-width);
       margin-inline: auto;
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      padding-inline: 1.5rem;</span>
     }
</pre>
</div></li>
<li>但是这个改动往往在正常屏幕上 <b>起不到任何作用</b> (仅仅在1100px以下的显示器中,看上去像是工作了).而且
即便增加padding的数值也无济于事</li>
</ul></li>
<li>出现图3-6所示现象的原因,在于box model的默认行为.</li>
<li>所谓box model,是说对于页面上的每个element都有四个"依次包含"(里面的依次被外面的包含,类似俄罗斯套娃)
的矩形组成的:
<ul class="org-ul">
<li>最里面的矩形叫做content area, 顾名思义,内容就是放在这一层的</li>
<li>紧接着是padding area,padding area就"套住了" content area</li>
<li>接下来是border area,border area就"套住了" padding area</li>
<li>最外面是margin area,margin area就"套住了" border area</li>
</ul></li>
<li>我们之前设置的所谓height或者width其实是设置的content area的高度和宽度,
<ul class="org-ul">
<li><p>
如下图所示
</p>

<div id="orgbc31a5d" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/3-7.png" alt="3-7.png" />
</p>
<p><span class="figure-number">Figure 18: </span>cid/3-7.png</p>
</div></li>
<li><p>
如果上图中我们设置了300px的width, 10px的padding,1px的border,那么最终render的宽度是322px
</p>
<pre class="example" id="org91b72b1">
300 + 10 + 10 + 1 + 1 = 322
</pre></li>
</ul></li>
<li>具体到我们的例子,也就是&lt;h1&gt;,我们设置了1080px,那么我们的padding就加在了这1080px之外,也就是说content
area不受影响,我们的padding只是增加了最终render的宽度</li>
<li>理解box modle对于我们和CSS一起工作非常重要,特别是需要理解padding和border会增加element的size.</li>
</ul>
</div>
<div id="outline-container-orgbfa4d2c" class="outline-4">
<h4 id="orgbfa4d2c"><span class="section-number-4">3.2.1.</span> Avoiding magic numbers</h4>
<div class="outline-text-4" id="text-3-2-1">
<ul class="org-ul">
<li>有时候,当你遇到类似的问题时,可能会忍不住通过调整数值来让它正常工作.尤其是在使用百分比定义尺寸时
这种情况更为常见.</li>
<li>试想,如果你的布局不是使用1080px宽度,而是用了70%的宽度.一个简单的修复可能是减少&lt;h1&gt;的百分比宽度.
也许你发现66%的宽度似乎可以解决问题
<ul class="org-ul">
<li>但这种做法并不可靠.66%被称为"魔法数字".这不是一个理想的数值,而是通过随意调整样式直到得到想要的
结果而发现的.</li>
</ul></li>
<li>在编程中,"魔法数字(Magic Number)"通常并不可取.因为很难解释为什么这个"魔法数字"有效.如果你不了解
这个数字的来源,就无法预测它在不同情况下的表现.
<ul class="org-ul">
<li>例如,它可能在1400px宽的视口中有效,但在更大或更小的屏幕上,文本可能无法对齐.</li>
</ul></li>
<li>虽然在CSS中通过试验和错误进行样式选择是有意义的,但这通常适用于风格化的选择,而不是强制元素布局到某
个位置的方式.</li>
<li>解决"魔法数字"的一种替代方法是让浏览器进行计算.
<ul class="org-ul">
<li>在你的例子中,&lt;h1&gt;的宽度由于左右内边距的存在多出了3em,</li>
<li>因此可以使用calc()函数将宽度减少恰好那么多.使用calc(var(&#x2013;columns-width) - 3em)可以精确地得到你
所需要的宽度.但还有一种更好的方法.就是如下介绍的border box sizing</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org6129973" class="outline-4">
<h4 id="org6129973"><span class="section-number-4">3.2.2.</span> Adjusting the box model</h4>
<div class="outline-text-4" id="text-3-2-2">
<ul class="org-ul">
<li>默认的盒模型行为往往会导致页面上元素的尺寸和对齐问题.相反,你可能希望指定的宽度包括内边距和边框.
CSS允许你通过box-sizing属性来调整盒模型的行为.</li>
<li>默认情况下,box-sizing的值是content-box,这意味着你指定的宽度或高度仅设置内容区域的尺寸.你可以将b
ox-sizing设置为border-box.这样,宽度,高度,inline-size和block-size属性会设置内容,内边距和边框的
总尺寸.在这个例子里,这正是你需要的.
<ul class="org-ul">
<li><p>
图3-8展示了设置为border-box时的盒模型.在这种模型中,内边距不会让元素变宽,而是使内部内容变窄.高
度也是如此.这些元素具有相同的高度和宽度;注意,当有内边距或边框时,使用border-box盒模型的元素会
比使用content-box的元素更小.
</p>

<div id="orgf61742b" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/3-8.png" alt="3-8.png" />
</p>
<p><span class="figure-number">Figure 19: </span>cid/3-8.png</p>
</div></li>
<li><p>
如果你将&lt;h1&gt;更新为使用border-box盒模型,代码如下
</p>
<div class="org-src-container">
<pre class="src src-diff">--- <span style="font-weight: bold;">/Users/fenghaoran/github/cid/code/ch03/listing-3.06.html</span>    2025-06-09 11:17:15
+++ <span style="font-weight: bold;">/Users/fenghaoran/github/cid/code/ch03/listing-3.07.html</span>    2025-06-09 11:17:15
<span style="background-color: #dfd5cf; font-weight: bold;">@@ -18,6 +18,7 @@</span>
     }

     .page-header h1 {
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      box-sizing: border-box;</span>
       max-inline-size: var(--column-width);
       margin-inline: auto;
       padding-inline: 1.5rem;
</pre>
</div></li>
<li><p>
更改过后,&lt;h1&gt;的内容就会与主容器中的内容对齐,如图3-9所示.
</p>

<div id="org77c61ec" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/3-9.png" alt="3-9.png" />
</p>
<p><span class="figure-number">Figure 20: </span>cid/3-9.png</p>
</div></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-orge453a16" class="outline-4">
<h4 id="orge453a16"><span class="section-number-4">3.2.3.</span> Using universal border box sizing</h4>
<div class="outline-text-4" id="text-3-2-3">
<ul class="org-ul">
<li>你已经为这个元素使盒模型变得更加直观,但你肯定会遇到其他有相同问题的元素.如果能一次性解决这个问题,
针对所有元素统一调整,那就更好了.
<ul class="org-ul">
<li><p>
你可以使用通用选择器(*)来实现这一点,它会选中页面上的所有元素,如以下代码所示.我还添加了选择器
用于选中页面上的每个伪元素.请将这段代码放到样式表的顶部.
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #721045;">*,</span>
<span style="color: #721045;">*::before,</span>
<span style="color: #721045;">*::after</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">box-sizing</span>: border-box;
<span style="color: #000000;">}</span>
</pre>
</div></li>
<li>应用这段代码到页面后,height和width将始终指定元素的实际高度和宽度,内边距不会改变它们.</li>
</ul></li>
<li><p>
现在,网站上的每个元素都会有一个更可预测的盒模型.我建议你在每次开始一个新网站时,都将以下代码添加
到CSS中;从长远来看,这会为你省去不少麻烦.然而,在现有的样式表中使用这段代码可能会有些问题,特别是
如果你已经基于默认的内容盒模型编写了大量样式.在将这段代码添加到现有项目时,请务必彻底检查是否会引
发任何问题.
</p>
<pre class="example" id="org1c348a5">
注意: 将这段代码放在样式表的开头已经成为一种常见的做法.从本书这一点开始,所有的示例都将假定这个
border-box的修复代码已经位于样式表的开头.
</pre></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org61b1096" class="outline-3">
<h3 id="org61b1096"><span class="section-number-3">3.3.</span> Element height</h3>
<div class="outline-text-3" id="text-3-3">
<ul class="org-ul">
<li>处理元素的高度(块级尺寸)可能会比较棘手.正常的文档流设计是为了在宽度受限,高度不受限制的情况下工
作.容器的高度通常是由其内容自然决定的,而不是由容器本身决定的.通常,最好避免为元素(尤其是包含大
量内容的元素)设置明确的高度,尽管你可能经常会忍不住这样做.</li>
<li>当你明确设置了元素的高度时,可能会面临其内容溢出容器的风险.这种情况发生在内容无法适应指定的限制时,
内容会超出父元素的边界渲染.图3.10展示了这种行为.文档流不会考虑溢出的内容,因此容器之后的任何内
容都会覆盖在溢出的内容上方.</li>
<li>你可以通过overflow属性来精确控制溢出内容的行为,该属性支持以下五种值:
<ul class="org-ul">
<li>visible &#x2013; 默认值;所有内容都是可见的,即使它溢出了内容区域的边界.</li>
<li>hidden &#x2013; 溢出容器内边距区域的内容会被裁剪,不会被看到.用户无法正常滚动查看这些内容,但可以通过
JavaScript以编程方式滚动到这些内容.</li>
<li>clip &#x2013; 类似于hidden,但也禁用了编程式滚动.</li>
<li>scroll &#x2013; 容器会添加滚动条,用户可以滚动查看剩余内容.在某些操作系统中,即使所有内容都可见,也会
添加水平和垂直滚动条.在这种情况下,滚动条会被禁用(显示为灰色).</li>
<li>auto &#x2013; 只有当内容溢出时,容器才会添加滚动条.</li>
</ul></li>
<li><p>
图3-11展示了四个设置了不同overflow值的容器.
</p>

<div id="org7391b1e" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/3-11.png" alt="3-11.png" />
</p>
<p><span class="figure-number">Figure 21: </span>cid/3-11.png</p>
</div></li>
<li>通常,我更倾向于使用auto而不是scroll,因为在大多数情况下,我并不希望滚动条在不必要时出现.
<ul class="org-ul">
<li>在使用滚动条时需谨慎.浏览器会为页面插入滚动条,而在页面内添加嵌套的可滚动区域可能会让用户感到沮
丧.如果用户使用鼠标滚轮向下滚动页面,而光标停留在一个较小的可滚动区域上时,滚轮会停止滚动页面,
而是滚动这个较小的区域.</li>
</ul></li>
<li>内容不仅可能垂直溢出,也可能水平溢出.当一个长URL出现在一个窄容器中,或者在小屏幕的移动设备上查看包
含许多列的表格时,就有可能发生水平溢出.对于水平溢出,适用与垂直溢出相同的规则.</li>
<li>你可以使用overflow-x属性仅控制水平溢出,或者使用overflow-y控制垂直溢出.这些属性支持与overflow属性
相同的值.然而,当你明确地为x和y设置不同的值时,如果其中一个值被设置为hidden,往往会出现不可预测的
结果.在这种情况下,建议使用clip代替.</li>
</ul>
</div>
<div id="outline-container-org84dc235" class="outline-4">
<h4 id="org84dc235"><span class="section-number-4">3.3.1.</span> Using alternatives to percentage-based heights</h4>
<div class="outline-text-4" id="text-3-3-1">
<ul class="org-ul">
<li>使用百分比来指定高度可能会带来问题.百分比的高度是相对于元素的包含块(containing block)尺寸而言的
然而,这个容器的高度通常是由其子元素的高度决定的.这就产生了一个浏览器无法解决的循环定义,因此浏览
器会忽略这个声明.为了使基于百分比的高度生效,父元素必须有明确定义的高度.</li>
<li>百分比高度一个有用的场景是针对绝对定位的元素(absolutely positioned elements),当你希望它们的尺寸
与其容器相关时.我们将在后续章节中探讨定位的相关内容.</li>
<li>在两个特定的用例中,开发者常常尝试使用百分比高度,但这往往会导致问题:
<ul class="org-ul">
<li>让容器填满屏幕:这种情况可能会导致你需要对一个元素,它的容器,以及整个DOM树向上应用height: 100%,
直到同时对&lt;body&gt;和&lt;html&gt;也应用了该规则.一个更好的方法是使用视口相对单位(viewport-relative units),
我们在第2章中已经讨论过这些单位.在这种情况下,通常你需要的是100svh或100lvh的高度.</li>
<li>创建等高的列:页面设计通常要求两个或多个并排的元素具有相同的高度.历史上,CSS中要根据兄弟元素
(sibling element)的高度来调整一个元素的高度是件非常棘手的事情.虽然曾经有一些非常复杂的技巧可以
实现这一点,但现在使用更现代的技术可以更轻松地实现.我们将在后续的关于flexbox和grid的章节中学习如
何实现这一点.</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org355d385" class="outline-4">
<h4 id="org355d385"><span class="section-number-4">3.3.2.</span> Using min-height and max-height</h4>
<div class="outline-text-4" id="text-3-3-2">
<ul class="org-ul">
<li>有两个非常有用的属性是min-height和max-height(以及它们的逻辑对应属性min-block-size和max-block-size).
与其明确地定义高度,你可以使用这些属性来指定一个最小值或最大值,从而允许元素在这些范围内自然调整大小.</li>
<li>假设你想将一个主图(hero image)放在一段较大的文本后面,并且担心它会溢出容器.与其设置一个明确的高
度,不如使用min-height指定一个最小高度.这意味着:
<ul class="org-ul">
<li>元素的高度至少会达到你指定的值,</li>
<li>如果内容无法适应,浏览器会让元素自然增长以防止溢出.</li>
</ul></li>
<li>下面就介绍这样一个例子
<ul class="org-ul">
<li><p>
图3-12展示了三个元素.
</p>

<div id="org587244d" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/3-12.png" alt="3-12.png" />
</p>
<p><span class="figure-number">Figure 22: </span>cid/3-12.png</p>
</div></li>
<li>左边的元素没有设置min-height,因此它的高度是自然决定的;</li>
<li>中间的元素设置了min-height: 3em,尽管它的自然高度会比这个值小,但min-height属性将其高度调整到了3em;</li>
<li>右边的元素内容足够多,超过了3em,因此容器自然增长以容纳内容.</li>
</ul></li>
<li>大多数情况下,当我感觉需要为一个容器设置高度时,我会选择使用min-height.这样通常可以让我避免之后处
理溢出问题的麻烦.</li>
<li>对应的max-height属性允许元素自然调整大小,直到达到一个上限.如果达到这个上限,元素的高度就不会再增
大,内容会发生溢出.类似的属性还有min-width和max-width(以及min-inline-size和max-inline-size),它
们用于约束元素的宽度.</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org7e6f084" class="outline-3">
<h3 id="org7e6f084"><span class="section-number-3">3.4.</span> Negative margins</h3>
<div class="outline-text-3" id="text-3-4">
<ul class="org-ul">
<li>与内边距(padding)和边框宽度(border width)不同,你可以为外边距(margin)指定负值.这种特性有一些
特殊的用途,比如让元素重叠或者让元素比其容器更宽.</li>
<li>负外边距的具体行为取决于它应用在哪一边,
<ul class="org-ul">
<li><p>
如图3-13所示.
</p>

<div id="org8a8c5d2" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/3-13.png" alt="3-13.png" />
</p>
<p><span class="figure-number">Figure 23: </span>cid/3-13.png</p>
</div></li>
<li>如果应用于左边或顶部,负外边距会分别将元素向左或向上移动.这可能会导致元素与文档流中它前面的其他
元素重叠.</li>
<li>如果应用于底部,负外边距不会移动该元素本身,而是将其下方的其他元素向上拉.这类似于直接为下方的元
素指定一个负的顶部外边距.</li>
</ul></li>
<li>我们思考margin的值的时候,如果能思考的时候,带着其他element的话,那就会更加容易这些值</li>
<li>在看具体的效果之前,先聊一下margin值(或者说所有的value值怎样分布的):
<ul class="org-ul">
<li>当只指定一个值时,该值会统一应用到全部四个边的外边距上.</li>
<li>指定两个值时,第一个值会应用于上边和下边的外边距,第二个值应用于左边和右边.</li>
<li>指定三个值时,第一个值应用于上边,第二个值应用于右边和左边,第三个则应用于下边的外边距.</li>
<li>指定四个值时,依次(顺时针方向)作为上边,右边,下边,和左边的外边距</li>
</ul></li>
<li>margin设置上边
<ul class="org-ul">
<li><p>
上边为0值,说明上边的"缓存区放弃了"和上边的空间挨在一起
</p>

<div id="orgd8a0745" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/3-a-1.png" alt="3-a-1.png" />
</p>
<p><span class="figure-number">Figure 24: </span>cid/3-a-1.png</p>
</div></li>
<li><p>
上边为正值,我们会主动让出"缓冲区"以免和其他element接触.
</p>

<div id="org08cb63d" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/3-a-2.png" alt="3-a-2.png" />
</p>
<p><span class="figure-number">Figure 25: </span>cid/3-a-2.png</p>
</div></li>
<li><p>
上边的值为负值,就会"侵略"更上的element(或者边界):
</p>

<div id="org84ae49e" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/3-a-3.png" alt="3-a-3.png" />
</p>
<p><span class="figure-number">Figure 26: </span>cid/3-a-3.png</p>
</div></li>
</ul></li>
<li>margin设置右边
<ul class="org-ul">
<li>右边为0值,说明右边的"缓存区放弃了"和右边的空间挨在一起</li>
<li><p>
右边为正值,我们会主动让出"缓冲区"以免和其他element接触.
</p>

<div id="org0d9a5c1" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/3-a-4.png" alt="3-a-4.png" />
</p>
<p><span class="figure-number">Figure 27: </span>cid/3-a-4.png</p>
</div></li>
<li><p>
右边的值为负值,就会"侵略"右边的element(或者边界):
</p>

<div id="org3514712" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/3-a-5.png" alt="3-a-5.png" />
</p>
<p><span class="figure-number">Figure 28: </span>cid/3-a-5.png</p>
</div></li>
</ul></li>
<li>margin设置下边
<ul class="org-ul">
<li>下边为0值,说明下边的"缓存区放弃了"和下边的空间挨在一起. 这个和其他的三种一样.</li>
<li><p>
下边为正值, <b>效果就和其他三种不一样了</b>, 是下边的element会主动让出"缓冲区"以免和我们进行接触.主动下
沉的是其他element,而不是我们
</p>

<div id="org3aa3dd4" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/3-a-6.png" alt="3-a-6.png" />
</p>
<p><span class="figure-number">Figure 29: </span>cid/3-a-6.png</p>
</div></li>
<li><p>
下边的值为负值, <b>效果也和其他三种情况不一样了</b>,下边的值为负值,其他element会来侵略我,而不是我去侵
略其他element
</p>

<div id="org13bc4eb" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/3-a-7.png" alt="3-a-7.png" />
</p>
<p><span class="figure-number">Figure 30: </span>cid/3-a-7.png</p>
</div></li>
</ul></li>
<li>margin设置左边
<ul class="org-ul">
<li>左边为0值,说明左边的"缓存区放弃了"和左边的空间挨在一起</li>
<li><p>
左边为正值,我们会主动让出"缓冲区"以免和其他element接触.
</p>

<div id="org65406a1" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/3-a-8.png" alt="3-a-8.png" />
</p>
<p><span class="figure-number">Figure 31: </span>cid/3-a-8.png</p>
</div></li>
<li><p>
左边的值为负值,就会"侵略"左边的element(或者边界)
</p>

<div id="org16260ec" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/3-a-9.png" alt="3-a-9.png" />
</p>
<p><span class="figure-number">Figure 32: </span>cid/3-a-9.png</p>
</div></li>
</ul></li>
<li>虽然负外边距可以用来让多个元素之间产生重叠,但对于复杂的情况来说,跟踪这些元素的状态可能会变得困难
通常,使用position属性来实现这样的效果会是一个更好的选择;我们将在第6章中详细讨论定位.
<ul class="org-ul">
<li><b>警告</b>: 使用负外边距让元素重叠可能会导致交互元素不可点击,尤其是当它们被移动到其他元素的后面时.</li>
</ul></li>
<li>负右外边距的行为取决于元素是内联(inline)元素还是块级(block-level)元素.
<ul class="org-ul">
<li>在内联元素上,它的行为类似于负底部外边距,会将后续的内容向左拉,从而与该元素重叠.在实际操作中,
<b>我几乎从未使用过这种方式</b> .</li>
<li><p>
对于块级元素,负右外边距会将元素的右边缘向右拉,使元素变得更宽.这可能会使元素的边缘超出其容器.
如果同时使用负左外边距,元素的两边都会延伸超出容器,从而让元素比其容器更宽.这是一种"双容器模式"
的另类应用,如图3-14所示.
</p>

<div id="org10fa88a" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/3-14.png" alt="3-14.png" />
</p>
<p><span class="figure-number">Figure 33: </span>cid/3-14.png</p>
</div></li>
</ul></li>
<li>以下代码展示了这种方法的实现.
<ul class="org-ul">
<li><p>
这种方法可以用来让图片"溢出"(bleed),使其宽度超出与其一起出现的文本列.
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #721045;">.container</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">max-width</span>: 1080px;
  <span style="color: #531ab6;">margin-inline</span>: auto;
<span style="color: #000000;">}</span>

<span style="color: #721045;">.expanded-child</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">margin-inline</span>: -2em;
<span style="color: #000000;">}</span>
</pre>
</div></li>
<li>需要注意的是,这种方法可能会导致内容超出浏览器的视口(viewport).当在小屏幕上使用这种技术时,请
确保一切仍然能按预期正常工作.</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org547ceca" class="outline-3">
<h3 id="org547ceca"><span class="section-number-3">3.5.</span> Collapsed margins</h3>
<div class="outline-text-3" id="text-3-5">
<ul class="org-ul">
<li>我们继续我们页面的修改的时候,会发现我们的header和container之间会有一些gap,这个是非常奇怪的,因为
<b>我们并没有设置任何的margin给header或者container</b>
<ul class="org-ul">
<li>这个gap可以从图3-15中可以看出</li>
<li>我们可以先说一下结论,上面的gap是由collapsing造成的</li>
</ul></li>
<li><p>
我们再来看下collapsing的定义:当上方和/或下方的外边距相邻时,它们会重叠合并形成单一的外边距,这种现
象被称为外边距塌陷 ( <b>注意</b> 只有上下相邻的情况会collapsing,左右相邻的时候不会)
</p>
<pre class="example" id="orgbccfe3b">
When top and/or bottom margins are adjoining, they overlap, combining to from a single margin.
This is referred to as collapsing
</pre></li>
</ul>
</div>
<div id="outline-container-org00166a2" class="outline-4">
<h4 id="org00166a2"><span class="section-number-4">3.5.1.</span> Collapsing between text</h4>
<div class="outline-text-4" id="text-3-5-1">
<ul class="org-ul">
<li>折叠外边距的主要原因与文本块之间的间距有关.准确的说,跟"节省空间有关":
<ul class="org-ul">
<li>margin的设计,是让多个element之间尽可能的增加"安全距离",就像交战双方的"缓冲区"</li>
<li>但是margin的设计带来一个问题,那就是如果两个element(主要是上下)都设置了"缓冲区",那么"缓冲区"就
double了,本来"缓冲区"一个就够,如果 <b>不加以限制</b> 那么就是两个了</li>
</ul></li>
<li>所以css规范就 <b>加以限制</b> 了,限制的方法如下:
<ul class="org-ul">
<li>段落(&lt;p&gt;)默认情况下有1个em的顶部外边距和1个em的底部外边距.这是由用户代理样式表(浏览器默认样式
表)应用的.</li>
<li>然而,当两个段落一个接一个地堆叠时,它们的外边距不会叠加成2个em的间距.相反,它们会折叠重叠,仅产
生1个em的间距.</li>
<li>如果两个段落一个接一个地堆叠,但是他们的margin不一样的时候:
<ol class="org-ol">
<li>如果符号都是正的,取绝对值大的那个, 比如一个是2em,一个是1em,那么取2em,这个很好理解,我们建设两个
"缓冲区"过于浪费,简化成一个"缓冲区"的话,肯定要选个大的"缓冲区"</li>
<li>如果符号都是负的,还是取绝对值大的那个, 比如一个是-2em,一个是-1em,那么取-2em,这个需要注意,有点
反常识!</li>
<li>如果一个正数,一个负数,那么他们的"缓冲区"是两个值的计算结果.比如一个是-35px,另外一个是25px,那么
最终的结果就是10px,这个也非常的反常识!</li>
</ol></li>
</ul></li>
<li>我们的例子中main中下的&lt;h2&gt;和&lt;p&gt;就是这样一个例子:
<ul class="org-ul">
<li><p>
如图3-16
</p>

<div id="org398b01f" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/3-16.png" alt="3-16.png" />
</p>
<p><span class="figure-number">Figure 34: </span>cid/3-16.png</p>
</div></li>
<li>上面的&lt;h2&gt;和&lt;p&gt;相邻了,他们的margin分别是19.92px和16px,所以最终"缓冲区"是19.92px</li>
<li>我们可以在开发人员工具里面看到最终的"缓冲区"值是19.92px,如下</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org0a558ef" class="outline-4">
<h4 id="org0a558ef"><span class="section-number-4">3.5.2.</span> Collapsing multiple margins</h4>
<div class="outline-text-4" id="text-3-5-2">
<ul class="org-ul">
<li>元素之间的外边距(margin)并不一定需要是相邻的兄弟元素才能发生折叠.即使你将段落包裹在一个额外的
&lt;div&gt; 中(如下代码所示),视觉上的结果也会保持不变.在没有其他 CSS 干扰的情况下,所有相邻的上下外边
距都会发生折叠.
<ul class="org-ul">
<li><p>
代码如下
</p>
<div class="org-src-container">
<pre class="src src-html">&lt;<span style="color: #721045;">main</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"main"</span>&gt;
  &lt;<span style="color: #721045;">h2</span>&gt;<span style="font-weight: bold; font-style: italic; text-decoration: underline;">Come join us!</span>&lt;/<span style="color: #721045;">h2</span>&gt;
  &lt;<span style="color: #721045;">div</span>&gt;
    &lt;<span style="color: #721045;">p</span>&gt;
      The Franklin Running club meets at 6:00pm every Thursday at the town
      square. Runs are three to five miles, at your own pace.
    &lt;/<span style="color: #721045;">p</span>&gt;
  &lt;/<span style="color: #721045;">div</span>&gt;
&lt;/<span style="color: #721045;">main</span>&gt;
</pre>
</div></li>
<li>在这种情况下,有三个不同的外边距发生了折叠:&lt;h2&gt; 的下外边距,&lt;div&gt; 的上外边距以及 &lt;p&gt; 的上外边距.
它们的计算值分别是 19.92 像素,0 像素和 16 像素.因此,这些元素之间的间距仍然是 19.92 像素,也就
是三个中最大的值.实际上,你可以将段落嵌套在多个 &lt;div&gt; 中,渲染结果依然相同&#x2013;所有的外边距都会一起折叠.</li>
</ul></li>
<li>简而言之,任何相邻的上下外边距都会发生折叠.如果你在页面中添加一个空的未设置样式的 &lt;div&gt;(没有高度
边框或内边距),它的上下外边距也会发生折叠.</li>
<li><b>注意</b>:外边距折叠仅发生在上下外边距之间,左右外边距不会折叠.(在垂直书写模式下,情况会相反,此时
左右外边距会折叠.)</li>
<li>折叠的外边距类似于一种"个人空间的气泡".如果两个站在公交站台的人都希望彼此间保持 3 英尺的个人空间,
他们就会愉快地保持 3 英尺的间距.他们不需要站得 6 英尺远来满足彼此的需求.</li>
<li>这种行为通常意味着你可以在各种元素上自由地设置外边距,而不用太担心它们上方或下方可能出现的其他元素.
如果你为标题设置了 1.5 em 的下外边距,那么无论接下来的元素是一个带有 1 em 上外边距的 &lt;p&gt;,还是一个
没有上外边距的 &lt;div&gt;,你都可以预期标题后面会有相同的间距.只有当后续元素需要更多的空间时,元素之间
的折叠外边距才会显得更大.</li>
</ul>
</div>
</div>
<div id="outline-container-orgc4bee60" class="outline-4">
<h4 id="orgc4bee60"><span class="section-number-4">3.5.3.</span> Collapsing outside a container</h4>
<div class="outline-text-4" id="text-3-5-3">
<ul class="org-ul">
<li>三个连续的外边距发生折叠的方式可能会让你感到意外.如果一个元素的外边距折叠到了其容器之外,而该容器
有背景色,那么通常会产生不理想的效果.</li>
<li>这正是导致页面标题下方出现间隙(图3-15)的原因.
<ul class="org-ul">
<li>页面标题是一个 &lt;h1&gt;,用户代理样式为其应用了 0.67 em(21.44 px)的下外边距.</li>
<li>该标题被包含在一个没有外边距的 &lt;header&gt; 中.</li>
<li>两个元素的下外边距是相邻的,因此它们发生了折叠,结果是 &lt;header&gt; 的下方有了 21.44 px 的外边距.</li>
<li>同样的情况也发生在两个元素的上外边距上.</li>
</ul></li>
<li>这看起来有点奇怪.在这种情况下,你希望 &lt;header&gt; 的蓝色背景更高一些,以便在标题周围留出一些空间.外
边距并不总是会按你期望的位置发生折叠.</li>
<li>但幸运的是,有多种方法可以防止这种情况发生.事实上,你已经为页面的主部分修复了这个问题;
<ul class="org-ul">
<li>注意到"Come join us!"的上方外边距并没有向上折叠到其容器之外.</li>
<li>这是因为你为容器应用了内边距(padding)</li>
<li>而当外边距之间有内边距时,它们就不会发生折叠.</li>
</ul></li>
<li>如果你为 &lt;header&gt; 添加上下内边距,
<ul class="org-ul">
<li>内部的外边距就不会折叠到外部</li>
<li>这意味着 &lt;h1&gt; 的外边距和 &lt;header&gt; 的内边距都会在文本周围贡献空间,</li>
<li>这可能会显得有点多.因此,最好完全移除外边距,并允许内边距定义所需的空间.</li>
<li><p>
更改代码,增加padding如下(同时移除了margin)
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #721045;">.page-header h1</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">max-inline-size</span>: var<span style="color: #dd22dd;">(</span><span style="color: #005e8b;">--column-width</span><span style="color: #dd22dd;">)</span>;
  <span style="color: #531ab6;">margin</span>: 0 auto;
  <span style="color: #531ab6;">padding</span>: 1em 1.5rem;
<span style="color: #000000;">}</span>
</pre>
</div></li>
<li><p>
你会注意到,现在 &lt;header&gt; 和主内容之间没有任何空间了.(见图 3-17)
</p>

<div id="org0e2fd5f" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/3-17.png" alt="3-17.png" />
</p>
<p><span class="figure-number">Figure 35: </span>cid/3-17.png</p>
</div></li>
<li>当然有时候我们还是希望有那么一点点空间的(是故意的间隔,而不是意外空白),我们下一节会详细介绍</li>
</ul></li>
<li><b>结论</b> 无论何时你看到容器上下出现意外的空白,或者看到文本紧贴在容器的顶部或底部时,外边距折叠很可能是原因.</li>
<li>以下是防止外边距折叠的方法:
<ul class="org-ul">
<li>为容器应用 overflow: auto(或任何非 visible 的值) 可以防止容器内的外边距与容器外的外边距发生折叠
这通常是最不具侵入性的方法.</li>
<li>在两个外边距之间添加边框或内边距 可以阻止它们折叠.</li>
<li>如果容器是一个行内块(inline block),浮动(float,见第 12 章)或具有绝对(absolute)或固定
(fixed)定位(见第 6 章) 时,外边距不会折叠到容器外.</li>
<li>在使用弹性布局(flexbox)或网格布局(grid layout)时,属于弹性布局的元素之间的外边距不会发生折叠
(见第 4 章和第 5 章).</li>
<li>以 table-cell 显示的元素没有外边距,因此不会发生折叠.这同样适用于 table-row 和大多数其他表格显示
类型.例外情况包括 table,table-inline 和 table-caption.</li>
</ul></li>
<li>不过,上述许多方法会改变元素的布局行为,因此,除非它们能产生你想要的布局,否则你可能不希望使用它们.</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orgaa19a85" class="outline-3">
<h3 id="orgaa19a85"><span class="section-number-3">3.6.</span> Spacig elements within a container</h3>
<div class="outline-text-3" id="text-3-6">
<ul class="org-ul">
<li>容器的内边距(padding)与其内容的外边距(margin)之间的交互可能会比较棘手.接下来我们为页面底部的社
交链接添加一些样式,并解决可能出现的问题.
<ul class="org-ul">
<li><p>
你将为两个社交媒体链接和另一个不太重要的链接设置样式.你的目标是让这一部分看起来像图 3-18 所示.
</p>

<div id="orgb678388" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/3-18.png" alt="3-18.png" />
</p>
<p><span class="figure-number">Figure 36: </span>cid/3-18.png</p>
</div></li>
<li>我们从两个社交链接开始.它们已经有一个名为 button-link 的类,这将是你 CSS 选择器的一个很好的目标.</li>
<li><p>
接下来,你将为这些链接的整体外观应用样式.你会将它们设置为块级元素(block elements),这样它们就
会填满容器的宽度,并且每个链接会出现在独立的一行上.将以下 CSS 添加到你的样式表中.
</p>
<div class="org-src-container">
<pre class="src src-diff">--- <span style="font-weight: bold;">/Users/fenghaoran/github/cid/code/ch03/listing-3.11.html</span>    2025-06-09 11:17:15
+++ <span style="font-weight: bold;">/Users/fenghaoran/github/cid/code/ch03/listing-3.12.html</span>    2025-06-09 11:17:15
<span style="background-color: #dfd5cf; font-weight: bold;">@@ -41,10 +41,21 @@</span>
     }

     .social-links {
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      max-inline-size: 25em;</span>
       padding: 1em 1.5rem;
       background-color: #fff;
       border-radius: 0.5em;
     }
<span style="color: #006700; background-color: #c3ebc1;">+</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">    .button-link {</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      display: block;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      padding: 0.5em;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      color: #fff;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      background-color: var(--brand-color);</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      text-align: center;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      text-decoration: none;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      text-transform: uppercase;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">    }</span>
   &lt;/style&gt;
 &lt;/head&gt;
 &lt;body lang="en-US"&gt;
</pre>
</div></li>
</ul></li>
<li>现在链接的样式已经正确设置,但你仍需要解决它们之间的间距问题(当前两个link是紧紧挨着的).如果没有外
边距(margin),它们会直接叠加在一起,就像现在的情况一样.</li>
<li>你有几种选择:
<ul class="org-ul">
<li>你可以分别为它们设置上外边距(margin-top)和下外边距(margin-bottom),</li>
<li>或者同时设置上下外边距,这样两个按钮之间会发生外边距折叠.</li>
</ul></li>
<li>然而,无论你选择哪种方法,你都会遇到一个问题:外边距需要与容器的内边距(padding)配合工作.
<ul class="org-ul">
<li><p>
如果你为两个链接都添加 margin-top: 1.5em,你会得到图 3-19 所示的效果.
</p>

<div id="org5711e11" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/3-19.png" alt="3-19.png" />
</p>
<p><span class="figure-number">Figure 37: </span>cid/3-19.png</p>
</div></li>
<li>现在容器顶部会出现额外的空间.第一个链接的上外边距与容器的顶部内边距叠加,导致容器的顶部间距与其
他三边的不一致.</li>
</ul></li>

<li>你可以通过多种方式修复这个问题.
<ul class="org-ul">
<li><p>
下面代码展示了其中一种较简单的解决方法.
</p>
<div class="org-src-container">
<pre class="src src-diff">--- <span style="font-weight: bold;">/Users/fenghaoran/github/cid/code/ch03/listing-3.12.html</span>    2025-06-09 11:17:15
+++ <span style="font-weight: bold;">/Users/fenghaoran/github/cid/code/ch03/listing-3.13.html</span>    2025-06-09 11:17:15
<span style="background-color: #dfd5cf; font-weight: bold;">@@ -56,6 +56,10 @@</span>
       text-decoration: none;
       text-transform: uppercase;
     }
<span style="color: #006700; background-color: #c3ebc1;">+</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">    .button-link + .button-link {</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      margin-block-start: 1.5em;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">    }</span>
   &lt;/style&gt;
 &lt;/head&gt;
 &lt;body lang="en-US"&gt;
</pre>
</div></li>
<li>它使用相邻兄弟选择器(+)来仅仅定位那些紧跟在其他 button-link 后面的兄弟元素,这些元素必须在同一
个父元素下.现在,外边距只会出现在两个按钮之间.</li>
<li>像这样使用 + 选择器是一种非常有用的模式,你可以在各种场景中利用它来为容器内的一系列元素设置间距.
同样的方法也适用于为一系列行内(inline)或行内块(inline-block)元素之间设置左外边距.</li>
<li>这种`+`的用法叫做 <b>Combinator</b></li>
</ul></li>
</ul>
</div>
<div id="outline-container-orgf24815e" class="outline-4">
<h4 id="orgf24815e"><span class="section-number-4">3.6.1.</span> Considering changing content</h4>
<div class="outline-text-4" id="text-3-6-1">
<ul class="org-ul">
<li>上面的问题暂时解决了,但是随着我们需求的增加,我们还会面临新的问题,比如我们增加了新的link,但是class不
再是button-link,而是sponsor-link,那么刚才的 <b>Combinator</b> 就不再符合,也就没法起作用了
<ul class="org-ul">
<li><p>
新增link代码如下
</p>
<div class="org-src-container">
<pre class="src src-diff">--- <span style="font-weight: bold;">/Users/fenghaoran/github/cid/code/ch03/listing-3.13.html</span>    2025-06-09 11:17:15
+++ <span style="font-weight: bold;">/Users/fenghaoran/github/cid/code/ch03/listing-3.15.html</span>    2025-06-09 11:17:15
<span style="background-color: #dfd5cf; font-weight: bold;">@@ -60,6 +60,13 @@</span>
     .button-link + .button-link {
       margin-block-start: 1.5em;
     }
<span style="color: #006700; background-color: #c3ebc1;">+</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">    .sponsor-link {</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      display: block;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      color: var(--brand-color);</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      font-weight: bold;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      text-decoration: none;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">    }</span>
   &lt;/style&gt;
 &lt;/head&gt;
 &lt;body lang="en-US"&gt;
<span style="background-color: #dfd5cf; font-weight: bold;">@@ -82,6 +89,7 @@</span>
     &lt;aside class="social-links"&gt;
       &lt;a href="/mastodon" class="button-link"&gt;follow us on Mastodon&lt;/a&gt;
       &lt;a href="/facebook" class="button-link"&gt;like us on Facebook&lt;/a&gt;
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      &lt;a href="/sponsors" class="sponsor-link"&gt;Become a sponsor&lt;/a&gt;</span>
     &lt;/aside&gt;
   &lt;/div&gt;
 &lt;/body&gt;
</pre>
</div></li>
<li><p>
新增上述代码后的样子如下
</p>

<div id="org489a3aa" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/3-21.png" alt="3-21.png" />
</p>
<p><span class="figure-number">Figure 38: </span>cid/3-21.png</p>
</div></li>
</ul></li>
<li>你当然可以给新的link增加一个top margin,但这只是权宜之计,真正的更加通用的办法我们下一节介绍</li>
</ul>
</div>
</div>
<div id="outline-container-org23e0f77" class="outline-4">
<h4 id="org23e0f77"><span class="section-number-4">3.6.2.</span> Creating a more general solution</h4>
<div class="outline-text-4" id="text-3-6-2">
<ul class="org-ul">
<li>Web设计师Heydon Pickering曾经说过,边距就像是:"在你确定是否真的要把某个物体粘到另一个物体上以及那个
物体是什么之前,就先在一边涂上胶水."</li>
<li>与其为当前页面内容设置固定的边距,不如用一种无论页面如何重新结构都有效的方式来设置边距.你可以通过
Pickering称为"被截短的猫头鹰选择器"(lobotomized owl selector)来实现这一点.
<ul class="org-ul">
<li>它看起来像这样:* + *.</li>
<li>他专门写了一篇文章来解释这种选择器,可以通过<a href="https://mng.bz/Y70z%E8%AE%BF%E9%97%AE">https://mng.bz/Y70z%E8%AE%BF%E9%97%AE</a>.</li>
<li>这个选择器使用了通配符选择器(<b>),它会选中所有元素,紧接着是一个相邻兄弟选择器(+),然后是另一
个通配符选择器(</b>).</li>
<li>这个选择器之所以被称为"被截短的猫头鹰",是因为它的形状类似于猫头鹰呆滞的凝视.这种"猫头鹰"选择器与之前使用的.button-link + .button-link选择器类似,但它的目标范围更广泛.前者只会选中紧跟在另一个按钮之后的按钮,而"猫头鹰"选择器会选中任何紧跟在其他元素之后的元素.也就是说,它会选中所有不是父元素第一个子元素的元素.(另外,你也可以使用:not(:first-child)选择器,它的功能基本相同.)</li>
</ul></li>
<li>接下来,我会向你展示如何使用"被截短的猫头鹰"选择器为页面中的元素添加顶部边距.你会将它与一个新的类名stack结合使用,只需将这个类名添加到任何容器中,就可以为它的所有子元素设置垂直间距.
<ul class="org-ul">
<li><p>
最终效果如图3-22所示.
</p>

<div id="orgd6b1352" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/3-22.png" alt="3-22.png" />
</p>
<p><span class="figure-number">Figure 39: </span>cid/3-22.png</p>
</div></li>
<li><p>
新增的stack类css如下
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #721045;">.stack &gt; * + *</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">margin-block-start</span>: 1.5em;
<span style="color: #000000;">}</span>
</pre>
</div></li>
</ul></li>
<li>然后,你可以将stack类添加到任何需要为子元素设置间距的容器中.
<ul class="org-ul">
<li>首先,将其添加到&lt;body&gt;标签(以在&lt;header&gt;和&lt;div class="container"&gt;之间添加间距).</li>
<li>接着,将其添加到&lt;div class="container"&gt;标签中,以在主要内容和社交链接容器之间添加间距.</li>
<li>最后,将其添加到社交链接容器中,以便为其中的三个链接之间添加间距.</li>
</ul></li>
<li><p>
添加这些间距后,你的页面就完成了.以下列出了完整的diff更改.
</p>
<div class="org-src-container">
<pre class="src src-diff">--- <span style="font-weight: bold;">/Users/fenghaoran/github/cid/code/ch03/listing-3.15.html</span>    2025-06-09 11:17:15
+++ <span style="font-weight: bold;">/Users/fenghaoran/github/cid/code/ch03/listing-3.16.html</span>    2025-06-09 11:17:15
<span style="background-color: #dfd5cf; font-weight: bold;">@@ -57,23 +57,23 @@</span>
       text-transform: uppercase;
     }

<span style="color: #aa2222; background-color: #f4d0cf;">-</span><span style="color: #8f1313; background-color: #f4d0cf;">    .button-link + .button-link {</span>
<span style="color: #aa2222; background-color: #f4d0cf;">-</span><span style="color: #8f1313; background-color: #f4d0cf;">      margin-block-start: 1.5em;</span>
<span style="color: #aa2222; background-color: #f4d0cf;">-</span><span style="color: #8f1313; background-color: #f4d0cf;">    }</span>
<span style="color: #aa2222; background-color: #f4d0cf;">-</span>
     .sponsor-link {
       display: block;
       color: var(--brand-color);
       font-weight: bold;
       text-decoration: none;
     }
<span style="color: #006700; background-color: #c3ebc1;">+</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">    .stack &gt; * + * {</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      margin-block-start: 1.5em;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">    }</span>
   &lt;/style&gt;
 &lt;/head&gt;
<span style="color: #aa2222; background-color: #f4d0cf;">-</span><span style="color: #8f1313; background-color: #f4d0cf;">&lt;body lang="en-US"&gt;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">&lt;body lang="en-US" </span><span style="color: #005000; background-color: #acd6a5;">class="stack"</span><span style="color: #005000; background-color: #c3ebc1;">&gt;</span>
   &lt;header class="page-header"&gt;
     &lt;h1&gt;Franklin Running Club&lt;/h1&gt;
   &lt;/header&gt;
<span style="color: #aa2222; background-color: #f4d0cf;">-</span><span style="color: #8f1313; background-color: #f4d0cf;">  &lt;div class="container"&gt;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">  &lt;div class="container </span><span style="color: #005000; background-color: #acd6a5;">stack</span><span style="color: #005000; background-color: #c3ebc1;">"&gt;</span>
     &lt;main class="main"&gt;
       &lt;h2&gt;Come join us!&lt;/h2&gt;
       &lt;p&gt;
<span style="background-color: #dfd5cf; font-weight: bold;">@@ -86,7 +86,7 @@</span>
         green!
       &lt;/p&gt;
     &lt;/main&gt;
<span style="color: #aa2222; background-color: #f4d0cf;">-</span><span style="color: #8f1313; background-color: #f4d0cf;">    &lt;aside class="social-links"&gt;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">    &lt;aside class="social-links </span><span style="color: #005000; background-color: #acd6a5;">stack</span><span style="color: #005000; background-color: #c3ebc1;">"&gt;</span>
       &lt;a href="/mastodon" class="button-link"&gt;follow us on Mastodon&lt;/a&gt;
       &lt;a href="/facebook" class="button-link"&gt;like us on Facebook&lt;/a&gt;
       &lt;a href="/sponsors" class="sponsor-link"&gt;Become a sponsor&lt;/a&gt;
</pre>
</div></li>
</ul>
</div>
</div>
</div>
</div>
<div id="outline-container-org33dbf15" class="outline-2">
<h2 id="org33dbf15"><span class="section-number-2">4.</span> Chapter 4: Flexbox</h2>
<div class="outline-text-2" id="text-4">
<ul class="org-ul">
<li>在第3章中,我们探讨了文档的正常流&#x2013;浏览器默认情况下如何在页面上布局元素.在接下来的几章中,我们将深
入了解其他可用的布局形式,特别是弹性盒布局(flexbox),网格布局(grid)以及定位(positioning).借
助这些工具,您将拥有更多的选择,可以以几乎任何想象得到的方式来构建页面结构.</li>
<li>弹性盒布局(flexbox),正式名称为"Flexible Box Layout",是一种用于在页面上布局元素的方法.它主要用
于按行或列排列元素,同时也为垂直居中和等高列这些历史上棘手的问题提供了简单的解决方案.</li>
<li>如果说弹性盒布局有一个弱点,那就是它提供的选项过于丰富.它为CSS引入了十多个新属性,包括一些简写属性
这些属性可能会让人感到一时难以消化.当我刚开始学习弹性盒布局时,感觉就像在喝水龙头里喷出的水一样,
难以记住所有的新属性.我将通过首先介绍最基本和最重要的属性来帮助您逐步掌握这一主题.</li>
<li>我会向您展示弹性盒布局的基本原理,然后提供实际应用示例.您并不需要掌握所有新属性才能使用弹性盒布局
我发现只有少数几个属性能够完成大部分重要工作,其余的属性主要用于对齐和间距设置.在本章末尾,我会解
释这些属性,并提供一个参考指南,方便您在需要时查阅.</li>
</ul>
</div>
<div id="outline-container-org13dd97b" class="outline-3">
<h3 id="org13dd97b"><span class="section-number-3">4.1.</span> Flexbox principles</h3>
<div class="outline-text-3" id="text-4-1">
<ul class="org-ul">
<li>Flexbox 从熟悉的 display 属性开始.将 display: flex 应用于一个元素会将其变为一个 flex 容器,而它的
直接子元素则会变成 flex 项目.</li>
<li>默认情况下,flex 项目会从左到右并排排列成一行.flex 容器像块级元素一样占据可用的宽度,但 flex 项目
不一定会填满它们的 flex 容器的宽度.flex 项目的高度都是相同的,通常由它们的内容自然决定.</li>
<li><b>提示</b> :你也可以使用 display: inline-flex.这会创建一个更像 inline-block 元素的 flex 容器,而不是
块级元素.它会像其他内联元素一样排列,但不会自动扩展到 100% 的宽度.flex 容器中的 flex 项目通常与使
用 display: flex 时的行为相同.从实际使用的角度来看,你很少需要使用 inline-flex</li>
<li>Flexbox 与之前的 display 值(如 inline,inline-block 等)不同,这些值仅影响应用它们的元素.而
Flexbox 则是一个 flex 容器,它对内部元素的布局方式施加了控制.
<ul class="org-ul">
<li><p>
一个 flex 容器及其项目的关系可以通过图 4.1 来说明.
</p>

<div id="org0a362c9" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/4-1.png" alt="4-1.png" />
</p>
<p><span class="figure-number">Figure 40: </span>cid/4-1.png</p>
</div></li>
<li>这些item被放置在一条称为 主轴(main axis) 的线上,主轴从 主起点(main start)(左侧)到 主终点
(main end)(右侧).</li>
<li>与主轴垂直的是 交叉轴(cross axis),交叉轴从 交叉起点(cross start)(顶部)到 交叉终点(cross
end)(底部).</li>
</ul></li>
<li>从概念上讲,主轴和交叉轴类似于内联方向(inline direction)和块级方向(block direction).</li>
<li>正如你稍后将看到的,Flexbox 的属性一致采用了"起点(start)"和"终点(end)"的术语.这些轴的方向是可
以更改的:例如,当你希望元素按照其他方向排列时.稍后在本章中,我会向你展示如何实现这一点.</li>
<li>这些概念(flex 容器,flex 项目以及两条轴)涵盖了你需要了解的很多关于 Flexbox 的知识.仅仅应用
display: flex 属性,就足以让你在不需要学习那些新属性的情况下实现许多布局效果.
<ul class="org-ul">
<li><p>
为了尝试这些概念,你将构建图 4.2 所示的页面.
</p>

<div id="org97f9463" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/4-2.png" alt="4-2.png" />
</p>
<p><span class="figure-number">Figure 41: </span>cid/4-2.png</p>
</div></li>
</ul></li>
<li>我设计了这个页面,以展示使用 Flexbox 的多种方式.我们将使用 Flexbox 来制作顶部的
导航菜单,布局三个白色框,以及底部右侧的装饰性"$20.00".
<ul class="org-ul">
<li><p>
创建一个新页面,并将其链接到一个新的样式表,如以下代码所示.将以下标记添加到你的页面中.
</p>
<div class="org-src-container">
<pre class="src src-html">&lt;<span style="color: #531ab6;">!doctype</span> html&gt;
&lt;<span style="color: #721045;">html</span> <span style="color: #005e8b;">lang</span>=<span style="color: #3548cf;">"en-US"</span>&gt;
  &lt;<span style="color: #721045;">head</span>&gt;
    &lt;<span style="color: #721045;">style</span>&gt;
      /* styles to be added in subsequent listings */
    &lt;/<span style="color: #721045;">style</span>&gt;
  &lt;/<span style="color: #721045;">head</span>&gt;

  &lt;<span style="color: #721045;">body</span>&gt;
    &lt;<span style="color: #721045;">div</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"container"</span>&gt;
      &lt;<span style="color: #721045;">header</span>&gt;
        &lt;<span style="color: #721045;">h1</span>&gt;<span style="font-weight: bold; text-decoration: underline;">Ink</span>&lt;/<span style="color: #721045;">h1</span>&gt;
      &lt;/<span style="color: #721045;">header</span>&gt;
      &lt;<span style="color: #721045;">nav</span>&gt;
        &lt;<span style="color: #721045;">ul</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"site-nav"</span>&gt;
          &lt;<span style="color: #721045;">li</span>&gt;&lt;<span style="color: #721045;">a</span> <span style="color: #005e8b;">href</span>=<span style="color: #3548cf;">"/"</span>&gt;Home&lt;/<span style="color: #721045;">a</span>&gt;&lt;/<span style="color: #721045;">li</span>&gt;
          &lt;<span style="color: #721045;">li</span>&gt;&lt;<span style="color: #721045;">a</span> <span style="color: #005e8b;">href</span>=<span style="color: #3548cf;">"/features"</span>&gt;Features&lt;/<span style="color: #721045;">a</span>&gt;&lt;/<span style="color: #721045;">li</span>&gt;
          &lt;<span style="color: #721045;">li</span>&gt;&lt;<span style="color: #721045;">a</span> <span style="color: #005e8b;">href</span>=<span style="color: #3548cf;">"/pricing"</span>&gt;Pricing&lt;/<span style="color: #721045;">a</span>&gt;&lt;/<span style="color: #721045;">li</span>&gt;
          &lt;<span style="color: #721045;">li</span>&gt;&lt;<span style="color: #721045;">a</span> <span style="color: #005e8b;">href</span>=<span style="color: #3548cf;">"/support"</span>&gt;Support&lt;/<span style="color: #721045;">a</span>&gt;&lt;/<span style="color: #721045;">li</span>&gt;
          &lt;<span style="color: #721045;">li</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"nav-right"</span>&gt;
            &lt;<span style="color: #721045;">a</span> <span style="color: #005e8b;">href</span>=<span style="color: #3548cf;">"/about"</span>&gt;About&lt;/<span style="color: #721045;">a</span>&gt;
          &lt;/<span style="color: #721045;">li</span>&gt;
        &lt;/<span style="color: #721045;">ul</span>&gt;
      &lt;/<span style="color: #721045;">nav</span>&gt;
      &lt;<span style="color: #721045;">main</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"flex"</span>&gt;
        &lt;<span style="color: #721045;">div</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"column-main tile"</span>&gt;
          &lt;<span style="color: #721045;">h1</span>&gt;<span style="font-weight: bold; text-decoration: underline;">Team collaboration done right</span>&lt;/<span style="color: #721045;">h1</span>&gt;
          &lt;<span style="color: #721045;">p</span>&gt;
            Thousands of teams from all over the world turn to &lt;<span style="color: #721045;">b</span>&gt;<span style="font-weight: bold;">Ink</span>&lt;/<span style="color: #721045;">b</span>&gt; to
            communicate and get things done.
          &lt;/<span style="color: #721045;">p</span>&gt;
        &lt;/<span style="color: #721045;">div</span>&gt;
        &lt;<span style="color: #721045;">div</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"column-sidebar"</span>&gt;
          &lt;<span style="color: #721045;">div</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"tile"</span>&gt;
            &lt;<span style="color: #721045;">form</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"login-form"</span>&gt;
              &lt;<span style="color: #721045;">h3</span>&gt;<span style="font-style: italic; text-decoration: underline;">Login</span>&lt;/<span style="color: #721045;">h3</span>&gt;
              &lt;<span style="color: #721045;">p</span>&gt;
                &lt;<span style="color: #721045;">label</span> <span style="color: #005e8b;">for</span>=<span style="color: #3548cf;">"username"</span>&gt;Username&lt;/<span style="color: #721045;">label</span>&gt;
                &lt;<span style="color: #721045;">input</span> <span style="color: #005e8b;">id</span>=<span style="color: #3548cf;">"username"</span> <span style="color: #005e8b;">type</span>=<span style="color: #3548cf;">"text"</span> <span style="color: #005e8b;">name</span>=<span style="color: #3548cf;">"username"</span> /&gt;
              &lt;/<span style="color: #721045;">p</span>&gt;
              &lt;<span style="color: #721045;">p</span>&gt;
                &lt;<span style="color: #721045;">label</span> <span style="color: #005e8b;">for</span>=<span style="color: #3548cf;">"password"</span>&gt;Password&lt;/<span style="color: #721045;">label</span>&gt;
                &lt;<span style="color: #721045;">input</span> <span style="color: #005e8b;">id</span>=<span style="color: #3548cf;">"password"</span> <span style="color: #005e8b;">type</span>=<span style="color: #3548cf;">"password"</span> <span style="color: #005e8b;">name</span>=<span style="color: #3548cf;">"password"</span> /&gt;
              &lt;/<span style="color: #721045;">p</span>&gt;
              &lt;<span style="color: #721045;">button</span> <span style="color: #005e8b;">type</span>=<span style="color: #3548cf;">"submit"</span>&gt;Login&lt;/<span style="color: #721045;">button</span>&gt;
            &lt;/<span style="color: #721045;">form</span>&gt;
          &lt;/<span style="color: #721045;">div</span>&gt;
          &lt;<span style="color: #721045;">div</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"tile centered stack"</span>&gt;
            &lt;<span style="color: #721045;">small</span>&gt;<span style="color: #000000; background-color: #fbf7f0;">Starting at</span>&lt;/<span style="color: #721045;">small</span>&gt;
            &lt;<span style="color: #721045;">div</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"cost"</span>&gt;
              &lt;<span style="color: #721045;">span</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"cost-currency"</span>&gt;$&lt;/<span style="color: #721045;">span</span>&gt;
              &lt;<span style="color: #721045;">span</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"cost-dollars"</span>&gt;20&lt;/<span style="color: #721045;">span</span>&gt;
              &lt;<span style="color: #721045;">span</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"cost-cents"</span>&gt;.00&lt;/<span style="color: #721045;">span</span>&gt;
            &lt;/<span style="color: #721045;">div</span>&gt;
            &lt;<span style="color: #721045;">a</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"cta-button"</span> <span style="color: #005e8b;">href</span>=<span style="color: #3548cf;">"/pricing"</span>&gt; Sign up &lt;/<span style="color: #721045;">a</span>&gt;
          &lt;/<span style="color: #721045;">div</span>&gt;
        &lt;/<span style="color: #721045;">div</span>&gt;
      &lt;/<span style="color: #721045;">main</span>&gt;
    &lt;/<span style="color: #721045;">div</span>&gt;
  &lt;/<span style="color: #721045;">body</span>&gt;
&lt;/<span style="color: #721045;">html</span>&gt;
</pre>
</div></li>
<li><p>
在上面代码的基础上,我们再加上css代码.如果看过上一章,那么对下面的代码就会比较熟悉,是一些基本的css
配置
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #721045;">*,</span>
<span style="color: #721045;">::before,</span>
<span style="color: #721045;">::after</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">box-sizing</span>: border-box;
<span style="color: #000000;">}</span>

<span style="color: #721045;">body</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">margin</span>: unset;
  <span style="color: #531ab6;">background-color</span>: <span style="color: #ffffff; background-color: #709b90;">#709b90</span>;
  <span style="color: #531ab6;">font-family</span>: Helvetica, Arial, sans-serif;
<span style="color: #000000;">}</span>

<span style="color: #721045;">.stack &gt; * + *</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">margin-block-start</span>: 1.5em;
<span style="color: #000000;">}</span>

<span style="color: #721045;">.container</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">max-inline-size</span>: 1080px;
  <span style="color: #531ab6;">margin-inline</span>: auto;
<span style="color: #000000;">}</span>
</pre>
</div></li>
</ul></li>
<li>下面就是使用flexbox来创建layout的过程了,我们从navigation menu开始</li>
</ul>
</div>
<div id="outline-container-orgef25e5f" class="outline-4">
<h4 id="orgef25e5f"><span class="section-number-4">4.1.1.</span> Building a bsic flex menu</h4>
<div class="outline-text-4" id="text-4-1-1">
<ul class="org-ul">
<li>我们本节的最终效果如下图
<ul class="org-ul">
<li><p>
图4-3
</p>

<div id="org77bf8a8" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/4-3.png" alt="4-3.png" />
</p>
<p><span class="figure-number">Figure 42: </span>cid/4-3.png</p>
</div></li>
<li>我们可以看到,大多数的menu item都是靠左对齐的,但是我们也把一个About放在了最右边</li>
</ul></li>
<li>要构建这个菜单,你需要考虑哪个元素应该作为 flex 容器;请记住,它的子元素将成为 flex 项目.在我们页
面的菜单中,flex 容器 应该是无序列表(&lt;ul&gt;),而它的子元素,列表项(&lt;li&gt;),将成为 flex 项目.
<ul class="org-ul">
<li><p>
以下是具体的结构:
</p>
<div class="org-src-container">
<pre class="src src-html">&lt;<span style="color: #721045;">ul</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"site-nav"</span>&gt;
  &lt;<span style="color: #721045;">li</span>&gt;&lt;<span style="color: #721045;">a</span> <span style="color: #005e8b;">href</span>=<span style="color: #3548cf;">"/"</span>&gt;Home&lt;/<span style="color: #721045;">a</span>&gt;&lt;/<span style="color: #721045;">li</span>&gt;
  &lt;<span style="color: #721045;">li</span>&gt;&lt;<span style="color: #721045;">a</span> <span style="color: #005e8b;">href</span>=<span style="color: #3548cf;">"/features"</span>&gt;Features&lt;/<span style="color: #721045;">a</span>&gt;&lt;/<span style="color: #721045;">li</span>&gt;
  &lt;<span style="color: #721045;">li</span>&gt;&lt;<span style="color: #721045;">a</span> <span style="color: #005e8b;">href</span>=<span style="color: #3548cf;">"/pricing"</span>&gt;Pricing&lt;/<span style="color: #721045;">a</span>&gt;&lt;/<span style="color: #721045;">li</span>&gt;
  &lt;<span style="color: #721045;">li</span>&gt;&lt;<span style="color: #721045;">a</span> <span style="color: #005e8b;">href</span>=<span style="color: #3548cf;">"/support"</span>&gt;Support&lt;/<span style="color: #721045;">a</span>&gt;&lt;/<span style="color: #721045;">li</span>&gt;
  &lt;<span style="color: #721045;">li</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"nav-right"</span>&gt;
    &lt;<span style="color: #721045;">a</span> <span style="color: #005e8b;">href</span>=<span style="color: #3548cf;">"/about"</span>&gt;About&lt;/<span style="color: #721045;">a</span>&gt;
  &lt;/<span style="color: #721045;">li</span>&gt;
&lt;/<span style="color: #721045;">ul</span>&gt;
</pre>
</div></li>
<li><p>
我们使用如下代码来配置flex
</p>
<div class="org-src-container">
<pre class="src src-diff">--- <span style="font-weight: bold;">/Users/fenghaoran/github/cid/code/ch04/listing-4.02.html</span>    2025-06-09 11:17:15
+++ <span style="font-weight: bold;">/Users/fenghaoran/github/cid/code/ch04/listing-4.03.html</span>    2025-06-09 11:17:15
<span style="background-color: #dfd5cf; font-weight: bold;">@@ -22,6 +22,19 @@</span>
         max-inline-size: 1080px;
         margin-inline: auto;
       }
<span style="color: #006700; background-color: #c3ebc1;">+</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      .site-nav {</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        display: flex;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        padding: unset;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        list-style-type: none;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        background-color: #5f4b44;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      }</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      .site-nav &gt; li &gt; a {</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        background-color: #cc6b5a;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        color: white;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        text-decoration: none;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      }</span>
     &lt;/style&gt;
   &lt;/head&gt;
</pre>
</div></li>
<li><p>
更改之后的效果如下
</p>

<div id="org8556c57" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/4-4.png" alt="4-4.png" />
</p>
<p><span class="figure-number">Figure 43: </span>cid/4-4.png</p>
</div></li>
</ul></li>
<li>请注意,你正在处理三层元素:
<ul class="org-ul">
<li>site-nav 列表(即 flex 容器)</li>
<li>列表项(即 flex 项目)</li>
<li>以及列表项中的 锚标签(链接).</li>
</ul></li>
<li>我使用了直接子代选择器(&gt;)来确保只针对直接的子元素进行样式设置.这可能并不是绝对必要的,因为未来的
改动不太可能在导航菜单中添加嵌套列表,但谨慎一些总不会有坏处.</li>
</ul>
</div>
</div>
<div id="outline-container-orgdeb739b" class="outline-4">
<h4 id="orgdeb739b"><span class="section-number-4">4.1.2.</span> Adding padding and spacing</h4>
<div class="outline-text-4" id="text-4-1-2">
<ul class="org-ul">
<li>此时,我们的菜单看起来有些单薄.让我们通过添加一些内边距(padding)来让它更充实一些.你需要同时为容
器和菜单链接添加内边距.完成这一步后,
<ul class="org-ul">
<li><p>
你的菜单将看起来像图 4.5 所示
</p>

<div id="org6adab23" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/4-5.png" alt="4-5.png" />
</p>
<p><span class="figure-number">Figure 44: </span>cid/4-5.png</p>
</div></li>
<li>如果您对构建这种菜单(无论是使用flexbox还是其他布局方法)不太熟悉,那么了解如何实现它是非常重要的.</li>
<li>在示例中,您需要将菜单项的内边距应用到内部的 &lt;a&gt; 元素,而不是 &lt;li&gt; 元素.</li>
<li>因为您需要整个看起来像菜单链接的区域在用户点击时表现为链接.*而不是* 变成一个大而美观的按钮,但只
有一个很小的可点击目标区域(默认&lt;a&gt;的行为)</li>
<li>请更新您的样式以匹配下一份代码清单中的样式.这将调整菜单的内边距以确保整个按钮区域都可点击(而不是
只有一个很小的可点击目标区域).</li>
</ul></li>
<li>下面我们来看下对代码的详细更新
<ul class="org-ul">
<li><p>
具体更新diff如下
</p>
<div class="org-src-container">
<pre class="src src-diff">--- <span style="font-weight: bold;">/Users/fenghaoran/github/cid/code/ch04/listing-4.03.html</span>    2025-06-09 11:17:15
+++ <span style="font-weight: bold;">/Users/fenghaoran/github/cid/code/ch04/listing-4.04.html</span>    2025-06-09 11:17:15
<span style="background-color: #dfd5cf; font-weight: bold;">@@ -25,12 +25,14 @@</span>

       .site-nav {
         display: flex;
<span style="color: #aa2222; background-color: #f4d0cf;">-</span><span style="color: #8f1313; background-color: #f4d0cf;">        padding: </span><span style="color: #8f1313; background-color: #f3b5a7;">unset</span><span style="color: #8f1313; background-color: #f4d0cf;">;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        padding: </span><span style="color: #005000; background-color: #acd6a5;">0.5rem</span><span style="color: #005000; background-color: #c3ebc1;">;</span>
         list-style-type: none;
         background-color: #5f4b44;
       }

       .site-nav &gt; li &gt; a {
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        display: block;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        padding: 0.5em 1em;</span>
         background-color: #cc6b5a;
         color: white;
         text-decoration: none;
</pre>
</div></li>
<li>首先注意这里: 我们把&lt;a&gt;改成了display: block,因为如果一直是inline的话,其贡献给parent的height是来自
于line height,而不是我们辛辛苦苦提供的padding</li>
<li>其次第一个padding增加的,是橙色容器和外部棕色容器之间的padding</li>
<li>而第二个padding增加的,是文字和橙色容器之间的padding</li>
<li>具体哪个css语句增加了什么效果,可以在 "开发人员工具=&gt;样式"里面进行删除添加后查看效果.</li>
</ul></li>
<li>接下来,您需要在菜单项之间添加间距.您可以通过设置 margin 来实现这一点.</li>
<li>但 Flexbox 提供了一种专门用于此目的的属性,叫做 gap.
<ul class="org-ul">
<li>例如,应用 gap: 1rem 将在每个 Flex 项目之间添加 1rem 的空间.</li>
<li>此外,Flexbox 允许使用 margin: auto 来填充 Flex 项目之间的所有可用空间.您还可以利用这一点,将最
后一个菜单项推到右侧.</li>
<li><p>
在应用这些更改后,菜单就完成了(如图 4-6 所示).
</p>

<div id="org8f9df9a" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/4-6.png" alt="4-6.png" />
</p>
<p><span class="figure-number">Figure 45: </span>cid/4-6.png</p>
</div></li>
<li><p>
我们的代码改动如下
</p>
<div class="org-src-container">
<pre class="src src-diff">--- <span style="font-weight: bold;">/Users/fenghaoran/github/cid/code/ch04/listing-4.04.html</span>    2025-06-09 11:17:15
+++ <span style="font-weight: bold;">/Users/fenghaoran/github/cid/code/ch04/listing-4.05.html</span>    2025-06-09 11:17:15
<span style="background-color: #dfd5cf; font-weight: bold;">@@ -8,6 +8,10 @@</span>
         box-sizing: border-box;
       }

<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      :root {</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        --gap-size: 1.5rem;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      }</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span>
       body {
         margin: unset;
         background-color: #709b90;
<span style="background-color: #dfd5cf; font-weight: bold;">@@ -25,6 +29,7 @@</span>

       .site-nav {
         display: flex;
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        gap: var(--gap-size);</span>
         padding: 0.5rem;
         list-style-type: none;
         background-color: #5f4b44;
<span style="background-color: #dfd5cf; font-weight: bold;">@@ -37,6 +42,10 @@</span>
         color: white;
         text-decoration: none;
       }
<span style="color: #006700; background-color: #c3ebc1;">+</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      .site-nav &gt; .nav-right {</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        margin-inline-start: auto;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      }</span>
     &lt;/style&gt;
   &lt;/head&gt;
</pre>
</div></li>
<li>我没看到具体的gap存储在一个custom property里面,以便后面使用(&#x2013;gap-size).</li>
<li>上面改动的最后一个按钮(.nav-right)的左侧(-margin-inline-start)应用一个自动边距(auto margin),
从而将最后一个按钮推到最右边.</li>
<li>您将自动边距(auto margin)仅应用到了一个元素(About).如果您将其应用到 Support 菜单项上,那么这
将会把两个链接都移动到右侧.</li>
</ul></li>
<li>关于 Flex 项目之间的间距,还有更多选择,包括将它们均匀分布在整个 Flex 容器中的能力.我们稍后会详细
了解这些选项,但您在这里使用的样式对于这个导航菜单来说是合适的.</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org58099f7" class="outline-3">
<h3 id="org58099f7"><span class="section-number-3">4.2.</span> Flex item sizes</h3>
<div class="outline-text-3" id="text-4-2">
<ul class="org-ul">
<li>在调整 Flexbox 元素的大小时,你可以使用熟悉的 width 和 height 属性,但 Flexbox 提供了比这些属性单独
使用更强大的尺寸控制选项.让我们来看一下 Flexbox 中一个非常有用的属性&#x2013;flex.
<ul class="org-ul">
<li>flex 属性用于控制 Flex 项目(flex items)沿主轴(通常是宽度方向)的大小.</li>
<li><p>
完成这些更改后,你的主区域将看起来如图 4-7 所示.
</p>

<div id="org30b5175" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/4-7.png" alt="4-7.png" />
</p>
<p><span class="figure-number">Figure 46: </span>cid/4-7.png</p>
</div></li>
<li><p>
具体代码如下
</p>
<div class="org-src-container">
<pre class="src src-diff">--- <span style="font-weight: bold;">/Users/fenghaoran/github/cid/code/ch04/listing-4.05.html</span>    2025-06-09 11:17:15
+++ <span style="font-weight: bold;">/Users/fenghaoran/github/cid/code/ch04/listing-4.06.html</span>    2025-06-09 11:17:15
<span style="background-color: #dfd5cf; font-weight: bold;">@@ -46,6 +46,16 @@</span>
       .site-nav &gt; .nav-right {
         margin-inline-start: auto;
       }
<span style="color: #006700; background-color: #c3ebc1;">+</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      .tile {</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        padding: 1.5em;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        background-color: #fff;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      }</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      .flex {</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        display: flex;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        gap: var(--gap-size);</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      }</span>
     &lt;/style&gt;
   &lt;/head&gt;
</pre>
</div></li>
<li>上面代码在页面的主区域应用一个 Flex 布局,然后使用 flex 属性来控制列的大小.</li>
<li>我们的.flex class给了main,所以main下面的两个布局都具有了display:flex和默认gap</li>
<li>另外的一个class叫做.tile, 它赋值给了main下面的三个小的container,让它们的背景色都变成了白色,另外有
了更大的padding</li>
</ul></li>
<li>现在你的内容被分成了两列:
<ul class="org-ul">
<li>左侧是页面主要内容的较大区域(column-main),</li>
<li>右侧是一个登录表单和一个小型的定价框(column-sidebar).</li>
</ul></li>
<li>目前,你还没有对两列的宽度进行任何指定,因此它们会根据内容的自然大小进行调整.
<ul class="org-ul">
<li>如图 4.7 所示),这意味着它们并没有完全填满可用空间的宽度,</li>
<li>不过在窗口较小的情况下可能不会出现这种情况.</li>
</ul></li>
<li>flex 属性是应用于 Flex 项目的,它提供了多种选项.</li>
<li>让我们先从最基本的用法开始,以熟悉它的功能.你将使用 column-main 和 column-sidebar 这两个类来定位列
并使用 flex 属性分别设置宽度为三分之二和三分之一.
<ul class="org-ul">
<li><p>
将以下代码添加到你的样式表中.
</p>
<div class="org-src-container">
<pre class="src src-diff">--- <span style="font-weight: bold;">/Users/fenghaoran/github/cid/code/ch04/listing-4.06.html</span>    2025-06-09 11:17:15
+++ <span style="font-weight: bold;">/Users/fenghaoran/github/cid/code/ch04/listing-4.07.html</span>    2025-06-09 11:17:15
<span style="background-color: #dfd5cf; font-weight: bold;">@@ -56,6 +56,14 @@</span>
         display: flex;
         gap: var(--gap-size);
       }
<span style="color: #006700; background-color: #c3ebc1;">+</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      .column-main {</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        flex: 2;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      }</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      .column-sidebar {</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        flex: 1;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      }</span>
     &lt;/style&gt;
   &lt;/head&gt;

</pre>
</div></li>
<li>现在,这两列会扩展以填满空间,因此它们加起来的总宽度与导航栏相同</li>
<li>并且主列的宽度是侧边栏的两倍.Flexbox 很贴心地帮你处理了数学计算.</li>
</ul></li>
<li>接下来,我们来仔细看看具体发生了什么,flex 属性是三个不同尺寸属性的简写形式:
<ul class="org-ul">
<li>flex-grow</li>
<li>flex-shrink</li>
<li>flex-basis.</li>
</ul></li>
<li>在这段代码中,你只提供了 flex-grow,而将其他两个属性留作默认值(分别为 1 和 0%).因此,
<ul class="org-ul">
<li>flex: 2 等价于 flex: 2 1 0%.</li>
<li><p>
这些简写声明通常是首选的,但你也可以分别声明这三个属性:
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #531ab6;">flex-grow</span>: 2;
<span style="color: #531ab6;">flex-shrink</span>: 1;
<span style="color: #531ab6;">flex-basis</span>: 0%;
</pre>
</div></li>
</ul></li>
<li>接下来,我们逐一了解这三个属性的含义.我们将从 flex-basis 开始,因为另外两个属性是基于它的.</li>
</ul>
</div>
<div id="outline-container-org1b268b8" class="outline-4">
<h4 id="org1b268b8"><span class="section-number-4">4.2.1.</span> Flex basis</h4>
<div class="outline-text-4" id="text-4-2-1">
<ul class="org-ul">
<li>flex-basis 定义了元素尺寸的一个起始点&#x2013;即"初始主轴尺寸"(指沿主轴的尺寸).flex-basis 属性可以设置
为任何适用于 width 的值,包括像素(px),ems 或百分比等单位.</li>
<li>flex-basis的初始值是 auto,这意味着浏览器会检查元素是否有声明的 width 值.
<ul class="org-ul">
<li>如果有,浏览器会使用该尺寸;</li>
<li>如果没有,浏览器会根据内容自然地确定元素的尺寸.</li>
</ul></li>
<li><p>
这也意味着,对于那些 flex-basis 不为 auto 的元素,width 属性将会被忽略.图 4-8 展示了这一点.
</p>

<div id="org1b954cc" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/4-8.png" alt="4-8.png" />
</p>
<p><span class="figure-number">Figure 47: </span>cid/4-8.png</p>
</div></li>
<li>一旦每个 Flex 项目的初始主轴尺寸被确定,它们可能需要沿主轴方向进行扩展(grow)或收缩(shrink)以适
应(或填充)Flex 容器的大小.这时,flex-grow 和 flex-shrink 属性就派上用场了.</li>
</ul>
</div>
</div>
<div id="outline-container-org883fb5a" class="outline-4">
<h4 id="org883fb5a"><span class="section-number-4">4.2.2.</span> Flex grow</h4>
<div class="outline-text-4" id="text-4-2-2">
<ul class="org-ul">
<li>一旦 <b>每个 Flex 项目的</b> flex-basis 计算完成,它们(加上它们之间的间隙或边距)将会累加成一个总宽度.
这个总宽度可能并不一定填满 Flex 容器的宽度,从而留下剩余空间
<ul class="org-ul">
<li><p>
如图 4-8 所示
</p>

<div id="org691c4e0" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/4-8.png" alt="4-8.png" />
</p>
<p><span class="figure-number">Figure 48: </span>cid/4-8.png</p>
</div></li>
<li>上图中的flex-basis每个都是20%,一共三个element,那么只有60%的剩余空间. 如果没有设置flex-grow的情况
下,这些空间就空着了</li>
</ul></li>
<li>这些剩余空间将根据 Flex 项目的 flex-grow 值来分配,而 flex-grow 值始终是非负整数.
<ul class="org-ul">
<li>如果某个项目的 flex-grow 值为 0,那么它的尺寸不会超过其 flex-basis 的大小.</li>
<li><p>
如果某些项目的 flex-grow 值不为 0,这些项目将会扩展,直到所有剩余空间被用完.这意味着 Flex 项目会
填满整个容器的宽度(如图 4-9 所示).也就是每个element1,2,3基础"底薪20%",element2和3把剩下的40%平分了
</p>

<div id="orgd3446d3" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/4-9.png" alt="4-9.png" />
</p>
<p><span class="figure-number">Figure 49: </span>cid/4-9.png</p>
</div></li>
</ul></li>
<li>为某个项目声明更高的 flex-grow 值会赋予该项目更大的"权重";它会占据剩余空间中的更大比例.
<ul class="org-ul">
<li><p>
一项设置了 flex-grow: 2 的项目,其扩展量将是设置了 flex-grow: 1 的项目的两倍(如图 4.10 所示).
也就是每个element1,2,3基础"底薪20%",element2和3把剩下的40%按2:1分了
</p>

<div id="org4aaf48b" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/4-10.png" alt="4-10.png" />
</p>
<p><span class="figure-number">Figure 50: </span>cid/4-10.png</p>
</div></li>
<li><p>
这正是你在页面上所做的事情.使用简写声明 flex: 2 和 flex: 1 会设置一个 flex-basis 为 0%,因此容器
宽度的 100% 都会被视为剩余空间(减去两列之间 1.5 em 的间隙).然后,这些剩余空间被分配给两列:三
分之二分配给第一列,剩下的三分之一分配给第二列(如图 4.11 所示).
</p>

<div id="orgc1359bb" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/4-11.png" alt="4-11.png" />
</p>
<p><span class="figure-number">Figure 51: </span>cid/4-11.png</p>
</div></li>
</ul></li>
<li>建议像这里一样使用 flex 的简写属性 (也就是三个属性都设置,flex:1其实就是都是设置),而不是仅仅声明
flex-grow.
<ul class="org-ul">
<li>与大多数简写属性不同的是,当省略某些值时,这些值不会被设置为初始值.</li>
<li>相反,简写会为任何省略的三个属性分配有用的默认值:flex-grow 因子为 1,flex-shrink 因子为 1,
flex-basis 为 0%.这些通常是你最常需要的设置.</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org4ea4c16" class="outline-4">
<h4 id="org4ea4c16"><span class="section-number-4">4.2.3.</span> Flex shrink</h4>
<div class="outline-text-4" id="text-4-2-3">
<ul class="org-ul">
<li>flex-shrink 属性的原理与 flex-grow 类似.在确定 Flex 项目的初始主轴尺寸后,它们可能会超出 Flex 容器
的可用空间.
<ul class="org-ul">
<li><p>
如果没有 flex-shrink,这会导致内容溢出(如图 4-12 所示).
</p>

<div id="orgb3baca9" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/4-12.png" alt="4-12.png" />
</p>
<p><span class="figure-number">Figure 52: </span>cid/4-12.png</p>
</div></li>
</ul></li>
<li>每个项目的 flex-shrink 值表示它是否应该缩小以防止溢出.
<ul class="org-ul">
<li>如果某个项目的 flex-shrink 值为 0,它将不会缩小.(注意只设置flex的情况下flex-shrink的值是1)</li>
<li>值大于 0 的项目将会按比例缩小,直到没有溢出为止.值较高的项目会比值较低的项目缩小得更多(缩小比例
是基于 flex-shrink 值的).此外,initial main size也会被考虑在内,因此尺寸较大的元素将比尺寸较小
的元素缩小得更多.</li>
</ul></li>
<li>作为页面的一种替代方法,你可以依赖 flex-shrink 来实现类似的列宽调整.
<ul class="org-ul">
<li>为此,使用所需的百分比(66.67% 和 33.33%)来为每个列指定 flex-basis.</li>
<li><p>
列宽加上 1.5em 的间隙会导致总宽度溢出 1.5em(因为flex-basis都是设置了百分比,且用完了100%所以才会移
除).给这两列都设置一个 flex-shrink 值为 1,一些宽度将从每列中减去,从而使它们适应容器的宽度.代
码如下
</p>
<div class="org-src-container">
<pre class="src src-diff">--- <span style="font-weight: bold;">/Users/fenghaoran/github/cid/code/ch04/listing-4.07.html</span>    2025-06-09 11:17:15
+++ <span style="font-weight: bold;">/Users/fenghaoran/github/cid/code/ch04/listing-4.08.html</span>    2025-06-09 11:17:15
<span style="background-color: #dfd5cf; font-weight: bold;">@@ -58,11 +58,11 @@</span>
       }

       .column-main {
<span style="color: #aa2222; background-color: #f4d0cf;">-</span><span style="color: #8f1313; background-color: #f4d0cf;">        flex: </span><span style="color: #8f1313; background-color: #f3b5a7;">2</span><span style="color: #8f1313; background-color: #f4d0cf;">;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        flex: </span><span style="color: #005000; background-color: #acd6a5;">66.67%</span><span style="color: #005000; background-color: #c3ebc1;">;</span>
       }

       .column-sidebar {
<span style="color: #aa2222; background-color: #f4d0cf;">-</span><span style="color: #8f1313; background-color: #f4d0cf;">        flex: </span><span style="color: #8f1313; background-color: #f3b5a7;">1</span><span style="color: #8f1313; background-color: #f4d0cf;">;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        flex: </span><span style="color: #005000; background-color: #acd6a5;">33.3%</span><span style="color: #005000; background-color: #c3ebc1;">;</span>
       }
     &lt;/style&gt;
   &lt;/head&gt;
</pre>
</div></li>

<li>这是一种不同的方法,可以实现与之前(代码清单 4.7)基本相同的效果.这两种方法都适合用于你的页面需求.</li>
</ul></li>
<li><b>注意</b>:如果你深入研究细节,会发现代码清单 4.7 和代码清单 4.8 的结果之间存在轻微差异.原因有些复杂,
但简而言之,这是因为
<ul class="org-ul">
<li>column-main 有内边距(padding),而 column-sidebar 没有.</li>
<li>当 flex-basis 为 0% 时,内边距会改变 Flex 项目的初始主轴尺寸的计算方式.</li>
<li>因此,代码4.07.html中的 column-main 比4.08.html中的稍微宽一些.如果你需要精确的尺寸,使用 grid
会是更好的选择(详见第 5 章).</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org2f5c9fc" class="outline-4">
<h4 id="org2f5c9fc"><span class="section-number-4">4.2.4.</span> Some practical examples</h4>
<div class="outline-text-4" id="text-4-2-4">
<ul class="org-ul">
<li>你可以通过无数种方式使用 flex 属性.
<ul class="org-ul">
<li>你可以像页面中那样,使用 flex-grow 值或 flex-basis 百分比来定义比例列.</li>
<li>你可以定义固定宽度的列和随着视口大小缩放的"流体"列.</li>
<li>你还可以构建一个"网格系统",类似于 Bootstrap 等库所做的,通过预设列尺寸的一系列可复用的类来实现.</li>
</ul></li>
<li>图 4-13 展示了你可以用 Flexbox 构建的一些布局.
<ul class="org-ul">
<li>#+CAPTION: cid/4-13.png
<img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/4-13.png" alt="4-13.png" /></li>
<li>第三个例子展示了一种曾被称为"圣杯布局"(Holy Grail)的设计.这是一种在 CSS 中曾经非常难实现的布局
这种布局的两个侧边栏是固定宽度的,而中间的列是"流体"的,也就是说它会扩展以填满可用空间.最显著的
是,这三列的高度相等,这是由它们的内容决定的.</li>
<li>正如你可能想象的那样,你可以将这些布局以任意方式组合搭配,并适用于任意数量的 Flex 项目.</li>
</ul></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orga698934" class="outline-3">
<h3 id="orga698934"><span class="section-number-3">4.3.</span> Flex direction</h3>
<div class="outline-text-3" id="text-4-3">
<ul class="org-ul">
<li>另一个在 Flexbox 中很重要的选项是改变轴方向的能力.
<ul class="org-ul">
<li>flex-direction 属性应用于 Flex 容器,用来控制轴的方向.其初始值为 row,会让项目沿inline方向排列,
就像你之前实现的一样.</li>
<li>指定 flex-direction: column 会让 Flex 项目垂直堆叠(即沿区块方向排列).</li>
<li>Flexbox 还支持 row-reverse,使项目从右到左排列,</li>
<li>以及 column-reverse,使项目从下到上排列</li>
<li><p>
图 4-14 展示了上面的情况
</p>

<div id="orga10f559" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/4-14.png" alt="4-14.png" />
</p>
<p><span class="figure-number">Figure 53: </span>cid/4-14.png</p>
</div></li>
</ul></li>
<li>你将在页面的右列中使用这一属性,在那里有两个方块是上下堆叠的.</li>
<li>这看起来可能没必要,毕竟右列中的两个方块已经是堆叠的了.正常的区块元素本身就是这样表现的.但页面布
局中有一个问题并不那么明显.如果你在主方块中添加更多内容,这个问题就会显现出来
<ul class="org-ul">
<li><p>
如图 4.15 所示.
</p>

<div id="org3a072b1" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/4-15.png" alt="4-15.png" />
</p>
<p><span class="figure-number">Figure 54: </span>cid/4-15.png</p>
</div></li>
<li>在你的代码中向 column-main 添加一些标题和段落.你会发现主方块的高度超过了右边方块的底部.Flexbox
本来应该提供等高的列布局,但为什么没有生效呢?</li>
<li>图 4-15 中通过虚线轮廓(作者添加的)显示,Flex 项目实际上是等高的.问题在于,右侧 Flex 项目中的方块
没有随之增长以填满它的高度.</li>
</ul></li>
<li>理想的布局是图 4.16 所展示的那样.
<ul class="org-ul">
<li><p>
图4-16
</p>

<div id="orga40400d" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/4-16.png" alt="4-16.png" />
</p>
<p><span class="figure-number">Figure 55: </span>cid/4-16.png</p>
</div></li>
<li>即使左侧的内容更长,右侧的两个方块也应该扩展以填满整个列.在Flexbox 诞生之前,这种效果是无法通过
CSS 实现的(尽管借助 JavaScript 是可以做到的).</li>
<li>下一节就是如何实现这个理想的布局方法</li>
</ul></li>
</ul>
</div>
<div id="outline-container-org11fd1d0" class="outline-4">
<h4 id="org11fd1d0"><span class="section-number-4">4.3.1.</span> Changing the flex direction</h4>
<div class="outline-text-4" id="text-4-3-1">
<ul class="org-ul">
<li>你需要的是让这两列在必要时能够增长以填满容器的高度.为此,
<ul class="org-ul">
<li>将右侧列(column-sidebar)变成一个 Flex容器,</li>
<li>并设置 flex-direction: column.</li>
<li>然后为其中的两个方块应用一个非零的 flex-grow 值(只有非零的flex-grow才会利用remain的空间)</li>
<li><p>
下面的代码清单展示了实现方法
</p>
<div class="org-src-container">
<pre class="src src-diff">--- <span style="font-weight: bold;">/Users/fenghaoran/github/cid/code/ch04/listing-4.08.html</span>    2025-07-09 20:24:57
+++ <span style="font-weight: bold;">/Users/fenghaoran/github/cid/code/ch04/listing-4.09.html</span>    2025-07-09 20:24:57
<span style="background-color: #dfd5cf; font-weight: bold;">@@ -58,12 +58,19 @@</span>
       }

       .column-main {
<span style="color: #aa2222; background-color: #f4d0cf;">-</span><span style="color: #8f1313; background-color: #f4d0cf;">        flex: 66.67%;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        flex: 2;</span>
       }

       .column-sidebar {
<span style="color: #aa2222; background-color: #f4d0cf;">-</span><span style="color: #8f1313; background-color: #f4d0cf;">        flex: 33.3%;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        flex: 1;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        display: flex;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        flex-direction: column;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        gap: var(--gap-size);</span>
       }
<span style="color: #006700; background-color: #c3ebc1;">+</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      .column-sidebar &gt; .tile {</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        flex: 1;</span>
+      }
</pre>
</div></li>
<li>注意这里的flex:1就等同于flex-grow:1, flex-shrink: 1, flex-basis: 0%</li>
</ul></li>
<li>现在,你已经拥有嵌套的 Flexbox.
<ul class="org-ul">
<li>元素 &lt;div class="column-sidebar"&gt; 是外部 Flexbox 的一个 Flex 项目,同时它也是内部 Flexbox 的 Flex 容器.</li>
<li><p>
这些元素的整体结构如下所示(为了简洁省略了文本):
</p>
<div class="org-src-container">
<pre class="src src-html">&lt;<span style="color: #721045;">main</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"flex"</span>&gt;
  &lt;<span style="color: #721045;">div</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"column-main tile"</span>&gt;main&lt;/<span style="color: #721045;">div</span>&gt;
  &lt;<span style="color: #721045;">div</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"column-sidebar"</span>&gt;
    &lt;<span style="color: #721045;">div</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"tile"</span>&gt;tile1&lt;/<span style="color: #721045;">div</span>&gt;
    &lt;<span style="color: #721045;">div</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"tile"</span>&gt;tile2&lt;/<span style="color: #721045;">div</span>&gt;
  &lt;/<span style="color: #721045;">div</span>&gt;
&lt;/<span style="color: #721045;">main</span>&gt;
</pre>
</div></li>
</ul></li>
<li>内部的 Flexbox 设置了 flex-direction: column,因此主轴被旋转.它的主轴方向从上到下(交叉轴方向现在
从左到右).</li>
<li>这意味着对于这些 Flex 项目来说,flex-basis,flex-grow 和 flex-shrink <b>现在应用于元素的高度,而不是宽度</b></li>
<li>通过指定 flex: 1,这些项目的高度会在必要时扩展以填满容器.</li>
<li>现在,无论哪一侧更高,大方块的底部和第二个小方块的底部都能够对齐.</li>
<li>在处理垂直 Flexbox(column 或 column-reverse)时,行的通用概念仍然适用,但有一个需要注意的区别&#x2013;回
想一下,在 CSS 中,处理高度与处理宽度是根本不同的.
<ul class="org-ul">
<li>Flex 容器的宽度会始终是可用宽度的 100%,</li>
<li>但高度仍然由其内容自然决定.当你旋转主轴时,这种行为不会改变.</li>
</ul></li>
<li>Flex 容器的高度是由其 Flex 项目决定的,它们会完美地填满容器.</li>
<li><p>
在垂直 Flexbox 中,flex-grow 和 flex-shrink 属性起作用是有前提的,那就是:有其他因素强制 Flex 容器的
高度为特定大小在你的页面中,这个"其他因素"就是从外部 Flexbox 派生的高度(比如我们上面的例子)
</p>
<pre class="example" id="org32805ef">
In a vertical flexbox, flx-grow and flex-shrink applied to the items will have no effect unless
something else forces the height fo the flex container to a specific size. On your page, that
"something" is the height derived from the outer flexbox
</pre></li>
</ul>
</div>
</div>
<div id="outline-container-org84c09c1" class="outline-4">
<h4 id="org84c09c1"><span class="section-number-4">4.3.2.</span> Styling the login form</h4>
<div class="outline-text-4" id="text-4-3-2">
<ul class="org-ul">
<li>您现在已经将整体布局应用到了整个页面.接下来只需要为右侧的两个小区域(登录表单和注册链接)进行样式
设计即可.
<ul class="org-ul">
<li><p>
登录表单其实不需要使用 Flexbox,但为了完整性,我还是会简单讲述一下.最终,表单的样式应该看起来像
图 4.17 所示.
</p>

<div id="orgfd2b401" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/4-17.png" alt="4-17.png" />
</p>
<p><span class="figure-number">Figure 56: </span>cid/4-17.png</p>
</div></li>
</ul></li>
<li>&lt;form&gt; 元素具有 login-form 类,因此您可以在 CSS 中通过这个类选择器来定位它.
<ul class="org-ul">
<li><p>
将以下代码添加到样式表中,您将分三部分为登录表单设计样式:标题,输入字段和按钮.
</p>
<div class="org-src-container">
<pre class="src src-diff">--- <span style="font-weight: bold;">/Users/fenghaoran/github/cid/code/ch04/listing-4.09.html</span>    2025-07-09 20:24:57
+++ <span style="font-weight: bold;">/Users/fenghaoran/github/cid/code/ch04/listing-4.10.html</span>    2025-06-09 11:17:15
<span style="background-color: #dfd5cf; font-weight: bold;">@@ -71,6 +71,27 @@</span>
       .column-sidebar &gt; .tile {
         flex: 1;
       }
<span style="color: #006700; background-color: #c3ebc1;">+</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      .login-form h3 {</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        margin: 0;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        font-size: 0.9em;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        font-weight: bold;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        text-align: end;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        text-transform: uppercase;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      }</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      .login-form input:not([type="checkbox"]):not([type="radio"]) {</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        display: block;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        inline-size: 100%;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      }</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      .login-form button {</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        margin-block-start: 1em;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        border: 1px solid #cc6b5a;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        background-color: white;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        padding: 0.5em 1em;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        cursor: pointer;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      }</span>
     &lt;/style&gt;
   &lt;/head&gt;
</pre>
</div></li>
<li>首先是标题部分,它使用了一些您应该已经熟悉的字体属性.通过 text-align 将文本对齐到右侧,并使用 t
ext-transform 将文本全部转换为大写.注意,在 HTML 中标题文本并不是大写的.当大写字母仅仅是样式需
求时,就像这里一样,通常会根据标准语法规则在 HTML 中书写小写或首字母大写的形式,然后使用 CSS 来转
换格式.这样,未来如果需要更改格式时,无需重新修改 HTML 的部分内容.</li>
<li>第二部分的规则集为输入框设置了样式.这里的选择器比较特殊,主要是因为 &lt;input&gt; 元素本身的特殊性.
&lt;input&gt; 元素既可以用于文本输入和密码输入,也可以用于其他看起来类似的 HTML5 输入类型,比如数字,电
子邮件和日期.同时,它也可以用于完全不同的输入项,比如单选按钮(radio buttons)和复选框(checkboxes).</li>
<li>这里结合了 :not() 伪类和属性选择器 [type=checkbox] 与 [type=radio](详见附录 A).这种方式会选中
所有 &lt;input&gt; 元素,除了复选框和单选按钮.这是一种基于排除的方式,明确指出不想选中的内容.您也可以
使用基于包含的方式,通过多个属性选择器列出所有想要选中的输入类型,但这样会显得很冗长.</li>
</ul></li>
<li><b>提示</b> :尽管当前页面的表单仅使用了文本输入框和密码输入框,但您需要考虑到未来可能会出现的其他标记,
并尝试为此做好准备.</li>
<li>在规则集中,您将输入框设置为 display: block,以便它们各占一行.</li>
<li>您还需要指定 inline-size 为 100%.
<ul class="org-ul">
<li>通常情况下,块级元素会自动填充可用宽度,</li>
<li>但 &lt;input&gt; 元素略有不同;它的宽度是由 size 属性决定的,该属性大致表示输入框可以容纳的字符数量.如
果未指定 size 属性,则会使用默认值.您可以通过 CSS 的 width 或 inline-size 属性来强制指定宽度.</li>
</ul></li>
<li>第三部分的规则集为"登录"按钮设置样式.这些样式大多比较直观;不过,cursor 属性可能对您来说不太熟悉.
它控制鼠标悬停在元素上时鼠标指针的外观.pointer 值会将鼠标指针变为一只带有指向手指的手型,就像鼠标
指向链接时的默认样式.这可以向用户传达一个信息:该元素是可以点击的,为按钮增添了一个细节上的优化.</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orgda6aef5" class="outline-3">
<h3 id="orgda6aef5"><span class="section-number-3">4.4.</span> Alignment, spacing, and other details</h3>
<div class="outline-text-3" id="text-4-4">
<ul class="org-ul">
<li>现在你应该已经掌握了 Flexbox 的核心部分.不过,正如我之前提到的,还有许多选项你可能偶尔会需要使用.
这些选项主要涉及到在 Flex 容器内对 Flex 项目的对齐或间距进行控制.你还可以启用行换行功能或重新排列
单个 Flex 项目.</li>
<li>以下页面将展示控制这些功能的属性:
<ul class="org-ul">
<li><p>
图 4-18 列出了所有可以应用于 Flex 容器的属性,
</p>

<div id="orgd912ebe" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/4-18.png" alt="4-18.png" />
</p>
<p><span class="figure-number">Figure 57: </span>cid/4-18.png</p>
</div></li>
<li><p>
图 4-19 和图4-18一样,继续列出了所有可以应用于 Flex 容器的属性,
</p>

<div id="org2de433b" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/4-19.png" alt="4-19.png" />
</p>
<p><span class="figure-number">Figure 58: </span>cid/4-19.png</p>
</div></li>
<li><p>
图 4-20 列出了所有适用于 Flex 项目的属性.
</p>

<div id="orgd3baffb" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/4-20.png" alt="4-20.png" />
</p>
<p><span class="figure-number">Figure 59: </span>cid/4-20.png</p>
</div></li>
<li>许多这些属性同样适用于网格布局(Grid Layout),我将在下一章中讲解.</li>
</ul></li>
<li>通常情况下,你可以按照以下步骤开始使用 Flexbox:
<ul class="org-ul">
<li>确定一个容器及其项目,并在容器上使用 display: flex</li>
<li>如果需要,为容器设置 gap 和/或 flex-direction</li>
<li>在需要控制项目大小的地方,为 Flex 项目声明 flex 值</li>
<li>一旦你将元素大致放置到合适的位置,就可以根据需要添加其他 Flexbox 属性.我的建议是先熟悉我们已经讨
论过的概念.继续阅读本章内容以了解 Flexbox 提供的其他选项,但不必急于将它们全部记住&#x2013;直到你需要时
再学习它们,因为记住所有 align-* 和 justify-* 属性名称可能会有点困难.当你发现需要使用这些属性时,
可以回到这里作为参考.这些最终选项大多都相当直观.</li>
</ul></li>
</ul>
</div>
<div id="outline-container-org5ae1504" class="outline-4">
<h4 id="org5ae1504"><span class="section-number-4">4.4.1.</span> Understanding flex container properties</h4>
<div class="outline-text-4" id="text-4-4-1">
<ul class="org-ul">
<li>有多种属性可以应用于 Flex 容器,以控制其 Flex 项目的布局.第一个是 flex-direction,我已经在第 4.3
节中讲过了.接下来让我们看看其他属性.</li>
</ul>
</div>
<ol class="org-ol">
<li><a id="orgd1b2319"></a>FLEX-WRAP 属性<br />
<div class="outline-text-5" id="text-4-4-1-1">
<ul class="org-ul">
<li>flex-wrap 属性可用于允许 Flex 项目换行到新行(或多行).它可以设置为
<ul class="org-ul">
<li>nowrap(默认值),</li>
<li>wrap</li>
<li>wrap-reverse.</li>
</ul></li>
<li>当启用了换行功能时,项目不会根据其 flex-shrink 值缩小.相反,任何超出 Flex 容器的项目都会换行到新的
一行.</li>
<li>如果 Flex 的方向是 column 或 column-reverse,那么 flex-wrap 将允许 Flex 项目溢出到新的列.不过,这
仅在容器的高度受到限制时才会发生;否则,容器会扩展以容纳其 Flex 项目.</li>
</ul>
</div>
</li>
<li><a id="org989934a"></a>FLEX-FLOW 属性<br />
<div class="outline-text-5" id="text-4-4-1-2">
<ul class="org-ul">
<li>flex-flow 是 flex-direction 和 flex-wrap 的简写属性.
<ul class="org-ul">
<li>例如,flex-flow: column wrap 指定 Flex 项目将从上到下排列,并在必要时换行到新的一列.</li>
</ul></li>
</ul>
</div>
</li>
<li><a id="org5c47c21"></a>JUSTIFY-CONTENT 属性<br />
<div class="outline-text-5" id="text-4-4-1-3">
<ul class="org-ul">
<li>justify-content 属性控制当项目未填满容器时,它们在主轴上的间距.支持的值包括几个新关键词:
<ul class="org-ul">
<li>flex-start</li>
<li>flex-end</li>
<li>center</li>
<li>space-between</li>
<li>space-around</li>
<li>space-evenly.</li>
</ul></li>
<li>默认值 flex-start 将项目堆叠在主轴的起点(在正常行方向上为左侧),除非设置了间隙(gap)或项目有指定
的边距,否则项目之间没有间距.flex-end 将项目堆叠在主轴的末端,而 center 则将它们居中对齐.</li>
<li>值 start 和 end 是逻辑值,根据书写模式将项目左对齐或右对齐,而不考虑主轴方向.值 left 和 right 是绝
对的,始终分别左对齐或右对齐,无论书写模式或 Flex 方向如何.</li>

<li>有三种方法可以均匀地分布 Flex 项目,每种方法在第一个项目之前和最后一个项目之后提供不同的间距:
<ul class="org-ul">
<li>space-between 将第一个项目放在主轴的起点,最后一个项目放在主轴的末端.</li>
<li>space-around 在第一个和最后一个项目外添加的间距是项目之间间距的一半.</li>
<li>space-evenly 在第一个和最后一个项目外添加的间距等于项目之间的间距.</li>
</ul></li>
<li>间距是在计算完边距和 flex-grow 值之后应用的.这意味着,如果任何项目的 flex-grow 值不为零,或者任何
项目在主轴上有自动边距(auto margin),那么 justify-content 将不起作用.</li>
</ul>
</div>
</li>
<li><a id="org07a8322"></a>ALIGN-CONTENT 属性<br />
<div class="outline-text-5" id="text-4-4-1-4">
<ul class="org-ul">
<li>如果启用了换行(使用 flex-wrap),align-content 属性控制 Flex 容器内每一行沿交叉轴的间距.支持的值
包括:
<ul class="org-ul">
<li>flex-start</li>
<li>flex-end</li>
<li>start</li>
<li>end</li>
<li>center</li>
<li>stretch(默认值)</li>
<li>space-between</li>
<li>space-around</li>
<li>space-evenly.</li>
</ul></li>
<li>这些值的间距方式类似于前面提到的 justify-content.</li>
<li>此外,还有一个 place-content 属性,它是 align-content 和 justify-content 的简写形式.</li>
</ul>
</div>
</li>
<li><a id="org6350380"></a>ALIGN-ITEMS 属性<br />
<div class="outline-text-5" id="text-4-4-1-5">
<ul class="org-ul">
<li>justify-content 控制主轴上的项目对齐,而 align-items 则调整项目在交叉轴上的对齐方式.它的默认值是
stretch,这会让所有项目填满容器的高度(在行布局中)或宽度(在列布局中),从而形成等高的列.</li>
<li>其他值允许 Flex 项目自然地调整自身大小,而不是填满容器的大小,概念上类似于 vertical-align 属性:
<ul class="org-ul">
<li>flex-start 和 flex-end 分别将项目对齐到交叉轴的起点或终点(在行中分别为顶部或底部).</li>
<li>start 和 end 是逻辑值,根据 Flex 容器的书写模式对齐项目.</li>
<li>self-start 和 self-end 是逻辑值,根据每个项目的书写模式对齐项目;如果某个 Flex 项目的书写模式与其
Flex 容器不同,这些值与 start 和 end 会有所不同.</li>
<li>center 将项目居中对齐.</li>
<li>baseline 使每个 Flex 项目中第一行文本的基线对齐.基线是文本底边所在的线.如果希望一个 Flex 项目中
的标题(字体较大)与其他项目中的较小字体的基线对齐,baseline 值非常有用.你还可以在此基础上添加
first 或 last,以指定对齐哪一行文本.例如,align-items: last baseline 将对齐每个 Flex 项目中最后
一行文本的基线.</li>
</ul></li>
<li><b>提示</b>:justify-content 和 align-items 的属性名称很容易混淆.我通过回想在文字处理软件中对文本样式的
操作来记住它们:你可以"justify"(对齐)文本使其水平分布到边缘;而类似于 vertical-align,你可以
"align"(对齐)内联项目使其垂直排列.</li>
<li>此外,还有一个 place-items 属性,这是 align-items 和 justify-items 的简写形式.需要注意的是,
justify-items 仅在网格布局(第 5 章)中使用,在 Flex 容器上会被忽略.</li>
</ul>
</div>
</li>
</ol>
</div>
<div id="outline-container-org8629fb3" class="outline-4">
<h4 id="org8629fb3"><span class="section-number-4">4.4.2.</span> Understanding flex item properties</h4>
<div class="outline-text-4" id="text-4-4-2">
<ul class="org-ul">
<li>前面已经描述了 flex-grow,flex-shrink,flex-basis 以及它们的简写属性 flex(参见第 4.2 节).接下来
我们将学习两个用于 Flex 项目的额外属性:align-self 和 order.</li>
</ul>
</div>
<ol class="org-ol">
<li><a id="orgf7b3976"></a>ALIGN-SELF 属性<br />
<div class="outline-text-5" id="text-4-4-2-1">
<ul class="org-ul">
<li>此属性控制某个 Flex 项目在其容器的交叉轴上的对齐方式.它的功能与 Flex 容器的 align-items 属性相同,
但允许你为单个 Flex 项目设置不同的对齐方式.
<ul class="org-ul">
<li>指定值为 auto 时,会继承容器的 align-items 值&#x2013;这是默认值.</li>
</ul></li>
<li>任何其他值都会覆盖容器的设置.align-self 属性支持与 align-items 相同的关键字值:
<ul class="org-ul">
<li>flex-start</li>
<li>flex-end</li>
<li>start</li>
<li>end</li>
<li>self-start</li>
<li>self-end</li>
<li>center</li>
<li>stretch</li>
<li>baseline</li>
</ul></li>
<li>此外,还有一个 place-self 属性,它是 align-self 和 justify-self 的简写形式.需要注意的是,
justify-self 仅在网格布局(第 5 章)中使用,在 Flex 容器中会被忽略.</li>
</ul>
</div>
</li>
<li><a id="orgab43de6"></a>ORDER 属性<br />
<div class="outline-text-5" id="text-4-4-2-2">
<ul class="org-ul">
<li>通常情况下,Flex 项目会按照它们在 HTML 源代码中的顺序进行布局.它们沿主轴从起点开始依次排列.通过使
用 order 属性,你可以更改项目的排列顺序.你可以指定任何整数(正数或负数).如果多个 Flex 项目具有相
同的值,它们会按照源代码中的顺序排列.</li>
<li>初始情况下,所有 Flex 项目的 order 值为 0.为某个项目指定值 -1 会将其移到列表的开头,而值 1 则会将
其移到列表的末尾.你可以为每个项目指定 order 值,以按照自己的需求重新排列它们.这些数字不必是连续的.</li>
<li><b>警告</b>:使用 order 时要谨慎.如果屏幕上的视觉布局顺序与源代码顺序差异过大,可能会影响网站的可访问性
在大多数浏览器中,使用 Tab 键导航时仍会遵循源代码顺序,这可能会让用户感到困惑.针对视障用户的屏幕阅
读软件在大多数情况下也会遵循源代码顺序.</li>
</ul>
</div>
</li>
</ol>
</div>
<div id="outline-container-org2feea56" class="outline-4">
<h4 id="org2feea56"><span class="section-number-4">4.4.3.</span> Using alignment properties</h4>
<div class="outline-text-4" id="text-4-4-3">
<ul class="org-ul">
<li>现在展示如何使用这些属性完成页面的最后部分.最终的部分是一个样式化的价格和一个行动号召 (CTA) 按钮.
当你完成后
<ul class="org-ul">
<li><p>
页面的最后一步应该呈现为图 4-21 所示.
</p>

<div id="org7fb3fa4" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/4-21.png" alt="4-21.png" />
</p>
<p><span class="figure-number">Figure 60: </span>cid/4-21.png</p>
</div></li>
<li><p>
对应的代码如下
</p>
<div class="org-src-container">
<pre class="src src-html">&lt;<span style="color: #721045;">div</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"tile centered stack"</span>&gt;
  &lt;<span style="color: #721045;">small</span>&gt;<span style="color: #000000; background-color: #fbf7f0;">Starting at</span>&lt;/<span style="color: #721045;">small</span>&gt;
  &lt;<span style="color: #721045;">div</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"cost"</span>&gt;
    &lt;<span style="color: #721045;">span</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"cost-currency"</span>&gt;$&lt;/<span style="color: #721045;">span</span>&gt;
    &lt;<span style="color: #721045;">span</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"cost-dollars"</span>&gt;20&lt;/<span style="color: #721045;">span</span>&gt;
    &lt;<span style="color: #721045;">span</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"cost-cents"</span>&gt;.00&lt;/<span style="color: #721045;">span</span>&gt;
  &lt;/<span style="color: #721045;">div</span>&gt;
  &lt;<span style="color: #721045;">a</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"cta-button"</span> <span style="color: #005e8b;">href</span>=<span style="color: #3548cf;">"/pricing"</span>&gt; Sign up &lt;/<span style="color: #721045;">a</span>&gt;
&lt;/<span style="color: #721045;">div</span>&gt;
</pre>
</div></li>
</ul></li>
<li>文本 \(20.00 被包裹在一个 <div class="cost"> 中,你将使用这个元素作为 Flex 容器.它有三个 Flex 项目
  分别用于对齐文本的三个不同部分(\),20 和 .00).</li>
<li>我选择使用 span 而不是 div,因为这些元素默认是内联的.如果 CSS 出现加载失败的情况,$20.00 的文本仍
然会显示在一行上.</li>
<li>在接下来的代码中,你将使用 justify-content 来水平居中容器内的 Flex 项目.然后,你会使用 align-items
和 align-self 来控制它们的垂直对齐方式.
<ul class="org-ul">
<li><p>
将以下代码添加到你的样式表中
</p>
<div class="org-src-container">
<pre class="src src-diff">--- <span style="font-weight: bold;">/Users/fenghaoran/github/cid/code/ch04/listing-4.10.html</span>    2025-06-09 11:17:15
+++ <span style="font-weight: bold;">/Users/fenghaoran/github/cid/code/ch04/listing-4.11.html</span>    2025-06-09 11:17:15
<span style="background-color: #dfd5cf; font-weight: bold;">@@ -92,6 +92,36 @@</span>
         padding: 0.5em 1em;
         cursor: pointer;
       }
<span style="color: #006700; background-color: #c3ebc1;">+</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      .centered {</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        text-align: center;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      }</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      .cost {</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        display: flex;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        justify-content: center;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        align-items: center;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        line-height: 0.7;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      }</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      .cost-currency {</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        font-size: 2rem;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      }</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      .cost-dollars {</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        font-size: 4rem;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      }</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      .cost-cents {</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        font-size: 1.5rem;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        align-self: flex-start;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      }</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      .cta-button {</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        display: block;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        background-color: #cc6b5a;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        color: white;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        padding: 0.5em 1em;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">        text-decoration: none;</span>
<span style="color: #006700; background-color: #c3ebc1;">+</span><span style="color: #005000; background-color: #c3ebc1;">      }</span>
     &lt;/style&gt;
   &lt;/head&gt;
</pre>
</div></li>
<li>这段代码为样式化的 $20.00 布局了 Flexbox,同时定义了一个用于居中其他文本的 centered 类和一个用于
CTA 按钮的 cta-button 类.</li>
<li>这里有一个比较奇怪的声明是 line-height: 0.7.这是因为每个 Flex 项目内文本的行高决定了项目的高度.
这意味着这些元素的高度略高于文本本身的高度&#x2013;一个 em 的高度包括下降部(descenders),但这个文本并
没有下降部,因此这里的字符实际上稍微小于 1 em 的高度.我通过反复试验得出了这个值,直到 20 和 .00
 的顶部在视觉上对齐.关于文本的更多内容,请参见第 13 章.</li>
</ul></li>
<li>Flexbox 是 CSS 的一个巨大进步.一旦你熟悉了它,你可能会有冲动想在页面上的每个地方都使用它.但我建议
你信任正常的文档流,并仅在你明确需要的地方添加 Flexbox.没有理由避免使用它,但也不要疯狂地把所有东
西都当作需要用锤子敲的钉子.</li>
</ul>
</div>
</div>
</div>
</div>
<div id="outline-container-org1af1fb3" class="outline-2">
<h2 id="org1af1fb3"><span class="section-number-2">5.</span> Chapter 5: Grid layout</h2>
<div class="outline-text-2" id="text-5">
<ul class="org-ul">
<li>Flexbox 革新了我们在网页上进行布局的方式,但它只是整个布局工具的一部分.它还有一个"更强大的兄弟":
名为 网格布局模块(Grid Layout Module,简称 Grid) 的规范.这两种规范结合起来,提供了一个功能齐全的
布局引擎.</li>
<li>在本章中,我将向你展示如何开始使用网格布局.我会先概述它的工作原理,然后通过几个示例来说明网格布局
可以实现的各种功能.构建一个基础网格非常简单.而且它足够强大,可以实现复杂的布局,但要做到这一点,
需要学习一些新的属性和关键词.本章将引导你逐步了解这些内容.</li>
<li>CSS 网格允许你定义一个由列和行组成的二维布局,然后将元素放置在网格中.有些元素可能只占据网格中的一
个单元格,而其他元素可以跨越多个列或行.网格的大小可以精确地定义,也可以根据内容的需要自动调整大小
你可以精确地将项目放置在网格中的特定位置,也可以让它们自然地流动以填补空隙.
<ul class="org-ul">
<li><p>
通过网格,你可以构建复杂的布局,比如图 5.1 所示的那种
</p>

<div id="orgf469a96" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/5-1.png" alt="5-1.png" />
</p>
<p><span class="figure-number">Figure 61: </span>cid/5-1.png</p>
</div></li>
</ul></li>
</ul>
</div>
<div id="outline-container-org9b02673" class="outline-3">
<h3 id="org9b02673"><span class="section-number-3">5.1.</span> Building a basic grid</h3>
<div class="outline-text-3" id="text-5-1">
<ul class="org-ul">
<li>网格(Grid)非常灵活,所以我将在本章通过几个示例来说明它的强大功能.
<ul class="org-ul">
<li>首先,你将构建一个非常基础的示例.你将布局六个框,并将其分布在三列中,</li>
<li><p>
如图5-2所示.
</p>

<div id="org4a36573" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/5-2.png" alt="5-2.png" />
</p>
<p><span class="figure-number">Figure 62: </span>cid/5-2.png</p>
</div></li>
<li><p>
该网格的标记代码如下
</p>
<div class="org-src-container">
<pre class="src src-html">&lt;<span style="color: #531ab6;">!doctype</span> html&gt;
&lt;<span style="color: #721045;">html</span> <span style="color: #005e8b;">lang</span>=<span style="color: #3548cf;">"en-US"</span>&gt;
  &lt;<span style="color: #721045;">head</span>&gt;
    &lt;<span style="color: #721045;">style</span>&gt;
      /* styles to be added in the next listing */
    &lt;/<span style="color: #721045;">style</span>&gt;
  &lt;/<span style="color: #721045;">head</span>&gt;
  &lt;<span style="color: #721045;">body</span>&gt;
    &lt;<span style="color: #721045;">div</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"grid"</span>&gt;
      &lt;<span style="color: #721045;">div</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"a"</span>&gt;a&lt;/<span style="color: #721045;">div</span>&gt;
      &lt;<span style="color: #721045;">div</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"b"</span>&gt;b&lt;/<span style="color: #721045;">div</span>&gt;
      &lt;<span style="color: #721045;">div</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"c"</span>&gt;c&lt;/<span style="color: #721045;">div</span>&gt;
      &lt;<span style="color: #721045;">div</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"d"</span>&gt;d&lt;/<span style="color: #721045;">div</span>&gt;
      &lt;<span style="color: #721045;">div</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"e"</span>&gt;e&lt;/<span style="color: #721045;">div</span>&gt;
      &lt;<span style="color: #721045;">div</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"f"</span>&gt;f&lt;/<span style="color: #721045;">div</span>&gt;
    &lt;/<span style="color: #721045;">div</span>&gt;
  &lt;/<span style="color: #721045;">body</span>&gt;
&lt;/<span style="color: #721045;">html</span>&gt;
</pre>
</div></li>
<li>在代码中,我添加了字母 a 到 f,这样可以清楚地看到每个元素在网格中的位置.</li>
</ul></li>
<li>与 Flexbox 一样,网格布局(Grid Layout)应用于 DOM 层级的两个级别.
<ul class="org-ul">
<li>一个设置了 display: grid 的元素会成为网格容器,</li>
<li>其子元素则会成为网格项.</li>
</ul></li>
<li>接下来,你将应用一些新的属性来定义网格的具体细节.
<ul class="org-ul">
<li><p>
将以下代码清单中的样式添加到你的样式表中.
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #721045;">*,</span>
<span style="color: #721045;">::before,</span>
<span style="color: #721045;">::after</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">box-sizing</span>: border-box;
<span style="color: #000000;">}</span>

<span style="color: #721045;">.grid</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">display</span>: grid;
  <span style="color: #531ab6;">grid-template-columns</span>: 1fr 1fr 1fr;
  <span style="color: #531ab6;">grid-template-rows</span>: 1fr 1fr;
  <span style="color: #531ab6;">gap</span>: 0.5em;
<span style="color: #000000;">}</span>

<span style="color: #721045;">.grid &gt; *</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">background-color</span>: <span style="color: #000000; background-color: #a9a9a9;">darkgray</span>;
  <span style="color: #531ab6;">color</span>: <span style="color: #000000; background-color: #ffffff;">white</span>;
  <span style="color: #531ab6;">padding</span>: 2em;
  <span style="color: #531ab6;">border-radius</span>: 0.5em;
<span style="color: #000000;">}</span>
</pre>
</div></li>
<li><p>
这段代码会将六个大小相等的盒子渲染成三列(如图5-2所示).
</p>

<div id="org757f241" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/5-2.png" alt="5-2.png" />
</p>
<p><span class="figure-number">Figure 63: </span>cid/5-2.png</p>
</div></li>
<li>首先,你通过应用 display: grid 定义了一个网格容器.该容器的行为类似于块级元素,会占据 100% 的可用
宽度.</li>
<li>尽管在此代码清单中没有展示,但你也可以使用 inline-grid 值,这种情况下,元素会以内联的方式排列,并
且宽度只会刚好包裹其子元素的内容.不过,你可能不会像使用 display: grid 那样频繁地使用 inline-grid.</li>
<li>接下来是一些新属性:grid-template-columns 和 grid-template-rows.这些属性定义了网格中每列和每行的
大小.在这个示例中,使用了一个新的单位 fr,它表示每列(或每行)的分数单位.这种单位的行为与
Flexbox 中的 flex-grow 因子类似.声明 grid-template-columns: 1fr 1fr 1fr 定义了三个大小相等的列.</li>
<li>你不一定需要为每列或每行都使用分数单位.你也可以使用其他度量单位,比如 px,em 或百分比.你甚至可
以将它们混合使用.例如,grid-template-columns: 300px 1fr 定义了一个宽度固定为 300 像素的列,后面
跟着一个会增长以填充剩余空间的列.而一个 2fr 的列会比一个 1fr 的列宽两倍.</li>
<li>gap 属性定义了每个网格单元之间的间距,就像在 Flexbox 中一样.你还可以选择提供两个值来分别指定垂直
间距和水平间距(例如,gap: 0.5em 1em).</li>
<li><b>注意</b>:当网格规范首次发布时,gap 属性被命名为 grid-gap,所以一些早期的网格示例会使用 grid-gap,
其功能与 gap 相同.后来更通用的 gap 属性被添加进来,并且 Flexbox 也被更新以支持该属性.</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org2cb0f51" class="outline-3">
<h3 id="org2cb0f51"><span class="section-number-3">5.2.</span> Anatomy of a grid</h3>
<div class="outline-text-3" id="text-5-2">
<ul class="org-ul">
<li>理解网格的各个部分非常重要.我们已经提到"网格容器"和"网格项目",它们是构成网格的基本元素.除此之外
还有四个重要的术语需要了解,
<ul class="org-ul">
<li>网格线(Grid line): 网格线构成网格的结构.网格线可以是垂直的或水平的,位于行或列的两侧.如果定义
了间隙(gap),那么间隙的区域位于网格线的顶部.</li>
<li>网格轨道(Grid track):网格轨道是两条相邻网格线之间的空间.网格有水平轨道(行轨道)和垂直轨道(列
轨道).</li>
<li>网格单元(Grid cell):网格单元是网格中的一个单独空间,它是水平网格轨道和垂直网格轨道相交的区域.</li>
<li>网格区域(Grid area):网格区域是网格上的一个矩形区域,由一个或多个网格单元组成.该区域位于两条垂
直网格线和两条水平网格线之间.</li>
</ul></li>
<li><p>
上述术语在图5-3中有所说明:
</p>

<div id="org515e611" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/5-3.png" alt="5-3.png" />
</p>
<p><span class="figure-number">Figure 64: </span>cid/5-3.png</p>
</div></li>
<li>在构建网格布局时,你会经常引用这些网格的组成部分.例如,声明 grid-template-columns: 1fr 1fr 1fr 会
定义三个宽度相等的垂直网格轨道.同时,它还定义了四条垂直网格线:一条位于网格的左边缘,两条位于每个
网格轨道之间,以及一条位于网格的右边缘.</li>
<li>在上一章节中,你使用了flexbox构建了一个页面.现在,让我们重新审视这个设计,并思考如何使用网格布局来实现它.
<ul class="org-ul">
<li><p>
图5.4展示了这个设计,
</p>

<div id="org6a76102" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/5-4.png" alt="5-4.png" />
</p>
<p><span class="figure-number">Figure 65: </span>cid/5-4.png</p>
</div></li>
<li>我在其中添加了虚线以指示每个网格单元的位置.注意到某些部分跨越了多个网格单元,占据了更大的网格区域.</li>
<li>这个网格包含两列和四行.前两个水平网格轨道分别用于页面标题("Ink")和主导航菜单.主内容区域占据了
第一列中剩余的两个单元,而两个侧边栏分别放置在第二列中剩余的两个单元.</li>
</ul></li>
<li>当你使用 flexbox 构建这个页面时,需要以特定的方式嵌套元素.你使用了一个 flexbox 来定义列,并在其中
嵌套了另一个 flexbox 来定义行</li>
<li>而当使用网格(grid)布局来构建这个页面时,你需要采用不同的 HTML 结构:
<ul class="org-ul">
<li>将 HTML 扁平化.放置在网格中的每个元素都必须是主网格容器的子元素.</li>
<li><p>
下面展示了新的标记结构.创建一个新页面如下
</p>
<div class="org-src-container">
<pre class="src src-html">&lt;<span style="color: #531ab6;">!doctype</span> html&gt;
&lt;<span style="color: #721045;">html</span> <span style="color: #005e8b;">lang</span>=<span style="color: #3548cf;">"en-US"</span>&gt;
  &lt;<span style="color: #721045;">head</span>&gt;
    &lt;<span style="color: #721045;">style</span>&gt;
      /* styles to be added in subsequent listings */
    &lt;/<span style="color: #721045;">style</span>&gt;
  &lt;/<span style="color: #721045;">head</span>&gt;
  &lt;<span style="color: #721045;">body</span>&gt;
    &lt;<span style="color: #721045;">div</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"container"</span>&gt;
      &lt;<span style="color: #721045;">header</span>&gt;
        &lt;<span style="color: #721045;">h1</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"page-heading"</span>&gt;<span style="font-weight: bold; text-decoration: underline;">Ink</span>&lt;/<span style="color: #721045;">h1</span>&gt;
      &lt;/<span style="color: #721045;">header</span>&gt;
      &lt;<span style="color: #721045;">nav</span>&gt;
        &lt;<span style="color: #721045;">ul</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"site-nav"</span>&gt;
          &lt;<span style="color: #721045;">li</span>&gt;&lt;<span style="color: #721045;">a</span> <span style="color: #005e8b;">href</span>=<span style="color: #3548cf;">"/"</span>&gt;Home&lt;/<span style="color: #721045;">a</span>&gt;&lt;/<span style="color: #721045;">li</span>&gt;
          &lt;<span style="color: #721045;">li</span>&gt;&lt;<span style="color: #721045;">a</span> <span style="color: #005e8b;">href</span>=<span style="color: #3548cf;">"/features"</span>&gt;Features&lt;/<span style="color: #721045;">a</span>&gt;&lt;/<span style="color: #721045;">li</span>&gt;
          &lt;<span style="color: #721045;">li</span>&gt;&lt;<span style="color: #721045;">a</span> <span style="color: #005e8b;">href</span>=<span style="color: #3548cf;">"/pricing"</span>&gt;Pricing&lt;/<span style="color: #721045;">a</span>&gt;&lt;/<span style="color: #721045;">li</span>&gt;
          &lt;<span style="color: #721045;">li</span>&gt;&lt;<span style="color: #721045;">a</span> <span style="color: #005e8b;">href</span>=<span style="color: #3548cf;">"/support"</span>&gt;Support&lt;/<span style="color: #721045;">a</span>&gt;&lt;/<span style="color: #721045;">li</span>&gt;
          &lt;<span style="color: #721045;">li</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"nav-right"</span>&gt;
            &lt;<span style="color: #721045;">a</span> <span style="color: #005e8b;">href</span>=<span style="color: #3548cf;">"/about"</span>&gt;About&lt;/<span style="color: #721045;">a</span>&gt;
          &lt;/<span style="color: #721045;">li</span>&gt;
        &lt;/<span style="color: #721045;">ul</span>&gt;
      &lt;/<span style="color: #721045;">nav</span>&gt;
      &lt;<span style="color: #721045;">main</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"main tile"</span>&gt;
        &lt;<span style="color: #721045;">h1</span>&gt;<span style="font-weight: bold; text-decoration: underline;">Team collaboration done right</span>&lt;/<span style="color: #721045;">h1</span>&gt;
        &lt;<span style="color: #721045;">p</span>&gt;
          Thousands of teams from all over the world turn to &lt;<span style="color: #721045;">b</span>&gt;<span style="font-weight: bold;">Ink</span>&lt;/<span style="color: #721045;">b</span>&gt; to
          communicate and get things done.
        &lt;/<span style="color: #721045;">p</span>&gt;
      &lt;/<span style="color: #721045;">main</span>&gt;
      &lt;<span style="color: #721045;">div</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"sidebar-top tile"</span>&gt;
        &lt;<span style="color: #721045;">form</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"login-form"</span>&gt;
          &lt;<span style="color: #721045;">h3</span>&gt;<span style="font-style: italic; text-decoration: underline;">Login</span>&lt;/<span style="color: #721045;">h3</span>&gt;
          &lt;<span style="color: #721045;">p</span>&gt;
            &lt;<span style="color: #721045;">label</span> <span style="color: #005e8b;">for</span>=<span style="color: #3548cf;">"username"</span>&gt;Username&lt;/<span style="color: #721045;">label</span>&gt;
            &lt;<span style="color: #721045;">input</span> <span style="color: #005e8b;">id</span>=<span style="color: #3548cf;">"username"</span> <span style="color: #005e8b;">type</span>=<span style="color: #3548cf;">"text"</span> <span style="color: #005e8b;">name</span>=<span style="color: #3548cf;">"username"</span> /&gt;
          &lt;/<span style="color: #721045;">p</span>&gt;
          &lt;<span style="color: #721045;">p</span>&gt;
            &lt;<span style="color: #721045;">label</span> <span style="color: #005e8b;">for</span>=<span style="color: #3548cf;">"password"</span>&gt;Password&lt;/<span style="color: #721045;">label</span>&gt;
            &lt;<span style="color: #721045;">input</span> <span style="color: #005e8b;">id</span>=<span style="color: #3548cf;">"password"</span> <span style="color: #005e8b;">type</span>=<span style="color: #3548cf;">"password"</span> <span style="color: #005e8b;">name</span>=<span style="color: #3548cf;">"password"</span> /&gt;
          &lt;/<span style="color: #721045;">p</span>&gt;
          &lt;<span style="color: #721045;">button</span> <span style="color: #005e8b;">type</span>=<span style="color: #3548cf;">"submit"</span>&gt;Login&lt;/<span style="color: #721045;">button</span>&gt;
        &lt;/<span style="color: #721045;">form</span>&gt;
      &lt;/<span style="color: #721045;">div</span>&gt;
      &lt;<span style="color: #721045;">div</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"sidebar-bottom tile centered stack"</span>&gt;
        &lt;<span style="color: #721045;">small</span>&gt;<span style="color: #000000; background-color: #fbf7f0;">Starting at</span>&lt;/<span style="color: #721045;">small</span>&gt;
        &lt;<span style="color: #721045;">div</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"cost"</span>&gt;
          &lt;<span style="color: #721045;">span</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"cost-currency"</span>&gt;$&lt;/<span style="color: #721045;">span</span>&gt;
          &lt;<span style="color: #721045;">span</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"cost-dollars"</span>&gt;20&lt;/<span style="color: #721045;">span</span>&gt;
          &lt;<span style="color: #721045;">span</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"cost-cents"</span>&gt;.00&lt;/<span style="color: #721045;">span</span>&gt;
        &lt;/<span style="color: #721045;">div</span>&gt;
        &lt;<span style="color: #721045;">a</span> <span style="color: #005e8b;">class</span>=<span style="color: #3548cf;">"cta-button"</span> <span style="color: #005e8b;">href</span>=<span style="color: #3548cf;">"/pricing"</span>&gt; Sign up &lt;/<span style="color: #721045;">a</span>&gt;
      &lt;/<span style="color: #721045;">div</span>&gt;
    &lt;/<span style="color: #721045;">div</span>&gt;
  &lt;/<span style="color: #721045;">body</span>&gt;
&lt;/<span style="color: #721045;">html</span>&gt;
</pre>
</div></li>

<li>在这个版本的页面中,每个部分都被作为一个网格项目放置在网格中,包括:页眉(header),菜单(nav),
主内容区域(main)和两个侧边栏.</li>
<li>我还为主内容区域和两个侧边栏添加了 tile 类,因为这个类提供了这些元素共有的白色背景色和内边距.</li>
</ul></li>
<li>让我们为页面应用一个网格布局,并将每个部分放置到合适的位置.稍后我们会从第 4 章的版本中引入许多样式
但首先,让我们先确定页面的大致结构.在构建基础网格之后
<ul class="org-ul">
<li><p>
页面将如图 5.5 所示.
</p>

<div id="orgc61e098" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/5-5.png" alt="5-5.png" />
</p>
<p><span class="figure-number">Figure 66: </span>cid/5-5.png</p>
</div></li>
<li><p>
下面是具体代码
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #721045;">*,</span>
<span style="color: #721045;">::before,</span>
<span style="color: #721045;">::after</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">box-sizing</span>: border-box;
<span style="color: #000000;">}</span>

<span style="color: #721045;">:root</span> <span style="color: #000000;">{</span>
  <span style="color: #005e8b;">--gap-size</span>: 1.5rem;
<span style="color: #000000;">}</span>

<span style="color: #721045;">body</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">background-color</span>: <span style="color: #ffffff; background-color: #709b90;">#709b90</span>;
  <span style="color: #531ab6;">font-family</span>: Helvetica, Arial, sans-serif;
<span style="color: #000000;">}</span>

<span style="color: #721045;">.stack &gt; * + *</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">margin-block-start</span>: 1.5em;
<span style="color: #000000;">}</span>

<span style="color: #721045;">.container</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">display</span>: grid;
  <span style="color: #531ab6;">grid-template-columns</span>: 2fr 1fr;
  <span style="color: #531ab6;">grid-template-rows</span>: repeat<span style="color: #dd22dd;">(</span>4, auto<span style="color: #dd22dd;">)</span>;
  <span style="color: #531ab6;">gap</span>: var<span style="color: #dd22dd;">(</span><span style="color: #005e8b;">--gap-size</span><span style="color: #dd22dd;">)</span>;
  <span style="color: #531ab6;">max-inline-size</span>: 1080px;
  <span style="color: #531ab6;">margin-inline</span>: auto;
<span style="color: #000000;">}</span>

<span style="color: #721045;">header,</span>
<span style="color: #721045;">nav</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">grid-column</span>: 1 / 3;
  <span style="color: #531ab6;">grid-row</span>: span 1;
<span style="color: #000000;">}</span>

<span style="color: #721045;">.main</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">grid-column</span>: 1 / 2;
  <span style="color: #531ab6;">grid-row</span>: 3 / 5;
<span style="color: #000000;">}</span>

<span style="color: #721045;">.sidebar-top</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">grid-column</span>: 2 / 3;
  <span style="color: #531ab6;">grid-row</span>: 3 / 4;
<span style="color: #000000;">}</span>

<span style="color: #721045;">.sidebar-bottom</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">grid-column</span>: 2 / 3;
  <span style="color: #531ab6;">grid-row</span>: 4 / 5;
<span style="color: #000000;">}</span>

<span style="color: #721045;">.tile</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">padding</span>: 1.5em;
  <span style="color: #531ab6;">background-color</span>: <span style="color: #000000; background-color: #fff;">#fff</span>;
<span style="color: #000000;">}</span>

.tile &gt; :first-child <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">margin-top</span>: 0;
<span style="color: #000000;">}</span>

<span style="color: #721045;">.page-heading</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">margin</span>: 0;
<span style="color: #000000;">}</span>

<span style="color: #721045;">.site-nav</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">display</span>: flex;
  <span style="color: #531ab6;">gap</span>: var<span style="color: #dd22dd;">(</span><span style="color: #005e8b;">--gap-size</span><span style="color: #dd22dd;">)</span>;
  <span style="color: #531ab6;">margin</span>: 0;
  <span style="color: #531ab6;">padding</span>: 0.5em;
  <span style="color: #531ab6;">background-color</span>: <span style="color: #ffffff; background-color: #5f4b44;">#5f4b44</span>;
  <span style="color: #531ab6;">list-style-type</span>: none;
<span style="color: #000000;">}</span>

<span style="color: #721045;">.site-nav &gt; li &gt; a</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">display</span>: block;
  <span style="color: #531ab6;">padding</span>: 0.5em 1em;
  <span style="color: #531ab6;">background-color</span>: <span style="color: #ffffff; background-color: #cc6b5a;">#cc6b5a</span>;
  <span style="color: #531ab6;">color</span>: <span style="color: #000000; background-color: #ffffff;">white</span>;
  <span style="color: #531ab6;">text-decoration</span>: none;
<span style="color: #000000;">}</span>

<span style="color: #721045;">.site-nav &gt; .nav-right</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">margin-inline-start</span>: auto;
<span style="color: #000000;">}</span>

<span style="color: #721045;">.login-form h3</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">margin</span>: 0;
  <span style="color: #531ab6;">font-size</span>: 0.9em;
  <span style="color: #531ab6;">font-weight</span>: bold;
  <span style="color: #531ab6;">text-align</span>: right;
  <span style="color: #531ab6;">text-transform</span>: uppercase;
<span style="color: #000000;">}</span>

.login-form input:not<span style="color: #000000;">(</span><span style="color: #dd22dd;">[</span>type=<span style="color: #3548cf;">"checkbox"</span><span style="color: #dd22dd;">]</span><span style="color: #000000;">)</span>:not<span style="color: #000000;">(</span><span style="color: #dd22dd;">[</span>type=<span style="color: #3548cf;">"radio"</span><span style="color: #dd22dd;">]</span><span style="color: #000000;">)</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">display</span>: block;
  <span style="color: #531ab6;">width</span>: 100%;
<span style="color: #000000;">}</span>

<span style="color: #721045;">.login-form button</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">margin-block-start</span>: 1em;
  <span style="color: #531ab6;">border</span>: 1px solid <span style="color: #ffffff; background-color: #cc6b5a;">#cc6b5a</span>;
  <span style="color: #531ab6;">background-color</span>: <span style="color: #000000; background-color: #ffffff;">white</span>;
  <span style="color: #531ab6;">padding</span>: 0.5em 1em;
  <span style="color: #531ab6;">cursor</span>: pointer;
<span style="color: #000000;">}</span>

<span style="color: #721045;">.centered</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">text-align</span>: center;
<span style="color: #000000;">}</span>

<span style="color: #721045;">.cost</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">display</span>: flex;
  <span style="color: #531ab6;">justify-content</span>: center;
  <span style="color: #531ab6;">align-items</span>: center;
  <span style="color: #531ab6;">line-height</span>: 0.7;
<span style="color: #000000;">}</span>

<span style="color: #721045;">.cost-currency</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">font-size</span>: 2rem;
<span style="color: #000000;">}</span>
<span style="color: #721045;">.cost-dollars</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">font-size</span>: 4rem;
<span style="color: #000000;">}</span>
<span style="color: #721045;">.cost-cents</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">font-size</span>: 1.5rem;
  <span style="color: #531ab6;">align-self</span>: flex-start;
<span style="color: #000000;">}</span>

<span style="color: #721045;">.cta-button</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">display</span>: block;
  <span style="color: #531ab6;">background-color</span>: <span style="color: #ffffff; background-color: #cc6b5a;">#cc6b5a</span>;
  <span style="color: #531ab6;">color</span>: <span style="color: #000000; background-color: #ffffff;">white</span>;
  <span style="color: #531ab6;">padding</span>: 0.5em 1em;
  <span style="color: #531ab6;">text-decoration</span>: none;
<span style="color: #000000;">}</span>
</pre>
</div></li>
<li>你已经设置了网格容器,并通过 grid-template-columns 和 grid-template-rows 定义了网格轨道.列是使用
分数单位(fraction units)定义的:2fr 和 1fr,因此第一列的增长量将是第二列的两倍.</li>
<li>行使用了一种新的方法:repeat() 函数.这个函数为声明多个网格轨道提供了一种简写方式.</li>
<li>声明 grid-template-rows: repeat(4, auto) 定义了四个高度为 auto 的水平网格轨道.这等同于
grid-template-rows: auto auto auto auto.</li>
<li>轨道大小为 auto 时,会根据其内容的大小按需增长.</li>
<li><p>
你还可以使用 repeat() 表示重复的模式.例如,repeat(3, 2fr 1fr) 定义了六个网格轨道,通过重复该模式
三次,结果为 2fr 1fr 2fr 1fr 2fr 1fr.图 5.6 展示了由此产生的列布局.
</p>

<div id="org9e6562c" class="figure">
<p><img src="https://raw.githubusercontent.com/harrifeng/image/master/cid/5-6.png" alt="5-6.png" />
</p>
<p><span class="figure-number">Figure 67: </span>cid/5-6.png</p>
</div></li>
<li>此外,你可以在更复杂的模式中使用 repeat().例如,grid-template-columns: 1fr repeat(3, 3fr) 1fr 定
义了一个 1fr 列,接着是三个 3fr 列,然后再是另一个 1fr 列(即 1fr 3fr 3fr 3fr 1fr).正如你所看到
的,完整写法(longhand)在视觉上稍显复杂,这也是为什么 repeat() 简写非常实用的原因.</li>
</ul></li>
</ul>
</div>
<div id="outline-container-orgaf1a525" class="outline-4">
<h4 id="orgaf1a525"><span class="section-number-4">5.2.1.</span> Numbering grid lines</h4>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: harrifeng@outlook.com</p>
<p class="date">Created: 2025-07-21 Mon 16:15</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
